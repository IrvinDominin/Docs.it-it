---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Introduzione all'identità ASP.NET | Documenti Microsoft
author: jongalloway
description: Il sistema di appartenenze ASP.NET è stata introdotta con ASP.NET 2.0 nel 2005 e, poiché quindi typicall di applicazioni web di modi sono state apportate molte modifiche...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2013
ms.topic: article
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 59272f4659256e108ee99b22eb3bd3e2583a617c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30874096"
---
<a name="introduction-to-aspnet-identity"></a><span data-ttu-id="47dae-103">Introduzione all'identità di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="47dae-103">Introduction to ASP.NET Identity</span></span>
====================
<span data-ttu-id="47dae-104">dal [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="47dae-104">by [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="47dae-105">Il sistema di appartenenze ASP.NET è stata introdotta con ASP.NET 2.0 nel 2005 e, poiché quindi le modalità con le applicazioni web in genere di gestire l'autenticazione e autorizzazione sono state apportate molte modifiche.</span><span class="sxs-lookup"><span data-stu-id="47dae-105">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="47dae-106">Identità di ASP.NET è un nuovo approccio alla quale deve essere il sistema di appartenenze quando si compilano applicazioni moderne per il web, un telefono o tablet.</span><span class="sxs-lookup"><span data-stu-id="47dae-106">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>
> 
> <span data-ttu-id="47dae-107">In questo articolo è stato scritto dal Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra e Rick Anderson ([ @RickAndMSFT ](https://twitter.com/#!/RickAndMSFT) ).</span><span class="sxs-lookup"><span data-stu-id="47dae-107">This article was written by Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra, and Rick Anderson ([@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ).</span></span>


## <a name="background-membership-in-aspnet"></a><span data-ttu-id="47dae-108">Sfondo: L'appartenenza ASP.NET</span><span class="sxs-lookup"><span data-stu-id="47dae-108">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="47dae-109">Appartenenza ASP.NET</span><span class="sxs-lookup"><span data-stu-id="47dae-109">ASP.NET Membership</span></span>

<span data-ttu-id="47dae-110">[L'appartenenza ASP.NET](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) è stato progettato per soddisfare i requisiti di appartenenza sito comuni nel 2005, che comportano autenticazione basata su form e un database di SQL Server per i nomi utente, password e i dati di profilo.</span><span class="sxs-lookup"><span data-stu-id="47dae-110">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="47dae-111">Oggi è una matrice di dimensioni molto più ampia di opzioni di archiviazione di dati per le applicazioni web e la maggior parte degli sviluppatori desiderano abilitare i siti di utilizzare il provider di identità di social networking per la funzionalità di autenticazione e autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="47dae-111">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="47dae-112">Le limitazioni di progettazione dell'appartenenza ASP.NET rendono difficile la transizione:</span><span class="sxs-lookup"><span data-stu-id="47dae-112">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="47dae-113">Lo schema del database è stato progettato per SQL Server e non è possibile modificare.</span><span class="sxs-lookup"><span data-stu-id="47dae-113">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="47dae-114">È possibile aggiungere informazioni sul profilo, ma i dati aggiuntivi vengono compressi in una tabella diversa, che rende difficile per l'accesso con qualsiasi mezzo, ad eccezione tramite l'API del Provider di profilo.</span><span class="sxs-lookup"><span data-stu-id="47dae-114">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="47dae-115">Il sistema del provider consente di modificare l'archivio dati sottostante, ma il sistema viene progettato attorno a presupposti appropriati per un database relazionale.</span><span class="sxs-lookup"><span data-stu-id="47dae-115">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="47dae-116">È possibile scrivere un provider per archiviare le informazioni di appartenenza in un meccanismo di archiviazione non relazionali, ad esempio tabelle di archiviazione di Azure, ma è necessario risolvere la struttura relazionale mediante la scrittura di una grande quantità di codice e molte `System.NotImplementedException` eccezioni per i metodi che non applicare ai database NoSQL.</span><span class="sxs-lookup"><span data-stu-id="47dae-116">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing a lot of code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="47dae-117">Poiché la funzionalità log in/log out si basa sull'autenticazione basata su form, il sistema di appartenenze non può usare [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span><span class="sxs-lookup"><span data-stu-id="47dae-117">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="47dae-118">OWIN include i componenti middleware per l'autenticazione, incluso il supporto per i provider di identità esterno (ad esempio Accounts Microsoft, Facebook, Google, Twitter) utilizzando l'account di accesso e di log aggiuntivi usando gli account aziendali da Active Directory locale o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="47dae-118">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="47dae-119">OWIN include inoltre il supporto per OAuth 2.0 e JWT CORS.</span><span class="sxs-lookup"><span data-stu-id="47dae-119">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="47dae-120">Appartenenza ASP.NET semplici</span><span class="sxs-lookup"><span data-stu-id="47dae-120">ASP.NET Simple Membership</span></span>

<span data-ttu-id="47dae-121">[Appartenenza semplice ASP.NET](../../../web-pages/overview/security/16-adding-security-and-membership.md) è stato sviluppato come un sistema di appartenenze di ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="47dae-121">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="47dae-122">È stata rilasciata con WebMatrix e Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="47dae-122">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="47dae-123">L'obiettivo di appartenenza semplice era rendono più semplice aggiungere funzionalità di appartenenza a un'applicazione Web Pages.</span><span class="sxs-lookup"><span data-stu-id="47dae-123">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="47dae-124">Appartenenza semplice rendere più semplice personalizzare le informazioni utente, ma ancora condivide gli altri problemi con l'appartenenza ASP.NET e presenta alcune limitazioni:</span><span class="sxs-lookup"><span data-stu-id="47dae-124">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="47dae-125">È difficile da rendere persistenti i dati di sistema di appartenenza in un archivio non relazionali.</span><span class="sxs-lookup"><span data-stu-id="47dae-125">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="47dae-126">È possibile utilizzarlo con OWIN.</span><span class="sxs-lookup"><span data-stu-id="47dae-126">You can't use it with OWIN.</span></span>
- <span data-ttu-id="47dae-127">Non funziona correttamente con il provider di appartenenze ASP.NET esistenti e non è estendibile.</span><span class="sxs-lookup"><span data-stu-id="47dae-127">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="47dae-128">Provider universali di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="47dae-128">ASP.NET Universal Providers</span></span>

<span data-ttu-id="47dae-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) sono stati sviluppati per consentono di rendere persistenti le informazioni di appartenenza in Microsoft Azure SQL Database e funzionano anche con SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="47dae-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="47dae-130">I provider universali sono stati compilati su Entity Framework Code First, che significa che i provider universali possono essere usati per rendere persistenti i dati in qualsiasi archivio supportata da Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="47dae-130">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="47dae-131">Con i provider universali, sono stato eliminato numerose anche lo schema del database.</span><span class="sxs-lookup"><span data-stu-id="47dae-131">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="47dae-132">I provider universali sono basati sull'infrastruttura di appartenenza ASP.NET, che comportano comunque le stesse limitazioni di Provider di SqlMembership.</span><span class="sxs-lookup"><span data-stu-id="47dae-132">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="47dae-133">Vale a dire che sono state progettate per i database relazionali ed è difficile personalizzare le informazioni del profilo e l'utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-133">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="47dae-134">Questi provider usare ancora autenticazione basata su form per la funzionalità di accesso e di log.</span><span class="sxs-lookup"><span data-stu-id="47dae-134">These providers also still use Forms Authentication for log-in and log-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="47dae-135">Identità ASP.NET</span><span class="sxs-lookup"><span data-stu-id="47dae-135">ASP.NET Identity</span></span>

<span data-ttu-id="47dae-136">Come l'appartenenza storia in ASP.NET è stato migliorato nel corso degli anni, il team di ASP.NET ha appreso molto da commenti e suggerimenti dei clienti.</span><span class="sxs-lookup"><span data-stu-id="47dae-136">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="47dae-137">Si presuppone che gli utenti avranno accesso immettendo un nome utente e una password registrati in un'applicazione non è più valido.</span><span class="sxs-lookup"><span data-stu-id="47dae-137">The assumption that users will log in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="47dae-138">Il web è diventato più sociale.</span><span class="sxs-lookup"><span data-stu-id="47dae-138">The web has become more social.</span></span> <span data-ttu-id="47dae-139">Gli utenti interagiscono tra loro in tempo reale tramite canali di social networking, ad esempio Facebook, Twitter e ad altri siti web sociali.</span><span class="sxs-lookup"><span data-stu-id="47dae-139">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="47dae-140">Gli sviluppatori che gli utenti in grado di accedere con le identità di social networking, in modo che abbiano una ricca esperienza nei loro siti web.</span><span class="sxs-lookup"><span data-stu-id="47dae-140">Developers want users to be able to log in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="47dae-141">Un sistema di appartenenze moderna necessario abilitare l'account di accesso basata sul reindirizzamento al provider di autenticazione, ad esempio Facebook, Twitter e altri.</span><span class="sxs-lookup"><span data-stu-id="47dae-141">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="47dae-142">Come lo sviluppo web, pertanto, non i modelli di sviluppo web.</span><span class="sxs-lookup"><span data-stu-id="47dae-142">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="47dae-143">Unit test del codice dell'applicazione è diventato un problema di base per gli sviluppatori di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="47dae-143">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="47dae-144">2008 ASP.NET ha aggiunto un nuovo framework in base al modello Model-View-Controller (MVC), in parte per consentire agli sviluppatori di applicazioni ASP.NET testabili unità di compilazione.</span><span class="sxs-lookup"><span data-stu-id="47dae-144">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="47dae-145">Gli sviluppatori che desiderano unit test di logica dell'applicazione a cui si desidera inoltre in grado di eseguire questa operazione con il sistema di appartenenze.</span><span class="sxs-lookup"><span data-stu-id="47dae-145">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="47dae-146">Considerando le modifiche nello sviluppo di applicazioni web, ASP.NET Identity è stata sviluppata con gli obiettivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="47dae-146">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="47dae-147">**Un sistema di identità di ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="47dae-147">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="47dae-148">ASP.NET Identity può essere utilizzato con tutti i framework ASP.NET, ad esempio ASP.NET MVC, Web Form, pagine Web, Web API e SignalR.</span><span class="sxs-lookup"><span data-stu-id="47dae-148">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="47dae-149">Identità di ASP.NET può essere utilizzata quando si compilano applicazioni web, telefono, archivio o ibrida.</span><span class="sxs-lookup"><span data-stu-id="47dae-149">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="47dae-150">**Facilità di inserimento di dati del profilo relativi all'utente**</span><span class="sxs-lookup"><span data-stu-id="47dae-150">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="47dae-151">Si possono controllare lo schema dell'utente e informazioni sul profilo.</span><span class="sxs-lookup"><span data-stu-id="47dae-151">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="47dae-152">Ad esempio, è possibile abilitare facilmente il sistema archiviare le date di nascita immesse dagli utenti quando registrano un account nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="47dae-152">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="47dae-153">**Controllo di persistenza**</span><span class="sxs-lookup"><span data-stu-id="47dae-153">**Persistence control**</span></span>

    - <span data-ttu-id="47dae-154">Per impostazione predefinita, il sistema di identità ASP.NET archivia tutte le informazioni utente in un database.</span><span class="sxs-lookup"><span data-stu-id="47dae-154">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="47dae-155">Identità di ASP.NET utilizza Code First di Entity Framework per implementare tutti un meccanismo di persistenza.</span><span class="sxs-lookup"><span data-stu-id="47dae-155">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="47dae-156">Poiché si controllano di schema del database, le attività comuni, ad esempio la modifica dei nomi di tabella o la modifica il tipo di dati di chiavi primarie è semplice.</span><span class="sxs-lookup"><span data-stu-id="47dae-156">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="47dae-157">È facile inserire i meccanismi di archiviazione diversi, ad esempio SharePoint, servizio tabella di archiviazione di Azure, nei database NoSQL, e così via, senza dover generare `System.NotImplementedExceptions` eccezioni.</span><span class="sxs-lookup"><span data-stu-id="47dae-157">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="47dae-158">**Testabilità unità**</span><span class="sxs-lookup"><span data-stu-id="47dae-158">**Unit testability**</span></span>

    - <span data-ttu-id="47dae-159">ASP.NET Identity rende l'applicazione web di altre unità verificabili.</span><span class="sxs-lookup"><span data-stu-id="47dae-159">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="47dae-160">È possibile scrivere unit test per le parti dell'applicazione che utilizzano ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="47dae-160">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="47dae-161">**Provider di ruoli**</span><span class="sxs-lookup"><span data-stu-id="47dae-161">**Role provider**</span></span>

    - <span data-ttu-id="47dae-162">È un provider di ruoli che consente di limitare l'accesso a parti dell'applicazione dai ruoli.</span><span class="sxs-lookup"><span data-stu-id="47dae-162">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="47dae-163">Facilmente, è possibile creare ruoli, ad esempio "Admin" e aggiungere utenti ai ruoli.</span><span class="sxs-lookup"><span data-stu-id="47dae-163">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="47dae-164">**Basata sulle attestazioni**</span><span class="sxs-lookup"><span data-stu-id="47dae-164">**Claims Based**</span></span>

    - <span data-ttu-id="47dae-165">Identità di ASP.NET supporta l'autenticazione basata sulle attestazioni, in cui l'identità dell'utente è rappresentato come un set di attestazioni.</span><span class="sxs-lookup"><span data-stu-id="47dae-165">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="47dae-166">Le attestazioni consentono agli sviluppatori di essere molto più espressivo descrivere l'identità dell'utente con più ruoli.</span><span class="sxs-lookup"><span data-stu-id="47dae-166">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="47dae-167">Mentre l'appartenenza al ruolo è semplicemente un valore booleano (membro o membro non), un'attestazione può includere informazioni dettagliate sulle identità e l'appartenenza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-167">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="47dae-168">**Provider di accesso social networking**</span><span class="sxs-lookup"><span data-stu-id="47dae-168">**Social Login Providers**</span></span>

    - <span data-ttu-id="47dae-169">Facilmente aggiungere account di accesso social networking, ad esempio Account Microsoft, Facebook, Twitter, Google e ad altri utenti nell'applicazione e archiviare i dati specifici dell'utente nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="47dae-169">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>
- <span data-ttu-id="47dae-170">**Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="47dae-170">**Azure Active Directory**</span></span>

    - <span data-ttu-id="47dae-171">È anche possibile aggiungere la funzionalità di accesso tramite Azure Active Directory e archiviare i dati specifici dell'utente nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="47dae-171">You can also add log-in functionality using Azure Active Directory, and store the user-specific data in your application.</span></span> <span data-ttu-id="47dae-172">Per ulteriori informazioni, vedere [account aziendali](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) nella creazione di progetti Web ASP.NET in Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="47dae-172">For more information, see [Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="47dae-173">**Integrazione di OWIN**</span><span class="sxs-lookup"><span data-stu-id="47dae-173">**OWIN Integration**</span></span>

    - <span data-ttu-id="47dae-174">Autenticazione ASP.NET è basata su middleware OWIN che può essere usato in qualsiasi host basato su OWIN.</span><span class="sxs-lookup"><span data-stu-id="47dae-174">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="47dae-175">Identità di ASP.NET non dispone di tutte le dipendenze in System. Web.</span><span class="sxs-lookup"><span data-stu-id="47dae-175">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="47dae-176">È un framework OWIN completamente conforme e può essere utilizzato in qualsiasi applicazione OWIN ospitato.</span><span class="sxs-lookup"><span data-stu-id="47dae-176">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="47dae-177">Identità ASP.NET usa l'autenticazione OWIN per log in/log out di utenti nel sito web.</span><span class="sxs-lookup"><span data-stu-id="47dae-177">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="47dae-178">Ciò significa che anziché FormsAuthentication per generare il cookie, l'applicazione utilizza OWIN CookieAuthentication a tale scopo.</span><span class="sxs-lookup"><span data-stu-id="47dae-178">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="47dae-179">**Pacchetto NuGet**</span><span class="sxs-lookup"><span data-stu-id="47dae-179">**NuGet package**</span></span>

    - <span data-ttu-id="47dae-180">ASP.NET Identity viene ridistribuito come pacchetto NuGet che viene installato nei modelli ASP.NET MVC, Web Form e l'API Web forniti con Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="47dae-180">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2013.</span></span> <span data-ttu-id="47dae-181">È possibile scaricare il pacchetto NuGet dalla raccolta NuGet.</span><span class="sxs-lookup"><span data-stu-id="47dae-181">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="47dae-182">Il rilascio di ASP.NET Identity come un NuGet pacchetto rende più semplice per il team ASP.NET eseguire l'iterazione su nuove funzionalità e correzioni di bug e il recapito per gli sviluppatori in modo agile.</span><span class="sxs-lookup"><span data-stu-id="47dae-182">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="getting-started-with-aspnet-identity"></a><span data-ttu-id="47dae-183">Introduzione a ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="47dae-183">Getting started with ASP.NET Identity</span></span>

<span data-ttu-id="47dae-184">Identità di ASP.NET viene utilizzato nei modelli di progetto di Visual Studio 2013 per ASP.NET MVC, Web Form, API Web e SPA.</span><span class="sxs-lookup"><span data-stu-id="47dae-184">ASP.NET Identity is used in the Visual Studio 2013 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="47dae-185">In questa procedura dettagliata, si sarà viene illustrato come utilizzano ASP.NET Identity di modelli di progetto per aggiungere funzionalità a registrare, accedere e disconnettersi da un utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-185">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, log in and log out a user.</span></span>

<span data-ttu-id="47dae-186">ASP.NET Identity viene implementata utilizzando la procedura seguente.</span><span class="sxs-lookup"><span data-stu-id="47dae-186">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="47dae-187">Lo scopo di questo articolo è offrono una panoramica di alto livello dell'identità di ASP.NET. è possibile seguire dettagliatamente o solo leggere i dettagli.</span><span class="sxs-lookup"><span data-stu-id="47dae-187">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="47dae-188">Per istruzioni più dettagliate sulla creazione di applicazioni utilizzando l'identità di ASP.NET, tra cui usando la nuova API per aggiungere gli utenti, ruoli e le informazioni sul profilo, vedere la sezione passaggi successivi alla fine di questo articolo.</span><span class="sxs-lookup"><span data-stu-id="47dae-188">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="47dae-189">Creare un'applicazione MVC ASP.NET con singoli account.</span><span class="sxs-lookup"><span data-stu-id="47dae-189">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="47dae-190">È possibile utilizzare ASP.NET Identity in ASP.NET MVC, Web Form, API Web, e così via SignalR. In questo articolo si inizierà con un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-190">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="47dae-191">Il progetto creato contiene i seguenti tre pacchetti per l'identità ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-191">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="47dae-192">Questo pacchetto è l'implementazione di Entity Framework di ASP.NET Identity, che verranno mantenuti i dati di ASP.NET Identity e schema a SQL Server.</span><span class="sxs-lookup"><span data-stu-id="47dae-192">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="47dae-193">Questo pacchetto contiene le interfacce di base per ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="47dae-193">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="47dae-194">Questo pacchetto può essere usato per scrivere un'implementazione per ASP.NET Identity che persistenza diverse destinazioni vengono archiviate come tabella di archiviazione di Azure, NoSQL database e così via.</span><span class="sxs-lookup"><span data-stu-id="47dae-194">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="47dae-195">Questo pacchetto contiene funzionalità che vengono utilizzati per collegare l'autenticazione OWIN con identità di ASP.NET nelle applicazioni ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-195">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="47dae-196">Viene utilizzato quando si aggiunge log funzionalità all'applicazione e una chiamata nel middleware di autenticazione dei Cookie OWIN per generare un cookie.</span><span class="sxs-lookup"><span data-stu-id="47dae-196">This is used when you add log in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="47dae-197">Creazione di un utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-197">Creating a user.</span></span>  
   <span data-ttu-id="47dae-198">Avviare l'applicazione e quindi fare clic su di **registrare** collegamento per creare un utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-198">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="47dae-199">La figura seguente mostra la pagina di registrazione che raccoglie il nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="47dae-199">The following image shows the Register page which collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="47dae-200">Quando l'utente sceglie il **registrare** pulsante, il `Register` azione del controller di Account consente all'utente chiamando l'API di identità di ASP.NET, come evidenziato qui sotto:</span><span class="sxs-lookup"><span data-stu-id="47dae-200">When the user clicks the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="47dae-201">Accedi.</span><span class="sxs-lookup"><span data-stu-id="47dae-201">Log in.</span></span>  
   <span data-ttu-id="47dae-202">Se l'utente è stato creato correttamente, viene registrata tramite il `SignInAsync` metodo.</span><span class="sxs-lookup"><span data-stu-id="47dae-202">If the user was successfully created, she is logged in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample2.cs?highlight=12)]

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample3.cs?highlight=5-6)]

   <span data-ttu-id="47dae-203">Nel codice evidenziato sopra il `SignInAsync` metodo genera un [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="47dae-203">The highlighted code above in the `SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="47dae-204">Poiché ASP.NET Identity e OWIN Cookie di autenticazione è basata sulle attestazioni di sistema, il framework richiede che l'app per generare un oggetto ClaimsIdentity per l'utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-204">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="47dae-205">ClaimsIdentity dispone di informazioni su tutte le attestazioni per l'utente, ad esempio i ruoli a cui appartiene l'utente.</span><span class="sxs-lookup"><span data-stu-id="47dae-205">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span> <span data-ttu-id="47dae-206">È anche possibile aggiungere ulteriori attestazioni per l'utente in questa fase.</span><span class="sxs-lookup"><span data-stu-id="47dae-206">You can also add more claims for the user at this stage.</span></span>  
  
   <span data-ttu-id="47dae-207">Nel codice evidenziato di seguito il `SignInAsync` metodo accede l'utente tramite AuthenticationManager da OWIN e chiamare il metodo `SignIn` e passando l'oggetto ClaimsIdentity.</span><span class="sxs-lookup"><span data-stu-id="47dae-207">The highlighted code below in the `SignInAsync` method signs in the user by using the AuthenticationManager from OWIN and calling `SignIn` and passing in the ClaimsIdentity.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample4.cs?highlight=8-11)]
5. <span data-ttu-id="47dae-208">Esegue la disconnessione.</span><span class="sxs-lookup"><span data-stu-id="47dae-208">Log off.</span></span>  
   <span data-ttu-id="47dae-209">Fare clic su di **disconnettersi** collegamento chiama l'azione di disconnessione nel controller di account.</span><span class="sxs-lookup"><span data-stu-id="47dae-209">Clicking the **Log off** link calls the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="47dae-210">Codice evidenziata precedente OWIN `AuthenticationManager.SignOut` metodo.</span><span class="sxs-lookup"><span data-stu-id="47dae-210">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="47dae-211">Questo comportamento è analogo a [FormsAuthentication. SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) utilizzato dal metodo di [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) modulo nel Web Form.</span><span class="sxs-lookup"><span data-stu-id="47dae-211">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="47dae-212">Componenti di ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="47dae-212">Components of ASP.NET Identity</span></span>

<span data-ttu-id="47dae-213">Nel diagramma seguente vengono illustrati i componenti del sistema di identità di ASP.NET (fare clic su [questo](introduction-to-aspnet-identity/_static/image3.png) o nel diagramma per allargarla).</span><span class="sxs-lookup"><span data-stu-id="47dae-213">The diagram below shows the components of the ASP.NET Identity system (click on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="47dae-214">I pacchetti in verde è costituiscono il sistema di identità di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-214">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="47dae-215">Tutti gli altri pacchetti sono le dipendenze necessarie per utilizzare il sistema di identità di ASP.NET nelle applicazioni ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-215">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="47dae-216">Di seguito è fornita una breve descrizione dei pacchetti NuGet non indicato in precedenza:</span><span class="sxs-lookup"><span data-stu-id="47dae-216">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="47dae-217">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="47dae-217">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="47dae-218">L'autenticazione, simile a ASP basata su middleware che consente a un'applicazione può utilizzare i cookie. Autenticazione basata su form del NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-218">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="47dae-219">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="47dae-219">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="47dae-220">Entity Framework è una tecnologia di accesso ai dati consigliati di Microsoft per i database relazionali.</span><span class="sxs-lookup"><span data-stu-id="47dae-220">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="47dae-221">La migrazione dall'appartenenza di ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="47dae-221">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="47dae-222">Ci auguriamo che fornire non appena le indicazioni sulla migrazione delle applicazioni esistenti che utilizzano l'appartenenza di ASP.NET o appartenenza semplice per il nuovo sistema di identità di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="47dae-222">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="47dae-223">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="47dae-223">Next Steps</span></span>

- [<span data-ttu-id="47dae-224">Creare un'applicazione MVC ASP.NET 5 con Facebook, Google OAuth2 e OpenID Sign-on</span><span class="sxs-lookup"><span data-stu-id="47dae-224">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="47dae-225">L'esercitazione Usa l'API di identità di ASP.NET per aggiungere informazioni di profilo per il database utente e su come eseguire l'autenticazione con Google e Facebook.</span><span class="sxs-lookup"><span data-stu-id="47dae-225">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="47dae-226">Creare un'applicazione MVC ASP.NET con autenticazione e il database di SQL Server e distribuire in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="47dae-226">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="47dae-227">In questa esercitazione viene illustrato come utilizzare l'API di identità per aggiungere utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="47dae-227">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- <span data-ttu-id="47dae-228">[Account utente individuali](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) nella creazione di progetti Web ASP.NET in Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="47dae-228">[Individual User Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="47dae-229">[Gli account aziendali](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) nella creazione di progetti Web ASP.NET in Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="47dae-229">[Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- [<span data-ttu-id="47dae-230">Personalizzazione delle informazioni del profilo in ASP.NET Identity nei modelli di Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="47dae-230">Customizing profile information in ASP.NET Identity in VS 2013 templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/customizing-profile-information-in-asp-net-identity-in-vs-2013-templates.aspx)
- [<span data-ttu-id="47dae-231">Ottenere informazioni dai provider Social utilizzato nei modelli di progetto di Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="47dae-231">Get more information from Social providers used in the VS 2013 project templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/get-more-information-from-social-providers-used-in-the-vs-2013-project-templates.aspx)
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="47dae-232">Applicazione di esempio che illustra come aggiungere i ruoli di base e supporto per l'utente e eseguire i ruoli e gestione degli utenti.</span><span class="sxs-lookup"><span data-stu-id="47dae-232">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
