---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Creazione di un Layout coerente in ASP.NET Web Pages siti (Razor) | Documenti Microsoft
author: tfitzmac
description: Per rendere più efficiente per creare pagine web per il sito, è possibile creare blocchi riutilizzabili del contenuto (ad esempio le intestazioni e piè di pagina) per il sito Web e si c...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/10/2014
ms.topic: article
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 2c7631017f7c0fb31f43320c2ab78baddd87b516
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
ms.locfileid: "26530240"
---
<a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="9cb6d-103">Creazione di un Layout coerenza in siti Web di ASP.NET di pagine (Razor)</span><span class="sxs-lookup"><span data-stu-id="9cb6d-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="9cb6d-104">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="9cb6d-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="9cb6d-105">In questo articolo viene illustrato come è possibile utilizzare pagine di layout in un sito Web ASP.NET Web Pages (Razor) per creare blocchi riutilizzabili del contenuto (ad esempio le intestazioni e piè di pagina) e per creare un aspetto coerente per tutte le pagine nel sito.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="9cb6d-106">**Illustra quanto segue:**</span><span class="sxs-lookup"><span data-stu-id="9cb6d-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="9cb6d-107">Come creare blocchi riutilizzabili di contenuto, ad esempio le intestazioni e piè di pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="9cb6d-108">Come creare un aspetto coerente per tutte le pagine del sito utilizzando un layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="9cb6d-109">Come passare i dati in fase di esecuzione a una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="9cb6d-110">Queste sono le funzionalità ASP.NET introdotte nell'articolo:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="9cb6d-111">Blocchi di contenuto, ovvero i file che includono contenuto in formato HTML da inserire in più pagine.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="9cb6d-112">Pagine di layout, ovvero le pagine che contengono contenuto in formato HTML che può essere condivisa dalle pagine del sito Web.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="9cb6d-113">Il `RenderPage`, `RenderBody`, e `RenderSection` metodi, che indicano dove inserire gli elementi di pagina ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="9cb6d-114">Il `PageData` dizionario che consente di condividere dati tra i blocchi di contenuto e pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="9cb6d-115">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="9cb6d-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="9cb6d-116">Pagine Web ASP.NET (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="9cb6d-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="9cb6d-117">In questa esercitazione si integra inoltre con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="about-layout-pages"></a><span data-ttu-id="9cb6d-118">Informazioni sulle pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="9cb6d-118">About Layout Pages</span></span>

<span data-ttu-id="9cb6d-119">Molti siti Web con contenuto che viene visualizzato in ogni pagina, come un'intestazione e piè di pagina o una casella che indica gli utenti che si è connessi.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="9cb6d-120">ASP.NET consente di creare un file separato con un blocco di contenuto che può contenere testo, markup e codice, come una pagina web regolari.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="9cb6d-121">È quindi possibile inserire il blocco di contenuto in altre pagine nel sito in cui si desiderano visualizzare le informazioni.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="9cb6d-122">In questo modo non è necessario copiare e incollare il contenuto stesso in ogni pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="9cb6d-123">Creazione di contenuto comune simile al seguente rende anche più facile aggiornare il sito.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="9cb6d-124">Se è necessario modificare il contenuto, è possibile aggiornare solo un singolo file e le modifiche vengono quindi riportate ovunque è stato inserito il contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="9cb6d-125">Il diagramma seguente mostra come contenuto Blocca lavoro.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="9cb6d-126">Quando un browser richiede una pagina dal server web, ASP.NET consente di inserire i blocchi di contenuto nel punto in cui il `RenderPage` metodo viene chiamato nella pagina principale.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="9cb6d-127">La pagina di completamento (merge) viene quindi inviata al browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagramma concettuale che illustra come il metodo RenderPage inserisce una pagina di cui si fa riferimento alla pagina corrente.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="9cb6d-129">In questa procedura, si creerà una pagina che fa riferimento a due blocchi di contenuto (un'intestazione e piè di pagina) che si trovano in file distinti.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="9cb6d-130">È possibile utilizzare questi stessi blocchi di contenuto in qualsiasi pagina del sito.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="9cb6d-131">Al termine, si otterrà una pagina simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-131">When you're done, you'll get a page like this:</span></span>

![Screenshot della pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderPage.](3-creating-a-consistent-look/_static/image2.jpg)

1. <span data-ttu-id="9cb6d-133">Nella cartella radice del sito Web, creare un file denominato *cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="9cb6d-134">Sostituire il codice esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="9cb6d-135">Nella cartella radice, creare una cartella denominata *Shared*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9cb6d-136">È pratica comune per archiviare i file che vengono condivisi tra pagine web in una cartella denominata *Shared*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="9cb6d-137">Nel *Shared* cartella, creare un file denominato  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="9cb6d-138">Sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="9cb6d-139">Si noti che il nome del file è  *\_Header.cshtml*, con un carattere di sottolineatura (\_) come prefisso.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="9cb6d-140">ASP.NET non inviare una pagina nel browser se il nome inizia con un carattere di sottolineatura.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="9cb6d-141">Onde evitare che gli utenti richiedano (inavvertitamente o in caso contrario) queste pagine direttamente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="9cb6d-142">È consigliabile utilizzare un carattere di sottolineatura alle pagine di nome con blocchi di contenuto, in quanto non si vuole che gli utenti siano in grado di richiedere queste pagine &#8212; Esistono esclusivamente per essere inserita nelle altre pagine.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="9cb6d-143">Nel *Shared* cartella, creare un file denominato  *\_Footer.cshtml* e sostituire il contenuto con quanto segue:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="9cb6d-144">Nel *cshtml* pagina, aggiungere due chiamate al `RenderPage` (metodo), come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="9cb6d-145">Viene illustrato come inserire un blocco di contenuto in una pagina web.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="9cb6d-146">Chiamare il `RenderPage` metodo e passa il nome del file di cui si desidera inserire in quel punto il contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="9cb6d-147">In questo caso, si sta inserendo il contenuto del  *\_Header.cshtml* e  *\_Footer.cshtml* di file nel *cshtml* file.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="9cb6d-148">Eseguire il *cshtml* pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="9cb6d-149">(In WebMatrix, nel **file** area di lavoro, il pulsante destro e quindi selezionare **Avvia nel browser**.)</span><span class="sxs-lookup"><span data-stu-id="9cb6d-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="9cb6d-150">Nel browser, visualizzare l'origine della pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-150">In the browser, view the page source.</span></span> <span data-ttu-id="9cb6d-151">(Ad esempio, in Internet Explorer, fare clic sulla pagina e quindi fare clic su **Visualizza origine**.)</span><span class="sxs-lookup"><span data-stu-id="9cb6d-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="9cb6d-152">Ciò consente di verificare il markup della pagina web che viene inviato al browser, che combina il markup della pagina di indice e i blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="9cb6d-153">L'esempio seguente mostra l'origine della pagina che viene eseguito il rendering per *cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="9cb6d-154">Le chiamate a `RenderPage` inserita in *cshtml* sono stati sostituiti con il contenuto effettivo dei file di intestazione e piè di pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="9cb6d-155">Creazione di un aspetto coerente utilizzando le pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="9cb6d-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="9cb6d-156">Finora si è visto che risulti semplice includere lo stesso contenuto in più pagine.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="9cb6d-157">Un approccio più strutturato per la creazione di un aspetto coerente per un sito consiste nell'utilizzare pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="9cb6d-158">Una pagina di layout definisce la struttura di una pagina web, ma non contiene contenuto effettivo.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="9cb6d-159">Dopo aver creato una pagina di layout, è possibile creare pagine web che includono il contenuto e collegarli alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="9cb6d-160">Quando vengono visualizzate queste pagine, essi verrà formattati in base alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="9cb6d-161">(In questo senso, una pagina di layout agisce come un tipo di modello per il contenuto è definito in altre pagine.)</span><span class="sxs-lookup"><span data-stu-id="9cb6d-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="9cb6d-162">Pagina di layout è esattamente come qualsiasi pagina HTML, ad eccezione del fatto che contiene una chiamata al `RenderBody` metodo.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="9cb6d-163">La posizione del `RenderBody` metodo nella pagina di layout determina in cui saranno incluse le informazioni della pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="9cb6d-164">Il diagramma seguente mostra le pagine come contenuto e pagine di layout vengono combinate in fase di esecuzione per produrre la pagina web completata.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="9cb6d-165">Il browser richiede una pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-165">The browser requests a content page.</span></span> <span data-ttu-id="9cb6d-166">La pagina di contenuto contiene codice che specifica la pagina di layout da usare per la struttura della pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="9cb6d-167">Nella pagina di layout, il contenuto viene inserito nel punto in cui il `RenderBody` metodo viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="9cb6d-168">Contenuto blocchi possono inoltre essere inseriti in una pagina di layout chiamando il `RenderPage` (metodo), il modo in cui è stato eseguito nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="9cb6d-169">Quando la pagina web è stata completata, viene inviato al browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-169">When the web page is complete, it's sent to the browser.</span></span>

![Screenshot della pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="9cb6d-171">La procedura seguente viene illustrato come creare un layout di pagine di contenuto di pagina e un collegamento ad esso.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="9cb6d-172">Nel *Shared* cartella del sito Web, creare un file denominato  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="9cb6d-173">Sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="9cb6d-174">Utilizzare il `RenderPage` metodo in una pagina di layout per inserire i blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="9cb6d-175">Una pagina di layout può contenere solo una chiamata al `RenderBody` metodo.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="9cb6d-176">Nel *Shared* cartella, creare un file denominato  *\_Header2.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="9cb6d-177">Nella cartella radice, creare una nuova cartella e denominarla *stili*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="9cb6d-178">Nel *stili* cartella, creare un file denominato *Site* e aggiungere le seguenti definizioni di stile:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="9cb6d-179">Queste definizioni di stile sono solo per mostrare come fogli di stile possono essere utilizzati con pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="9cb6d-180">Se si desidera, è possibile definire gli stili personalizzati per questi elementi.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="9cb6d-181">Nella cartella radice, creare un file denominato *Content1.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="9cb6d-182">Si tratta di una pagina che verrà utilizzata una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="9cb6d-183">Il blocco di codice nella parte superiore della pagina indica la pagina di layout da usare per formattare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="9cb6d-184">Eseguire *Content1.cshtml* in un browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="9cb6d-185">La pagina viene utilizzato il formato e foglio di stile definito in  *\_Layout1.cshtml* e il testo (contenuto) definito *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[immagine]](3-creating-a-consistent-look/_static/image4.jpg)

    <span data-ttu-id="9cb6d-187">È possibile ripetere il passaggio 6 per creare altre pagine di contenuto che è quindi possono condividere la stessa pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9cb6d-188">È possibile impostare il sito in modo che si può usare automaticamente nella stessa pagina di layout per tutte le pagine di contenuto in una cartella.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="9cb6d-189">Per informazioni dettagliate, vedere [personalizzazione di un comportamento a livello di sito per ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="9cb6d-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="9cb6d-190">La progettazione di pagine di Layout che hanno più sezioni di contenuto</span><span class="sxs-lookup"><span data-stu-id="9cb6d-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="9cb6d-191">Una pagina di contenuto può avere più sezioni, questa opzione è utile se si desidera utilizzare i layout che hanno più aree con contenuto sostituibile.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="9cb6d-192">Nella pagina di contenuto, assegnare a ogni sezione di un nome univoco.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="9cb6d-193">(La sezione predefinita viene lasciata senza nome.) Nella pagina di layout, aggiungere un `RenderBody` per specificare dove cui dovrebbe essere visualizzata la sezione senza nome (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="9cb6d-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="9cb6d-194">Aggiungere quindi separato `RenderSection` metodi per eseguire il rendering delle sezioni denominate singolarmente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="9cb6d-195">Il diagramma seguente mostra come ASP.NET gestisce il contenuto che viene suddiviso in più sezioni.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="9cb6d-196">Ogni sezione denominata è contenuto in un blocco di sezione nella pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="9cb6d-197">(Sono denominati `Header` e `List` nell'esempio.) Il framework inserisce sezione di contenuto nella pagina di layout nel punto in cui il `RenderSection` metodo viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="9cb6d-198">La sezione senza nome (impostazione predefinita) viene inserita nel punto in cui il `RenderBody` metodo viene chiamato, come illustrato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagramma concettuale che illustra come il metodo RenderSection inserisce riferimenti a sezioni della pagina corrente.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="9cb6d-200">Questa procedura viene illustrato come creare una pagina di contenuto con più sezioni di contenuto e come eseguire il rendering utilizzando una pagina di layout che supporta più sezioni di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="9cb6d-201">Nel *Shared* cartella, creare un file denominato  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="9cb6d-202">Sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="9cb6d-203">Utilizzare il `RenderSection` metodo per eseguire il rendering delle sezioni di intestazione e l'elenco.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="9cb6d-204">Nella cartella radice, creare un file denominato *Content2.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="9cb6d-205">La pagina contenuta contiene un blocco di codice nella parte superiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="9cb6d-206">Ogni sezione denominata è contenuto in un blocco di sezione.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="9cb6d-207">Il resto della pagina contiene una sezione di contenuto predefinito (senza nome).</span><span class="sxs-lookup"><span data-stu-id="9cb6d-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="9cb6d-208">Eseguire *Content2.cshtml* in un browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Screenshot della pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderSection.](3-creating-a-consistent-look/_static/image6.jpg)

## <a name="making-content-sections-optional"></a><span data-ttu-id="9cb6d-210">Rendendo facoltativo sezioni di contenuto</span><span class="sxs-lookup"><span data-stu-id="9cb6d-210">Making Content Sections Optional</span></span>

<span data-ttu-id="9cb6d-211">In genere, le sezioni creati in una pagina di contenuto deve essere uguale nelle sezioni che sono definite nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="9cb6d-212">È possibile ottenere errori se si verifica una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="9cb6d-213">La pagina di contenuto contiene una sezione che non presenta alcuna sezione corrispondente nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="9cb6d-214">Pagina di layout contiene una sezione in cui non è presente alcun contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="9cb6d-215">La pagina di layout include chiamate al metodo che tenta di eseguire il rendering nella stessa sezione più volte.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="9cb6d-216">Tuttavia, è possibile eseguire l'override di questo comportamento per una sezione denominata dichiarando la sezione sia facoltativo nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="9cb6d-217">Ciò consente di definire più pagine di contenuto che possono condividere una pagina di layout ma che potrebbe o non dispone di contenuto per una sezione specifica.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="9cb6d-218">Aprire *Content2.cshtml* e rimuovere la sezione seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="9cb6d-219">Salvare la pagina e quindi eseguirlo in un browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="9cb6d-220">Viene visualizzato un messaggio di errore, perché la pagina di contenuto non include il contenuto per una sezione definita nella pagina di layout, in particolare la sezione di intestazione.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Schermata che illustra l'errore che si verifica se si esegue una pagina che chiama il metodo RenderSection ma la sezione corrispondente non è specificata.](3-creating-a-consistent-look/_static/image7.jpg)
3. <span data-ttu-id="9cb6d-222">Nel *Shared* cartella, aprire il  *\_Layout2.cshtml* pagina e sostituire questa riga:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="9cb6d-223">con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="9cb6d-224">In alternativa, è Impossibile sostituire la riga di codice precedente con il blocco di codice seguente, che produce gli stessi risultati:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="9cb6d-225">Eseguire il *Content2.cshtml* pagina in un browser nuovamente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="9cb6d-226">(Se è ancora aperta questa pagina nel browser, è possibile semplicemente aggiornarlo.) Questa volta la pagina viene visualizzata senza errori, anche se non ha alcuna intestazione.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="9cb6d-227">Passaggio di dati a pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="9cb6d-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="9cb6d-228">Si dispone di dati definiti nella pagina di contenuto che è necessario fare riferimento in una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="9cb6d-229">In questo caso, è necessario passare i dati della pagina di contenuto alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="9cb6d-230">Ad esempio, si consiglia di visualizzare lo stato di accesso di un utente o è possibile visualizzare o nascondere le aree di contenuto in base all'input utente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="9cb6d-231">Per passare dati da una pagina di contenuto a una pagina di layout, è possibile inserire valori nel `PageData` proprietà della pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="9cb6d-232">Il `PageData` proprietà è una raccolta di coppie nome/valore contenenti i dati che si desidera passare tra le pagine.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="9cb6d-233">Nella pagina di layout, sarà quindi possibile leggere i valori di timeout di `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="9cb6d-234">Di seguito è riportato un altro diagramma.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-234">Here's another diagram.</span></span> <span data-ttu-id="9cb6d-235">Qui viene illustrato come è possibile utilizzare ASP.NET il `PageData` proprietà per passare i valori da una pagina di contenuto alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="9cb6d-236">Quando inizia la creazione della pagina web ASP.NET, viene creato il `PageData` insieme.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="9cb6d-237">Nella pagina di contenuto, scrivere il codice per inserire dati nella `PageData` insieme.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="9cb6d-238">I valori di `PageData` raccolta sono accessibili anche da altre sezioni della pagina contenuta o da altri blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagramma concettuale che illustra come una pagina di contenuto è possibile popolare un dizionario PageData e passare tali informazioni alla pagina di layout.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="9cb6d-240">La procedura seguente viene illustrato come passare i dati da una pagina contenuto per una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="9cb6d-241">Quando la pagina viene eseguita, viene visualizzato un pulsante che consente all'utente di nascondere o visualizzare un elenco definito nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="9cb6d-242">Quando gli utenti fanno clic sul pulsante, imposta un valore true o false (Boolean) `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="9cb6d-243">Pagina di layout legge di tale valore e se è false, vengono nascosti nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="9cb6d-244">Il valore viene anche utilizzato nella pagina di contenuto per determinare se visualizzare il **Nascondi elenco** pulsante o **Mostra elenco** pulsante.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[immagine]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="9cb6d-246">Nella cartella radice, creare un file denominato *Content3.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="9cb6d-247">Il codice memorizza due tipi di dati di `PageData` proprietà &#8212; il titolo della pagina web e true o false per specificare se visualizzare un elenco.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="9cb6d-248">Si noti che ASP.NET consente di inserire il markup HTML della pagina in modo condizionale utilizzando un blocco di codice.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="9cb6d-249">Ad esempio, il `if/else` blocco nel corpo della pagina determina il modulo da visualizzare a seconda che `PageData["ShowList"]` è impostata su true.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="9cb6d-250">Nel *Shared* cartella, creare un file denominato  *\_Layout3.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="9cb6d-251">Pagina di layout include un'espressione nel `<title>` elemento che ottiene il valore del titolo di `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="9cb6d-252">Utilizza inoltre il `ShowList` valore il `PageData` proprietà per determinare se visualizzare il blocco di contenuto di elenco.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="9cb6d-253">Nel *Shared* cartella, creare un file denominato  *\_List.cshtml* e sostituire qualsiasi contenuto esistente con il seguente:</span><span class="sxs-lookup"><span data-stu-id="9cb6d-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="9cb6d-254">Eseguire il *Content3.cshtml* pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="9cb6d-255">Verrà visualizzata la pagina con l'elenco visibile sul lato sinistro della pagina e un **Nascondi elenco** nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Screenshot che illustra la pagina che include l'elenco e un pulsante contenente la stringa 'Nascondi elenco'.](3-creating-a-consistent-look/_static/image10.jpg)
5. <span data-ttu-id="9cb6d-257">Fare clic su **Nascondi elenco**.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-257">Click **Hide List**.</span></span> <span data-ttu-id="9cb6d-258">L'elenco viene rimosso e il pulsante diventa **Mostra elenco**.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Screenshot che illustra la pagina che non include l'elenco e su un pulsante Mostra elenco.](3-creating-a-consistent-look/_static/image11.jpg)
6. <span data-ttu-id="9cb6d-260">Fare clic su di **Mostra elenco** pulsante e l'elenco viene visualizzato nuovamente.</span><span class="sxs-lookup"><span data-stu-id="9cb6d-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9cb6d-261">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="9cb6d-261">Additional Resources</span></span>


[<span data-ttu-id="9cb6d-262">Personalizzazione del comportamento a livello di sito per le pagine Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9cb6d-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
