---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Utilizzo di immagini in un sito ASP.NET Web Pages (Razor) | Documenti Microsoft
author: tfitzmac
description: In questo capitolo viene illustrato come aggiungere, visualizzare e modificare immagini (ridimensionare, capovolgere e aggiungere le filigrane) nel sito Web.
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2014
ms.topic: article
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 74838dd364a43f3f4c966c1417d0f0b2cc242f28
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
ms.locfileid: "26530150"
---
<a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="f9fa3-103">Utilizzo di immagini in un sito Web di ASP.NET di pagine (Razor)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>
====================
<span data-ttu-id="f9fa3-104">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="f9fa3-105">In questo articolo viene illustrato come aggiungere, visualizzare e modificare immagini (ridimensionare, capovolgere e aggiungere le filigrane) in un sito Web ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="f9fa3-106">Illustra quanto segue:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="f9fa3-107">Come aggiungere un'immagine a una pagina in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="f9fa3-108">Come consentire agli utenti di caricare un'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="f9fa3-109">Come ridimensionare un'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-109">How to resize an image.</span></span>
> - <span data-ttu-id="f9fa3-110">Come capovolge o Ruota un'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="f9fa3-111">Come aggiungere un'immagine di filigrana.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="f9fa3-112">Descrive come usare un'immagine come filigrana.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="f9fa3-113">Si tratta di programmazione delle funzionalità introdotte nell'articolo ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="f9fa3-114">Il `WebImage` helper.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="f9fa3-115">Il `Path` oggetto che fornisce metodi che consentono di modificare i nomi file e percorso.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="f9fa3-116">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="f9fa3-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="f9fa3-117">Pagine Web ASP.NET (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="f9fa3-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="f9fa3-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="f9fa3-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="f9fa3-119">In questa esercitazione si integra inoltre con 3 di WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="f9fa3-120">Aggiunta di un'immagine a una pagina Web in modo dinamico</span><span class="sxs-lookup"><span data-stu-id="f9fa3-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="f9fa3-121">È possibile aggiungere immagini al sito Web e alle singole pagine mentre si sviluppa il sito Web.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="f9fa3-122">È inoltre possibile consentire agli utenti il caricamento di immagini, che potrebbero essere utili per attività, ad esempio consentendo loro di aggiungere una foto del profilo.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="f9fa3-123">Se un'immagine è già disponibile sul sito e si desidera visualizzarla in una pagina, utilizzare un elemento HTML `<img>` elemento simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="f9fa3-124">In alcuni casi, tuttavia, è necessario essere in grado di visualizzare le immagini in modo dinamico & #8212; ovvero, non si conosce quale immagine da visualizzare fino a quando la pagina è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="f9fa3-125">La procedura descritta in questa sezione viene illustrato come visualizzare un'immagine al momento in cui gli utenti specificano il nome del file di immagine da un elenco di nomi di immagini.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="f9fa3-126">Essi selezionare il nome dell'immagine da un elenco a discesa e quando l'invio della pagina, viene visualizzata l'immagine che è selezionate.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="f9fa3-127">![[immagine]](9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="f9fa3-128">In WebMatrix, creare un nuovo sito Web.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="f9fa3-129">Aggiungere una nuova pagina denominata *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="f9fa3-130">Nella cartella radice del sito Web, aggiungere una nuova cartella e denominarla *immagini*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="f9fa3-131">Aggiungere quattro immagini di *immagini* cartella appena creata.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="f9fa3-132">(Tutte le immagini si che sarà utile, ma rientrino in una pagina). Rinominare le immagini *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, e *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="f9fa3-133">(Non utilizzare *Photo4.jpg* in questa procedura, ma si sarà utilizzarlo successivamente nell'articolo.)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="f9fa3-134">Verificare che le quattro immagini non siano contrassegnate come di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="f9fa3-135">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="f9fa3-136">Il corpo della pagina contiene un elenco a discesa (un `<select>` elemento) che è denominata `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="f9fa3-137">Nell'elenco è disponibili tre opzioni e `value` attributo di ogni opzione di elenco con il nome di una delle immagini che si inserisce nel *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="f9fa3-138">In pratica, l'elenco consente all'utente di selezionare un nome descrittivo, ad esempio &quot;foto 1&quot;, e quindi passa il *jpg* nome file durante l'invio della pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="f9fa3-139">Nel codice, è possibile ottenere la selezione dell'utente (in altre parole, il nome del file immagine) dall'elenco leggendo `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="f9fa3-140">Viene visualizzata se si esegue di una selezione.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="f9fa3-141">Se è presente, costruire un percorso per l'immagine che include il nome della cartella per le immagini e nome del file di immagine dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="f9fa3-142">(Se si è tentato di creare un percorso, ma non c'era in `Request["photoChoice"]`, verrà visualizzato un errore.) Ciò produce un percorso relativo simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="f9fa3-143">*immagini/Photo1.jpg*</span><span class="sxs-lookup"><span data-stu-id="f9fa3-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="f9fa3-144">Il percorso è archiviato nella variabile denominata `imagePath` che dovranno essere successivamente nella pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="f9fa3-145">Nel corpo, è inoltre disponibile un `<img>` elemento utilizzato per visualizzare l'immagine che l'utente selezionato.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="f9fa3-146">Il `src` attributo non è impostato su un nome file o URL, come si farebbe per visualizzare un elemento statico.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="f9fa3-147">In alternativa, è impostata su `@imagePath`, vale a dire che ottiene il relativo valore dal percorso è impostata nel codice.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="f9fa3-148">La prima volta che la pagina viene eseguita, tuttavia, non è presente alcuna immagine da visualizzare, perché l'utente non è stato selezionato alcun elemento.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="f9fa3-149">Ciò in genere significa che il `src` attributo potrebbe essere vuoto e l'immagine viene visualizzato come rosse &quot;x&quot; (o qualsiasi il browser esegue il rendering quando non è possibile trovare un'immagine).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="f9fa3-150">Per evitare questo problema, inserire il `<img>` elemento in un `if` blocco che verifica se il `imagePath` variabile contiene un valore.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="f9fa3-151">Se si effettua una selezione, `imagePath` contiene il percorso.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="f9fa3-152">Se l'utente non è stato scegliere un'immagine o se questa è la prima volta che viene visualizzata la pagina, il `<img>` non è anche il rendering dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="f9fa3-153">Salvare il file ed eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="f9fa3-154">(Assicurarsi che la pagina è selezionata nel **file** dell'area di lavoro prima di eseguirlo.)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="f9fa3-155">Selezionare un'immagine dall'elenco a discesa e quindi fare clic su **immagine di esempio**.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="f9fa3-156">Assicurarsi che visualizzare immagini differenti per le diverse opzioni relative.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="f9fa3-157">Caricare un'immagine</span><span class="sxs-lookup"><span data-stu-id="f9fa3-157">Uploading an Image</span></span>

<span data-ttu-id="f9fa3-158">Nell'esempio precedente è stato illustrato come visualizzare un'immagine in modo dinamico, ma funzionava solo con le immagini che sono stati già nel sito Web.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="f9fa3-159">Questa procedura viene illustrato come consentire agli utenti di caricare un'immagine, che viene quindi visualizzata nella pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="f9fa3-160">In ASP.NET, è possibile modificare immagini in tempo reale mediante la `WebImage` helper, che dispone di metodi che consentono di creare, modificare e salvare le immagini.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="f9fa3-161">Il `WebImage` helper supporta tutti i web immagine tipi di file comuni, inclusi *jpg*, *PNG*, e *bmp*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="f9fa3-162">In questo articolo, si userà *jpg* immagini, ma è possibile usare uno dei tipi di immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="f9fa3-163">![[immagine]](9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="f9fa3-164">Aggiungere una nuova pagina e denominarlo *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="f9fa3-165">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="f9fa3-166">Il corpo del testo ha un `<input type="file">` elemento, che consente agli utenti di selezionare un file da caricare.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="f9fa3-167">Quando si fa clic su **Invia**, il file che viene inviato insieme il modulo.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="f9fa3-168">Per ottenere l'immagine caricata, utilizzare il `WebImage` helper, dotato di tutti i tipi di metodi utili per l'utilizzo di immagini.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="f9fa3-169">In particolare, si utilizzano `WebImage.GetImageFromRequest` per ottenere l'immagine caricata (se presente) e archiviarlo in una variabile denominata `photo`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="f9fa3-170">Molte operazioni in questo esempio prevede di ottenere e impostare i nomi di file e percorso.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="f9fa3-171">Il problema è che si desidera ottenere il nome (solo il nome) dell'immagine che viene caricato e quindi creare un nuovo percorso in cui si desidera archiviare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="f9fa3-172">Poiché gli utenti è stato possibile caricare potenzialmente più immagini che hanno lo stesso nome, utilizzare un po' di codice aggiuntivo per creare nomi univoci e assicurarsi che gli utenti non sovrascrivere immagini esistenti.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="f9fa3-173">Se un'immagine effettivamente caricata (test `if (photo != null)`), ottenere il nome dell'immagine dall'immagine `FileName` proprietà.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="f9fa3-174">Quando l'utente carica l'immagine, `FileName` contiene il nome dell'utente originale, che include il percorso dal computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="f9fa3-175">Potrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-175">It might look like this:</span></span>

    <span data-ttu-id="f9fa3-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="f9fa3-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="f9fa3-177">Non si desidera tutte queste informazioni di percorso, anche se & #8212; si desidera semplicemente il nome del file effettivo (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="f9fa3-178">È possibile rimuovere solo il file da un percorso utilizzando il `Path.GetFileName` metodo, simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="f9fa3-179">È quindi possibile creare un nuovo nome file univoco aggiungendo un GUID per il nome originale.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="f9fa3-180">(Per ulteriori informazioni sui GUID, vedere [sul GUID](#SB_AboutGUIDs) più avanti in questo articolo.) È quindi necessario creare un percorso completo che consente di salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="f9fa3-181">Salva percorso è costituito il nuovo nome file, la cartella (immagini) e il percorso del sito Web corrente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f9fa3-182">Affinché il codice salvare i file nel *immagini* cartella, l'applicazione deve autorizzazioni di lettura-scrittura per la cartella.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="f9fa3-183">Nel computer di sviluppo non si tratta in genere un problema.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="f9fa3-184">Tuttavia, quando si pubblica il sito al server di un provider di hosting web, potrebbe essere necessario impostare in modo esplicito tali autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="f9fa3-185">Se si esegue questo codice nel server del provider di hosting e si verificano errori, verificare con il provider di hosting per scoprire come impostare le autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="f9fa3-186">Infine, si passa il salvataggio percorso il `Save` metodo il `WebImage` helper.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="f9fa3-187">Questo modo viene archiviata l'immagine caricata con il nuovo nome.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="f9fa3-188">Salva metodo è simile al seguente: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="f9fa3-189">Il percorso completo viene aggiunto al `@"~\"`, che rappresenta la posizione del sito Web corrente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="f9fa3-190">(Per informazioni di `~` (operatore), vedere [Introduzione alla programmazione Web ASP.NET utilizzando la sintassi Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="f9fa3-191">Come nell'esempio precedente, il corpo della pagina contiene un `<img>` elemento per visualizzare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="f9fa3-192">Se `imagePath` è stata impostata, il `<img>` elemento sottoposto a rendering e il relativo `src` attributo è impostato sul `imagePath` valore.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="f9fa3-193">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="f9fa3-194">Caricare un'immagine e verificare che viene visualizzato nella pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="f9fa3-195">Nel sito, aprire il *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="f9fa3-196">Viene visualizzato un nuovo file è stato aggiunto il cui nome è simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="f9fa3-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span><span class="sxs-lookup"><span data-stu-id="f9fa3-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="f9fa3-198">Questo è l'immagine che caricato con un GUID come preceduto al nome.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="f9fa3-199">(Il proprio file avrà un GUID diverso e probabilmente ha un nome diverso da quello *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="f9fa3-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="f9fa3-200">Sui GUID</span><span class="sxs-lookup"><span data-stu-id="f9fa3-200">About GUIDs</span></span>
> 
> <span data-ttu-id="f9fa3-201">Un GUID (identificatore univoco globale) è un identificatore che in genere viene eseguito il rendering in un formato simile al seguente: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="f9fa3-202">I numeri e lettere (da A-F) diversi per ogni GUID, ma seguono il modello di utilizzo dei gruppi di 8-4-4-4-12 caratteri.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="f9fa3-203">(Tecnicamente, un GUID è un numero di 16 byte/128 bit) Quando è necessario un GUID, è possibile chiamare codice specifico che genera un GUID.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="f9fa3-204">L'idea GUID è tra le dimensioni enormi del numero (3,4 x 10<sup>38</sup>) e l'algoritmo per la generazione, il numero risultante è praticamente garantito può essere uno dei tipi.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="f9fa3-205">Pertanto, i GUID sono un ottimo modo per generare nomi per operazioni quando è necessario garantire che non verranno usate due volte lo stesso nome.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="f9fa3-206">Lo svantaggio, naturalmente, è che i GUID non sono particolarmente descrittivo, tendono a essere utilizzato quando il nome viene utilizzato solo nel codice.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="f9fa3-207">Ridimensionamento di un'immagine</span><span class="sxs-lookup"><span data-stu-id="f9fa3-207">Resizing an Image</span></span>

<span data-ttu-id="f9fa3-208">Se il sito Web accetta le immagini da un utente, si desidera ridimensionare le immagini prima di visualizzare o salvarli.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="f9fa3-209">È possibile utilizzare nuovamente il `WebImage` helper per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="f9fa3-210">Questa procedura viene illustrato come ridimensionare un'immagine caricata per creare un'immagine di anteprima, quindi salvare l'immagine di anteprima e l'immagine originale nel sito Web.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="f9fa3-211">Visualizzare l'anteprima della pagina e utilizzare un collegamento ipertestuale per reindirizzare gli utenti per l'immagine a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="f9fa3-212">![[immagine]](9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="f9fa3-213">Aggiungere una nuova pagina denominata *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="f9fa3-214">Nel *immagini* cartella, creare una sottocartella denominata *miniature*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="f9fa3-215">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="f9fa3-216">Questo codice è simile al codice dell'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="f9fa3-217">La differenza è che questo codice salva l'immagine due volte, una volta normalmente e una volta dopo aver creato una copia dell'immagine di anteprima.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="f9fa3-218">Innanzitutto si recupererà l'immagine caricata e salvarlo nel *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="f9fa3-219">È quindi possibile creare un nuovo percorso dell'immagine di anteprima.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="f9fa3-220">Per creare effettivamente l'anteprima, si chiama il `WebImage` dell'helper `Resize` metodo per creare un'immagine di 60 pixel per 60-pixel.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="f9fa3-221">Nell'esempio viene illustrato come si mantiene le proporzioni e come è possibile impedire l'immagine viene ingrandito (nel caso in cui le nuove dimensioni effettivamente renderebbe l'immagine più grande).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="f9fa3-222">Immagine ridimensionata verrà salvato nel *miniature* sottocartella.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="f9fa3-223">Alla fine del codice, usare la stessa `<img>` elemento con dinamica `src` attributo che è possibile vedere negli esempi precedenti per visualizzare in modo condizionale l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="f9fa3-224">In questo caso, visualizzare l'anteprima.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="f9fa3-225">È inoltre possibile utilizzare un `<a>` elemento per creare un collegamento ipertestuale per la versione grande dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="f9fa3-226">Come con la `src` attributo del `<img>` elemento, impostare il `href` attributo del `<a>` elemento dinamico per il `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="f9fa3-227">Per assicurarsi che il percorso può essere usato come un URL, si passa `imagePath` per il `Html.AttributeEncode` metodo, che converte i caratteri riservati nel percorso in caratteri ok in un URL.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="f9fa3-228">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="f9fa3-229">Carica una foto e verificare che sia visualizzata l'anteprima.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="f9fa3-230">Fare clic su Anteprima per visualizzare l'immagine ingrandita.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="f9fa3-231">Nel *immagini* e *immagini/miniature*, si noti che sono stati aggiunti nuovi file.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="f9fa3-232">La rotazione e capovolgimento di un'immagine</span><span class="sxs-lookup"><span data-stu-id="f9fa3-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="f9fa3-233">Il `WebImage` helper consente inoltre di capovolgimento e rotazione di immagini.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="f9fa3-234">Questa procedura viene illustrato come ottenere un'immagine dal server, capovolge l'immagine capovolta (verticalmente), salvarlo e quindi visualizzare l'immagine capovolta della pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="f9fa3-235">In questo esempio, si utilizza solo un file già presenti nel server (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="f9fa3-236">In un'applicazione reale, si sarebbe probabilmente capovolge un'immagine il cui nome viene visualizzato in modo dinamico, come negli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="f9fa3-237">![[immagine]](9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="f9fa3-238">Aggiungere una nuova pagina denominata *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="f9fa3-239">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="f9fa3-240">Il codice Usa il `WebImage` helper per ottenere un'immagine dal server.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="f9fa3-241">Si crea il percorso all'immagine utilizzando la stessa tecnica usata negli esempi precedenti per il salvataggio delle immagini e si passa tale percorso quando si crea un'immagine utilizzando `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="f9fa3-242">Se viene trovata un'immagine, costruire un nuovo percorso e il nome, come negli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="f9fa3-243">Per invertire l'immagine, si chiama il `FlipVertical` (metodo), quindi salvare l'immagine di nuovo.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="f9fa3-244">L'immagine viene visualizzato di nuovo nella pagina utilizzando la `<img>` elemento con la `src` attributo impostato su `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="f9fa3-245">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-245">Run the page in a browser.</span></span> <span data-ttu-id="f9fa3-246">L'immagine per *Photo2.jpg* viene visualizzato dall'alto in basso.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="f9fa3-247">Aggiornare la pagina o richiedere la pagina per visualizzare che l'immagine è capovolta destra nuovamente.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="f9fa3-248">Per ruotare un'immagine, utilizzare lo stesso codice, tranne il fatto che invece di chiamare il `FlipVertical` o `FlipHorizontal`, si chiama `RotateLeft` o `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="f9fa3-249">Aggiunta di una filigrana a un'immagine</span><span class="sxs-lookup"><span data-stu-id="f9fa3-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="f9fa3-250">Quando si aggiungono immagini per il sito Web, è necessario aggiungere una filigrana all'immagine di prima di salvarlo o visualizzarli in una pagina.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="f9fa3-251">Gli utenti usano spesso le filigrane per aggiungere informazioni sul copyright a un'immagine o per annunciare il proprio nome aziendale.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="f9fa3-252">![[immagine]](9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="f9fa3-253">Aggiungere una nuova pagina denominata *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="f9fa3-254">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="f9fa3-255">Questo codice è simile al codice nel *FlipImage.cshtml* pagina precedenti (anche se in questo caso viene utilizzato il *Photo3.jpg* file).</span><span class="sxs-lookup"><span data-stu-id="f9fa3-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="f9fa3-256">Per aggiungere il limite, si chiama il `WebImage` dell'helper `AddTextWatermark` metodo prima di salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="f9fa3-257">Nella chiamata a `AddTextWatermark`, si passa il testo &quot;filigrana My&quot;, impostare il colore del carattere in giallo e impostare la famiglia di caratteri Arial.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="f9fa3-258">(Anche se non è visualizzato in questo caso, il `WebImage` helper consente inoltre di specificare l'opacità, famiglia di caratteri e dimensioni del carattere e la posizione del testo della filigrana.) Quando si salva l'immagine deve essere in sola lettura.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="f9fa3-259">Come si è visto prima, utilizzando la pagina viene visualizzata l'immagine di `<img>` elemento con l'attributo src impostato su `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="f9fa3-260">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-260">Run the page in a browser.</span></span> <span data-ttu-id="f9fa3-261">Si noti il testo "My filigrana" nell'angolo in basso a destra dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="f9fa3-262">Utilizzo di un'immagine come filigrana</span><span class="sxs-lookup"><span data-stu-id="f9fa3-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="f9fa3-263">Invece di usare testo per una filigrana, è possibile utilizzare un'altra immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="f9fa3-264">Persone talvolta utilizzano immagini ad esempio un logo aziendale come filigrana oppure un'immagine di filigrana anziché di testo per le informazioni sul copyright.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="f9fa3-265">![[immagine]](9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="f9fa3-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="f9fa3-266">Aggiungere una nuova pagina denominata *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="f9fa3-267">Aggiungere un'immagine di *immagini* cartella in cui è possibile utilizzare come un logo e rinominare l'immagine *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="f9fa3-268">L'immagine deve essere un'immagine che è possibile visualizzare chiaramente quando è impostata su 80 pixel di larghezza e 20 pixel.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="f9fa3-269">Sostituire il contenuto esistente nella pagina con le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9fa3-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="f9fa3-270">Si tratta di un'altra variazione del codice degli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="f9fa3-271">In questo caso, si chiama `AddImageWatermark` per aggiungere l'immagine di filigrana all'immagine di destinazione (*Photo3.jpg*) prima di salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="f9fa3-272">Quando si chiama `AddImageWatermark`, la larghezza viene impostata su 80 pixel e l'altezza su 20 pixel.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="f9fa3-273">Il *MyCompanyLogo.jpg* immagine è allineata al centro orizzontalmente e verticalmente nella parte inferiore dell'immagine di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="f9fa3-274">L'opacità è impostato su 100% e il riempimento è impostato su 10 pixel.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="f9fa3-275">Se l'immagine della filigrana è maggiore dell'immagine di destinazione, non accade nulla.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="f9fa3-276">Se l'immagine di filigrana è maggiore dell'immagine di destinazione e si imposta la spaziatura interna per la filigrana immagine a zero, il limite viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="f9fa3-277">Come prima, si visualizza l'immagine usando il `<img>` elemento e dinamico `src` attributo.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="f9fa3-278">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-278">Run the page in a browser.</span></span> <span data-ttu-id="f9fa3-279">Si noti che l'immagine di filigrana viene visualizzata nella parte inferiore dell'immagine principale.</span><span class="sxs-lookup"><span data-stu-id="f9fa3-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="f9fa3-280">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="f9fa3-280">Additional Resources</span></span>


[<span data-ttu-id="f9fa3-281">Utilizzo dei file in un sito di pagine Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f9fa3-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="f9fa3-282">Introduzione a ASP.NET Web Pages con sintassi Razor di programmazione</span><span class="sxs-lookup"><span data-stu-id="f9fa3-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
