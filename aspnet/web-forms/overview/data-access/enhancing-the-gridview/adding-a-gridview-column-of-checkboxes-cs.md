---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Aggiunta di una colonna di GridView di caselle di controllo (c#) | Documenti Microsoft
author: rick-anderson
description: In questa esercitazione verrà illustrato come aggiungere una colonna di caselle di controllo a un controllo GridView per fornire all'utente un modo molto intuitivo per selezionare più righe di G....
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/06/2007
ms.topic: article
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: 3c9ad4c66c5bdd24df691180acf354f666e6e578
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30880167"
---
<a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="8f73e-103">Aggiunta di una colonna di GridView di caselle di controllo (c#)</span><span class="sxs-lookup"><span data-stu-id="8f73e-103">Adding a GridView Column of Checkboxes (C#)</span></span>
====================
<span data-ttu-id="8f73e-104">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="8f73e-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="8f73e-105">[Scaricare App di esempio](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) o [Scarica il PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="8f73e-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="8f73e-106">In questa esercitazione verrà illustrato come aggiungere una colonna di caselle di controllo a un controllo GridView per fornire all'utente un modo molto intuitivo per selezionare più righe di GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="8f73e-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="8f73e-107">Introduction</span></span>

<span data-ttu-id="8f73e-108">Nell'esercitazione precedente abbiamo esaminato come aggiungere una colonna di pulsanti di opzione a GridView ai fini della selezione di un record specifico.</span><span class="sxs-lookup"><span data-stu-id="8f73e-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="8f73e-109">Una colonna di pulsanti di opzione è un'interfaccia utente appropriata quando l'utente è limitato alla scelta di al massimo un elemento dalla griglia.</span><span class="sxs-lookup"><span data-stu-id="8f73e-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="8f73e-110">In alcuni casi, tuttavia, potrebbe voler consentire all'utente di selezionare un numero arbitrario di elementi dalla griglia.</span><span class="sxs-lookup"><span data-stu-id="8f73e-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="8f73e-111">I client di posta elettronica basato sul Web, ad esempio, in genere visualizzato l'elenco di messaggi con una colonna di caselle di controllo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="8f73e-112">L'utente può selezionare un numero arbitrario di messaggi e quindi eseguire un'azione, ad esempio spostare i messaggi di posta elettronica in un'altra cartella o eliminarli.</span><span class="sxs-lookup"><span data-stu-id="8f73e-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="8f73e-113">In questa esercitazione verrà spiegato come aggiungere una colonna di caselle di controllo e come determinare quali caselle di controllo sono state controllate durante il postback.</span><span class="sxs-lookup"><span data-stu-id="8f73e-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="8f73e-114">In particolare, verrà creato un esempio che simuli strettamente l'interfaccia utente client di posta elettronica basato sul web.</span><span class="sxs-lookup"><span data-stu-id="8f73e-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="8f73e-115">Questo esempio includerà un GridView paging Elenca i prodotti di `Products` tabella di database con una casella di controllo in ogni riga (vedere la figura 1).</span><span class="sxs-lookup"><span data-stu-id="8f73e-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="8f73e-116">Un pulsante Elimina prodotti selezionati, se selezionato, verrà eliminati i prodotti selezionati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


<span data-ttu-id="8f73e-117">[![Ogni riga del prodotto include una casella di controllo](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="8f73e-118">**Figura 1**: ogni riga del prodotto include una casella di controllo ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="8f73e-119">Passaggio 1: Aggiunta di paging GridView che visualizza le informazioni di prodotto</span><span class="sxs-lookup"><span data-stu-id="8f73e-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="8f73e-120">Prima di preoccupazione aggiunta di una colonna di caselle di controllo, consentono lo stato attivo prima di s sull'elenco di prodotti in un controllo GridView che supporta il paging.</span><span class="sxs-lookup"><span data-stu-id="8f73e-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="8f73e-121">Avvia aprendo il `CheckBoxField.aspx` nella pagina di `EnhancedGridView` cartelle e trascinare un controllo GridView dalla casella degli strumenti nella finestra di progettazione, l'impostazione relativa `ID` per `Products`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="8f73e-122">Successivamente, scegliere di associare un nuovo oggetto ObjectDataSource denominato di GridView `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="8f73e-123">Configurare ObjectDataSource per utilizzare il `ProductsBLL` classe, chiamata di `GetProducts()` per restituire i dati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="8f73e-124">Poiché questo GridView sarà di sola lettura, impostare gli elenchi a discesa nell'aggiornamento, inserimento ed eliminare le schede su (nessuno).</span><span class="sxs-lookup"><span data-stu-id="8f73e-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="8f73e-125">[![Creare un nuovo oggetto ObjectDataSource denominato ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="8f73e-126">**Figura 2**: creare un nuovo denominato ObjectDataSource `ProductsDataSource` ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>


<span data-ttu-id="8f73e-127">[![Configurare ObjectDataSource per recuperare i dati utilizzando il metodo GetProducts()](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="8f73e-128">**Figura 3**: configurare ObjectDataSource per recuperare dati usando il `GetProducts()` metodo ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>


<span data-ttu-id="8f73e-129">[![Impostare gli elenchi a discesa in UPDATE, INSERT ed eliminare le tabulazioni su (nessuno)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="8f73e-130">**Figura 4**: impostare l'elenco a discesa sono elencati nelle schede DELETE, INSERT e UPDATE (nessuno) ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>


<span data-ttu-id="8f73e-131">Dopo aver completato la configurazione guidata origine dati, Visual Studio crea automaticamente BoundColumns e una con per i campi di dati relativi al prodotto.</span><span class="sxs-lookup"><span data-stu-id="8f73e-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="8f73e-132">Ad esempio eseguita nell'esercitazione precedente, rimuovere tutto tranne il `ProductName`, `CategoryName`, e `UnitPrice` BoundField e modificare il `HeaderText` le proprietà per prodotto, categoria e prezzo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="8f73e-133">Configurare il `UnitPrice` BoundField in modo che il relativo valore viene formattato come valuta.</span><span class="sxs-lookup"><span data-stu-id="8f73e-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="8f73e-134">Configurare inoltre GridView per supportare il paging selezionando la casella di controllo Abilita Paging lo smart tag.</span><span class="sxs-lookup"><span data-stu-id="8f73e-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="8f73e-135">Consente di aggiungere anche l'interfaccia utente per l'eliminazione dei prodotti selezionati s.</span><span class="sxs-lookup"><span data-stu-id="8f73e-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="8f73e-136">Aggiungere un controllo pulsante Web sotto GridView, impostare il relativo `ID` a `DeleteSelectedProducts` e il relativo `Text` proprietà eliminare prodotti selezionati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="8f73e-137">Anziché eliminare effettivamente i prodotti dal database, per questo esempio si visualizzeranno solo un messaggio che indica i prodotti che dovrebbero essere stati eliminati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="8f73e-138">A tale scopo, aggiungere un controllo etichetta Web sotto il pulsante.</span><span class="sxs-lookup"><span data-stu-id="8f73e-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="8f73e-139">Impostare l'ID su `DeleteResults`, deselezionare le relative `Text` proprietà e impostare relativo `Visible` e `EnableViewState` proprietà `false`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="8f73e-140">Dopo aver apportato queste modifiche, il markup dichiarativo s GridView, ObjectDataSource, pulsante ed etichetta deve simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="8f73e-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="8f73e-141">Dedicare alcuni minuti per visualizzare la pagina in un browser (vedere Figura 5).</span><span class="sxs-lookup"><span data-stu-id="8f73e-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="8f73e-142">A questo punto si dovrebbe vedere il nome, categoria e prezzo dei primi dieci prodotti.</span><span class="sxs-lookup"><span data-stu-id="8f73e-142">At this point you should see the name, category, and price of the first ten products.</span></span>


<span data-ttu-id="8f73e-143">[![Sono elencati il nome, categoria e prezzi dei prodotti dieci prima](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="8f73e-144">**Figura 5**: sono elencati il nome, categoria e prezzi dei prodotti dieci prima ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="8f73e-145">Passaggio 2: Aggiunta di una colonna di caselle di controllo</span><span class="sxs-lookup"><span data-stu-id="8f73e-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="8f73e-146">Poiché ASP.NET 2.0 include un CheckBoxField, si pensa che potrebbe essere utilizzata per aggiungere una colonna di caselle di controllo per un controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="8f73e-147">Purtroppo, non è il caso, come elemento CheckBoxField è progettato per funzionare con un campo dati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="8f73e-148">Per utilizzare l'elemento CheckBoxField, è necessario specificare il campo dei dati sottostante il cui valore viene consultato per determinare se è selezionata la casella di controllo viene eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="8f73e-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="8f73e-149">È possibile usare l'elemento CheckBoxField da includere solo una colonna di caselle di controllo deselezionata.</span><span class="sxs-lookup"><span data-stu-id="8f73e-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="8f73e-150">In alternativa, è necessario aggiungere un TemplateField e aggiungere un controllo casella di controllo Web per il relativo `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="8f73e-151">Iniziare, aggiungerne un TemplateField per il `Products` GridView e renderlo il primo campo (estremità sinistra).</span><span class="sxs-lookup"><span data-stu-id="8f73e-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="8f73e-152">Da GridView s smart tag, fare clic sul collegamento Modifica modelli e quindi trascinare un controllo casella di controllo Web dalla casella degli strumenti nel `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="8f73e-153">Impostare questa casella di controllo s `ID` proprietà `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


<span data-ttu-id="8f73e-154">[![Aggiungere un controllo casella di controllo Web denominato ProductSelector a ItemTemplate s TemplateField](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="8f73e-155">**Figura 6**: aggiungere un controllo casella di controllo di Web denominato `ProductSelector` al s TemplateField `ItemTemplate` ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>


<span data-ttu-id="8f73e-156">Con il controllo casella di controllo Web e di TemplateField aggiunto, ogni riga include una casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="8f73e-157">Figura 7 illustra questa pagina, quando viene visualizzato tramite un browser, dopo aver aggiunto il TemplateField e una casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


<span data-ttu-id="8f73e-158">[![Ogni riga del prodotto include ora una casella di controllo](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="8f73e-159">**Figura 7**: ogni riga del prodotto include ora una casella di controllo ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="8f73e-160">Passaggio 3: Determinare quali caselle di controllo sono state controllate durante il Postback</span><span class="sxs-lookup"><span data-stu-id="8f73e-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="8f73e-161">A questo punto si dispone di una colonna di caselle di controllo ma non è possibile determinare quali caselle di controllo sono stati selezionati durante il postback.</span><span class="sxs-lookup"><span data-stu-id="8f73e-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="8f73e-162">Quando si fa clic sul pulsante Elimina prodotti selezionati, tuttavia, è necessario conoscere quali caselle di controllo sono state controllate per eliminare i prodotti.</span><span class="sxs-lookup"><span data-stu-id="8f73e-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="8f73e-163">S GridView [ `Rows` proprietà](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) fornisce l'accesso alle righe di dati in GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="8f73e-164">È possibile scorrere le righe, il controllo casella di controllo di accesso a livello di codice e quindi fare riferimento relativo `Checked` proprietà per determinare se è stata selezionata la casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="8f73e-165">Creare un gestore eventi per il `DeleteSelectedProducts` controllo Web Button s `Click` eventi e aggiungere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="8f73e-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="8f73e-166">Il `Rows` proprietà restituisce una raccolta di `GridViewRow` istanze di tale struttura le righe di dati di GridView s.</span><span class="sxs-lookup"><span data-stu-id="8f73e-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="8f73e-167">Il `foreach` ciclo qui enumera la raccolta.</span><span class="sxs-lookup"><span data-stu-id="8f73e-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="8f73e-168">Per ogni `GridViewRow` dell'oggetto, la riga s casella di controllo a livello di codice si accede tramite `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="8f73e-169">Se la casella di controllo è selezionata, la riga o le righe corrispondenti `ProductID` valore viene recuperato dal `DataKeys` insieme.</span><span class="sxs-lookup"><span data-stu-id="8f73e-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="8f73e-170">In questo esercizio, è sufficiente visualizzare un messaggio informativo nel `DeleteResults` etichetta, anche se in un'applicazione funzionante è d invece eseguire una chiamata al `ProductsBLL` classe s `DeleteProduct(productID)` metodo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="8f73e-171">Con l'aggiunta di questo gestore eventi, facendo clic sul pulsante Elimina prodotti selezionati a questo punto viene visualizzato il `ProductID` s dei prodotti selezionati.</span><span class="sxs-lookup"><span data-stu-id="8f73e-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


<span data-ttu-id="8f73e-172">[![Quando si fa clic sul pulsante prodotti eliminare selezionato ProductIDs di prodotti selezionati sono elencati](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="8f73e-173">**Figura 8**: quando l'eliminazione selezionato prodotti fa clic sul pulsante i prodotti selezionati `ProductID` sono elencati ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="8f73e-174">Passaggio 4: Aggiunta di selezionare tutte e deselezionare tutti i pulsanti</span><span class="sxs-lookup"><span data-stu-id="8f73e-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="8f73e-175">Se si desidera eliminare tutti i prodotti nella pagina corrente, è necessario controllare ogni le caselle di controllo di dieci.</span><span class="sxs-lookup"><span data-stu-id="8f73e-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="8f73e-176">Possiamo aiutarti accelerare questo processo aggiungendo tutti un controllo pulsante che, quando si fa clic, selezionate tutte le caselle di controllo nella griglia.</span><span class="sxs-lookup"><span data-stu-id="8f73e-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="8f73e-177">Un pulsante di deselezionare tutto sarebbe ugualmente utile.</span><span class="sxs-lookup"><span data-stu-id="8f73e-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="8f73e-178">Aggiungere due controlli Web pulsante alla pagina, inserirli sopra il controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="8f73e-179">Impostare il primo s `ID` a `CheckAll` e il relativo `Text` proprietà per controllare tutti; impostare la seconda s `ID` a `UncheckAll` e il relativo `Text` deselezionare tutte le proprietà.</span><span class="sxs-lookup"><span data-stu-id="8f73e-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="8f73e-180">Successivamente, creare un metodo nella classe code-behind denominata `ToggleCheckState(checkState)` che, quando richiamata, enumera il `Products` GridView s `Rows` insieme e imposta s ogni casella di controllo `Checked` sul valore dell'oggetto passato in *checkState*  parametro.</span><span class="sxs-lookup"><span data-stu-id="8f73e-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="8f73e-181">Successivamente, creare `Click` gestori eventi per il `CheckAll` e `UncheckAll` pulsanti.</span><span class="sxs-lookup"><span data-stu-id="8f73e-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="8f73e-182">In `CheckAll` gestore dell'evento s, semplicemente chiamare `ToggleCheckState(true)`; in `UncheckAll`, chiamare `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="8f73e-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="8f73e-183">Con questo codice, fare clic sul pulsante Seleziona tutto provoca un postback e controlla tutte le caselle di controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="8f73e-184">Analogamente, facendo clic su deselezionare tutto Deseleziona tutte le caselle di controllo.</span><span class="sxs-lookup"><span data-stu-id="8f73e-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="8f73e-185">Figura 9 viene visualizzata la schermata dopo aver verificato il pulsante Seleziona tutto.</span><span class="sxs-lookup"><span data-stu-id="8f73e-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


<span data-ttu-id="8f73e-186">[![Facendo clic su Controlla che tutti i pulsante Seleziona tutte le caselle di controllo](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="8f73e-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="8f73e-187">**Figura 9**: fare clic su di controllare tutti i pulsante Seleziona tutte le caselle di controllo ([fare clic per visualizzare l'immagine ingrandita](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="8f73e-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="8f73e-188">Quando la visualizzazione di una colonna di caselle di controllo, un approccio per la selezione o deselezione di tutte le caselle di controllo è attraverso una casella di controllo nella riga di intestazione.</span><span class="sxs-lookup"><span data-stu-id="8f73e-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="8f73e-189">Inoltre, corrente selezionare tutte le / implementazione deseleziona tutto richiede un postback.</span><span class="sxs-lookup"><span data-stu-id="8f73e-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="8f73e-190">Le caselle di controllo è possibile selezionarla o deselezionarla, tuttavia, completamente tramite script sul lato client, fornendo un'esperienza utente snappier.</span><span class="sxs-lookup"><span data-stu-id="8f73e-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="8f73e-191">Per esplorare usando una casella di controllo di riga di intestazione per deselezionare tutti e controllare tutte in dettaglio, insieme a una discussione sull'utilizzo delle tecniche sul lato client, consultare [verifica tutte le caselle di controllo in uno Script sul lato Client utilizzando GridView e una casella di controllo tutto verificare](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="8f73e-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="8f73e-192">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="8f73e-192">Summary</span></span>

<span data-ttu-id="8f73e-193">Nei casi in cui sia necessario per consentire agli utenti di scegliere un numero arbitrario di righe da un controllo GridView prima di procedere, aggiunta di una colonna di caselle di controllo è una delle opzioni.</span><span class="sxs-lookup"><span data-stu-id="8f73e-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="8f73e-194">Come abbiamo visto in questa esercitazione, tra cui una colonna di caselle di controllo GridView comporta l'aggiunta di un TemplateField con un controllo casella di controllo Web.</span><span class="sxs-lookup"><span data-stu-id="8f73e-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="8f73e-195">Tramite un controllo Web (e inserendo markup direttamente il modello, come è stato fatto nell'esercitazione precedente) ASP.NET memorizza automaticamente le caselle di controllo sono stati e non è stati selezionati durante il postback.</span><span class="sxs-lookup"><span data-stu-id="8f73e-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="8f73e-196">È possibile accedere anche a livello di codice le caselle di controllo nel codice per determinare se è selezionata la casella di controllo specifico o per modificare lo stato di selezione.</span><span class="sxs-lookup"><span data-stu-id="8f73e-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to chnage the checked state.</span></span>

<span data-ttu-id="8f73e-197">In questa esercitazione e l'ultimo esaminato l'aggiunta di una colonna di selettore di riga a GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="8f73e-198">Nell'esercitazione successiva verrà esaminato, con un bit di lavoro, è possibile aggiungere funzionalità di inserimento a GridView.</span><span class="sxs-lookup"><span data-stu-id="8f73e-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="8f73e-199">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="8f73e-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="8f73e-200">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="8f73e-200">About the Author</span></span>

<span data-ttu-id="8f73e-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), l'autore di sette libri e fondatore di [4GuysFromRolla](http://www.4guysfromrolla.com), ha lavorato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="8f73e-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="8f73e-202">Scott funziona come un consulente trainer e writer.</span><span class="sxs-lookup"><span data-stu-id="8f73e-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="8f73e-203">Il suo ultimo libro è [ *SAM insegna manualmente ASP.NET 2.0 nelle 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="8f73e-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="8f73e-204">Egli può essere raggiunto al [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o sul suo blog, cui è reperibile in [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="8f73e-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8f73e-205">[Precedente](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Successivo](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="8f73e-205">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
