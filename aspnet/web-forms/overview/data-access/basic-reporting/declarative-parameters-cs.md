---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Parametri dichiarativi (c#) | Documenti Microsoft
author: rick-anderson
description: In questa esercitazione verrà illustrato come utilizzare un parametro impostato su un valore hardcoded per selezionare i dati da visualizzare in un controllo DetailsView.
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: 840630852d28f49f4f4387f1d2cc6b275b468fc2
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30875939"
---
<a name="declarative-parameters-c"></a><span data-ttu-id="d1a02-103">Parametri dichiarativi (c#)</span><span class="sxs-lookup"><span data-stu-id="d1a02-103">Declarative Parameters (C#)</span></span>
====================
<span data-ttu-id="d1a02-104">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d1a02-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d1a02-105">[Scaricare App di esempio](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) o [Scarica il PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d1a02-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="d1a02-106">In questa esercitazione verrà illustrato come utilizzare un parametro impostato su un valore hardcoded per selezionare i dati da visualizzare in un controllo DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d1a02-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>


## <a name="introduction"></a><span data-ttu-id="d1a02-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="d1a02-107">Introduction</span></span>

<span data-ttu-id="d1a02-108">Nel [ultima esercitazione](displaying-data-with-the-objectdatasource-cs.md) abbiamo esaminato la visualizzazione dei dati con i controlli di GridView, DetailsView e FormView associati a un controllo ObjectDataSource che ha richiamato il `GetProducts()` metodo la `ProductsBLL` classe.</span><span class="sxs-lookup"><span data-stu-id="d1a02-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="d1a02-109">Il `GetProducts()` il metodo restituisce un oggetto DataTable fortemente tipizzato popolato con tutti i record dal database di Northwind `Products` tabella.</span><span class="sxs-lookup"><span data-stu-id="d1a02-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="d1a02-110">Il `ProductsBLL` classe contiene metodi aggiuntivi per la restituzione solo subset dei prodotti - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, e `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="d1a02-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="d1a02-111">Questi tre metodi prevedono un parametro di input che indica la modalità filtrare le informazioni sul prodotto restituito.</span><span class="sxs-lookup"><span data-stu-id="d1a02-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="d1a02-112">ObjectDataSource può essere utilizzato per richiamare i metodi che prevede parametri di input, ma per farlo è necessario specificare da dove provengono i valori per questi parametri.</span><span class="sxs-lookup"><span data-stu-id="d1a02-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="d1a02-113">I valori dei parametri possono essere hard-coded o possono provenire da un'ampia gamma di origini dinamiche, ad esempio: valori stringa di query, variabili di sessione, il valore della proprietà di un controllo Web nella pagina o ad altri utenti.</span><span class="sxs-lookup"><span data-stu-id="d1a02-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="d1a02-114">Per questa esercitazione innanzitutto che illustrano come utilizzare un parametro impostato su un valore hardcoded.</span><span class="sxs-lookup"><span data-stu-id="d1a02-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="d1a02-115">In particolare, vedremo durante l'aggiunta di un controllo DetailsView alla pagina che visualizza informazioni su un prodotto specifico, vale a dire ' Chef Anton s Gumbo Mix, che ha un `ProductID` pari a 5.</span><span class="sxs-lookup"><span data-stu-id="d1a02-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="d1a02-116">Successivamente, vedremo come impostare il valore del parametro in base a un controllo Web.</span><span class="sxs-lookup"><span data-stu-id="d1a02-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="d1a02-117">In particolare, si userà una casella di testo per consentire all'utente di tipo in un paese, dopo il quale è possibile fare clic su un pulsante per visualizzare l'elenco dei fornitori che si trovano in tale paese.</span><span class="sxs-lookup"><span data-stu-id="d1a02-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="d1a02-118">Utilizzo di un valore di parametro hardcoded</span><span class="sxs-lookup"><span data-stu-id="d1a02-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="d1a02-119">Per il primo esempio, per iniziare, aggiungere un controllo DetailsView per il `DeclarativeParams.aspx` nella pagina di `BasicReporting` cartella.</span><span class="sxs-lookup"><span data-stu-id="d1a02-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="d1a02-120">Smart tag del controllo DetailsView selezionare &lt;nuova origine dati&gt; dall'elenco a discesa elenco e scegliere di aggiungere un ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="d1a02-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>


<span data-ttu-id="d1a02-121">[![Aggiungere un ObjectDataSource alla pagina](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="d1a02-122">**Figura 1**: aggiungere un ObjectDataSource ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>


<span data-ttu-id="d1a02-123">Procedura guidata Scegli origine dati del controllo ObjectDataSource verrà avviata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d1a02-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="d1a02-124">Selezionare la `ProductsBLL` classe dalla schermata prima della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="d1a02-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>


<span data-ttu-id="d1a02-125">[![Selezionare la classe ProductsBLL](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="d1a02-126">**Figura 2**: selezionare il `ProductsBLL` classe ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>


<span data-ttu-id="d1a02-127">Poiché si desidera visualizzare informazioni su un prodotto specifico che si desidera usare il `GetProductByProductID(productID)` metodo.</span><span class="sxs-lookup"><span data-stu-id="d1a02-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="d1a02-128">[![Scegliere il metodo GetProductByProductID(productID)](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="d1a02-129">**Figura 3**: scegliere il `GetProductByProductID(productID)` metodo ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>


<span data-ttu-id="d1a02-130">Poiché il metodo selezionati è incluso un parametro, sussiste una schermata di altre per la procedura guidata, in cui viene chiesto di definire il valore da utilizzare per il parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="d1a02-131">L'elenco a sinistra mostra tutti i parametri per il metodo selezionato.</span><span class="sxs-lookup"><span data-stu-id="d1a02-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="d1a02-132">Per `GetProductByProductID(productID)` è presente un solo `productID`.</span><span class="sxs-lookup"><span data-stu-id="d1a02-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="d1a02-133">Nella parte destra è possibile specificare il valore del parametro selezionato.</span><span class="sxs-lookup"><span data-stu-id="d1a02-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="d1a02-134">L'elenco di riepilogo a discesa Origine parametro enumera le possibili origini diverse per il valore del parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="d1a02-135">Poiché si desidera specificare un valore hardcoded di 5 per il `productID` parametro, lasciare l'origine del parametro come nessuno e immettere 5 nella casella di testo DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="d1a02-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>


<span data-ttu-id="d1a02-136">[![Un Hard-Coded parametro valore di 5 verrà utilizzato per il parametro productID](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="d1a02-137">**Figura 4**: A Hard-Coded parametro valore di 5 verrà utilizzato per il `productID` parametro ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>


<span data-ttu-id="d1a02-138">Dopo aver completato la configurazione guidata origine dati, markup dichiarativo del controllo ObjectDataSource include un `Parameter` oggetto di `SelectParameters` raccolta per ognuno dei parametri di input previsti dal metodo definito nel `SelectMethod` proprietà.</span><span class="sxs-lookup"><span data-stu-id="d1a02-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="d1a02-139">Poiché il metodo viene usata in questo esempio prevede solo un singolo parametro di input, `parameterID`, è presente solo una voce di seguito.</span><span class="sxs-lookup"><span data-stu-id="d1a02-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="d1a02-140">Il `SelectParameters` raccolta può contenere qualsiasi classe che deriva dal `Parameter` classe il `System.Web.UI.WebControls` dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="d1a02-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="d1a02-141">Per i valori di parametro hardcoded base `Parameter` classe viene utilizzata, ma per l'altro parametro origine opzioni di un oggetto derivato `Parameter` classe viene utilizzata, è possibile creare anche una propria [tipi di parametri personalizzati](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), se necessario.</span><span class="sxs-lookup"><span data-stu-id="d1a02-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="d1a02-142">Se state procedendo nel proprio computer dichiarativo vedrai a questo punto possono includere valori per il `InsertMethod`, `UpdateMethod`, e `DeleteMethod` proprietà, così come `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="d1a02-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="d1a02-143">Procedura guidata Scegli origine dati di ObjectDataSource specifica automaticamente i metodi di `ProductBLL` per l'inserimento, aggiornamento ed eliminazione, in modo da utilizzare a meno che non è deselezionata in modo esplicito i timeout, verrà incluso nel codice precedente.</span><span class="sxs-lookup"><span data-stu-id="d1a02-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>


<span data-ttu-id="d1a02-144">Durante la visita questa pagina, i dati di controllo Web richiamerà ObjectDataSource `Select` metodo, che chiamerà la `ProductsBLL` della classe `GetProductByProductID(productID)` metodo usando il valore hardcoded di 5 per il `productID` parametro di input.</span><span class="sxs-lookup"><span data-stu-id="d1a02-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="d1a02-145">Il metodo restituirà l'oggetto fortemente tipizzato `ProductDataTable` oggetto che contiene una sola riga con informazioni su Chef Anton's Gumbo Mix (il prodotto con `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="d1a02-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>


<span data-ttu-id="d1a02-146">[![Vengono visualizzate informazioni su Chef Anton's Gumbo Mix](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="d1a02-147">**Figura 5**: vengono visualizzate informazioni su Chef Anton's Gumbo Mix ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>


## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="d1a02-148">Impostazione del valore di parametro per il valore della proprietà di un controllo Web</span><span class="sxs-lookup"><span data-stu-id="d1a02-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="d1a02-149">Parametro di ObjectDataSource valori possono essere impostati anche in base al valore di un controllo Web nella pagina.</span><span class="sxs-lookup"><span data-stu-id="d1a02-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="d1a02-150">Per illustrare questo concetto, si hanno un controllo GridView in cui sono elencati tutti i fornitori che si trovano in un paese specificato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="d1a02-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="d1a02-151">Per eseguire l'avvio, aggiungere una casella di testo alla pagina in cui l'utente può immettere un nome di paese.</span><span class="sxs-lookup"><span data-stu-id="d1a02-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="d1a02-152">Impostare questo valore del controllo TextBox `ID` proprietà `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="d1a02-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="d1a02-153">Inoltre, aggiungere un controllo pulsante Web.</span><span class="sxs-lookup"><span data-stu-id="d1a02-153">Also add a Button Web control.</span></span>


<span data-ttu-id="d1a02-154">[![Aggiungere una casella di testo con ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="d1a02-155">**Figura 6**: aggiungere una casella di testo alla pagina contenente `ID` `CountryName` ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>


<span data-ttu-id="d1a02-156">Successivamente, aggiungere un controllo GridView alla pagina e, dallo smart tag, scegliere di aggiungere un nuovo oggetto ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="d1a02-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="d1a02-157">Poiché si desidera visualizzare fornitore informazioni selezionare il `SuppliersBLL` classe dalla schermata prima della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="d1a02-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="d1a02-158">Dalla seconda schermata scegliere il `GetSuppliersByCountry(country)` metodo.</span><span class="sxs-lookup"><span data-stu-id="d1a02-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>


<span data-ttu-id="d1a02-159">[![Scegliere il metodo GetSuppliersByCountry(country)](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="d1a02-160">**Figura 7**: scegliere il `GetSuppliersByCountry(country)` metodo ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>


<span data-ttu-id="d1a02-161">Poiché il `GetSuppliersByCountry(country)` metodo ha un parametro di input, la procedura guidata include ancora una volta una schermata finale per la scelta del valore del parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="d1a02-162">Questa volta, impostare l'origine del parametro di controllo.</span><span class="sxs-lookup"><span data-stu-id="d1a02-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="d1a02-163">Questo verrà popolato l'elenco di riepilogo a discesa ControlID con i nomi dei controlli della pagina. Selezionare il `CountryName` controllo dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="d1a02-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="d1a02-164">Quando viene innanzitutto visitata la `CountryName` casella di testo sarà vuoto, viene restituito alcun risultato e viene visualizzato nulla.</span><span class="sxs-lookup"><span data-stu-id="d1a02-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="d1a02-165">Se si desidera visualizzare alcuni risultati per impostazione predefinita, impostare di conseguenza la casella di testo DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="d1a02-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>


<span data-ttu-id="d1a02-166">[![Impostare il valore del parametro per il valore del controllo CountryName](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="d1a02-167">**Figura 8**: impostare il valore del parametro il `CountryName` valore Control ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>


<span data-ttu-id="d1a02-168">Markup dichiarativo di ObjectDataSource differisce leggermente dal primo esempio, utilizzando un [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) anziché lo standard `Parameter` oggetto.</span><span class="sxs-lookup"><span data-stu-id="d1a02-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="d1a02-169">Oggetto `ControlParameter` dispone di proprietà aggiuntive per specificare il `ID` del controllo Web e il valore della proprietà da utilizzare per il parametro (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="d1a02-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="d1a02-170">La configurazione guidata origine dati è stata abbastanza per determinare che, per una casella di testo è consisterà probabilmente nell'utilizzare il `Text` proprietà per il valore del parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="d1a02-171">Se, tuttavia, si desidera utilizzare un altro valore della proprietà dal controllo Web è possibile modificare il `PropertyName` valore qui o facendo clic sul collegamento "Mostra proprietà avanzate" della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="d1a02-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="d1a02-172">Quando si visita la pagina per la prima volta il `CountryName` casella di testo è vuota.</span><span class="sxs-lookup"><span data-stu-id="d1a02-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="d1a02-173">ObjectDataSource `Select` metodo ancora viene richiamato da GridView, ma un valore di `null` viene passato il `GetSuppliersByCountry(country)` metodo.</span><span class="sxs-lookup"><span data-stu-id="d1a02-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="d1a02-174">Converte l'oggetto TableAdapter il `null` in un database `NULL` valore (`DBNull.Value`), ma la query utilizzata dal `GetSuppliersByCountry(country)` metodo è scritta in modo che non restituisce i valori quando un `NULL` sia stato specificato per il `@CategoryID`parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="d1a02-175">In breve, non vengono restituiti fornitori.</span><span class="sxs-lookup"><span data-stu-id="d1a02-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="d1a02-176">Una volta il visitatore entra in un paese, tuttavia e fa clic sul pulsante Mostra fornitori per generare un postback, ObjectDataSource `Select` viene rieseguita (metodo), passando il controllo TextBox `Text` valore come il `country` parametro.</span><span class="sxs-lookup"><span data-stu-id="d1a02-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>


<span data-ttu-id="d1a02-177">[![Vengono visualizzati i fornitori del Canada](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="d1a02-178">**Figura 9**: vengono visualizzati i fornitori del Canada ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>


## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="d1a02-179">Visualizzazione di tutti i fornitori per impostazione predefinita</span><span class="sxs-lookup"><span data-stu-id="d1a02-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="d1a02-180">Invece di nessuno dei fornitori la prima visualizzazione della pagina potrebbe essere necessario mostrare *tutti* suppliers inizialmente, consentendo all'utente di ridurre l'elenco, specificare un nome di paese nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="d1a02-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="d1a02-181">Quando la casella di testo è vuota, il `SuppliersBLL` della classe `GetSuppliersByCountry(country)` viene passato una `null` valore per il relativo *`country`* parametro di input.</span><span class="sxs-lookup"><span data-stu-id="d1a02-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="d1a02-182">Questo `null` valore viene quindi passato verso il basso il campo DAL `GetSupplierByCountry(country)` (metodo), in cui viene convertita in un database `NULL` valore per il `@Country` parametro nella query seguente:</span><span class="sxs-lookup"><span data-stu-id="d1a02-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="d1a02-183">L'espressione `Country = NULL` restituisce sempre False, anche per i record il cui `Country` colonna ha un `NULL` valore; pertanto, viene restituito alcun record.</span><span class="sxs-lookup"><span data-stu-id="d1a02-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="d1a02-184">Per restituire *tutti* suppliers quando il casella di testo paese è vuoto, è possibile aumentare la `GetSuppliersByCountry(country)` metodo BLL per richiamare il `GetSuppliers()` metodo quando il relativo parametro paese è `null` e di chiamare DAL `GetSuppliersByCountry(country)` metodo in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="d1a02-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="d1a02-185">Ciò avrà l'effetto di restituzione di tutti i fornitori quando non viene specificato alcun paese e il subset appropriato di fornitori quando il parametro paese è incluso.</span><span class="sxs-lookup"><span data-stu-id="d1a02-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="d1a02-186">Modifica il `GetSuppliersByCountry(country)` metodo la `SuppliersBLL` classe per le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d1a02-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="d1a02-187">Con questa modifica il `DeclarativeParams.aspx` pagina vengono visualizzati tutti i fornitori quando prima visita (o ogni volta che il `CountryName` casella di testo è vuota).</span><span class="sxs-lookup"><span data-stu-id="d1a02-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>


<span data-ttu-id="d1a02-188">[![Tutti i fornitori sono ora visualizzati per impostazione predefinita](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="d1a02-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="d1a02-189">**Figura 10**: tutti i fornitori sono ora visualizzati per impostazione predefinita ([fare clic per visualizzare l'immagine ingrandita](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="d1a02-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>


## <a name="summary"></a><span data-ttu-id="d1a02-190">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="d1a02-190">Summary</span></span>

<span data-ttu-id="d1a02-191">Per utilizzare i metodi con parametri di input, è necessario specificare i valori per i parametri in ObjectDataSource `SelectParameters` insieme.</span><span class="sxs-lookup"><span data-stu-id="d1a02-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="d1a02-192">Consentono di diversi tipi di parametri per il valore del parametro deve essere ottenuta da origini diverse.</span><span class="sxs-lookup"><span data-stu-id="d1a02-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="d1a02-193">Il tipo di parametro predefinito viene utilizzato un valore hardcoded, ma solo come facilmente, senza una riga di codice, i valori di parametro possono essere ottenuti da querystring, sessione variabili, i cookie e anche immesso dall'utente, i valori dai controlli Web nella pagina.</span><span class="sxs-lookup"><span data-stu-id="d1a02-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="d1a02-194">Negli esempi che è stato esaminato in questa esercitazione viene illustrato come utilizzare i valori dei parametri dichiarativa.</span><span class="sxs-lookup"><span data-stu-id="d1a02-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="d1a02-195">Tuttavia, potrebbe essere è necessario utilizzare un'origine di parametro che non è disponibile, ad esempio la data e ora correnti oppure, se il sito è stato mediante l'appartenenza, l'ID utente del visitatore.</span><span class="sxs-lookup"><span data-stu-id="d1a02-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="d1a02-196">Per questi scenari è possibile impostare i valori dei parametri a livello di codice prima di ObjectDataSource richiamando il metodo dell'oggetto sottostante.</span><span class="sxs-lookup"><span data-stu-id="d1a02-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="d1a02-197">Vedremo come effettuare questa operazione nel [esercitazione successiva](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="d1a02-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="d1a02-198">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="d1a02-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d1a02-199">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="d1a02-199">About the Author</span></span>

<span data-ttu-id="d1a02-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), l'autore di sette libri e fondatore di [4GuysFromRolla](http://www.4guysfromrolla.com), ha lavorato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="d1a02-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d1a02-201">Scott funziona come un consulente trainer e writer.</span><span class="sxs-lookup"><span data-stu-id="d1a02-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d1a02-202">Il suo ultimo libro è [ *SAM insegna manualmente ASP.NET 2.0 nelle 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d1a02-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d1a02-203">Egli può essere raggiunto al [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o sul suo blog, cui è reperibile in [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d1a02-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d1a02-204">Ringraziamenti speciali</span><span class="sxs-lookup"><span data-stu-id="d1a02-204">Special Thanks To</span></span>

<span data-ttu-id="d1a02-205">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="d1a02-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d1a02-206">Il revisore per questa esercitazione Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="d1a02-206">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="d1a02-207">Se si è interessati my prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="d1a02-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d1a02-208">In caso affermativo, Inviami una riga alla [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d1a02-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d1a02-209">[Precedente](displaying-data-with-the-objectdatasource-cs.md)
> [Successivo](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d1a02-209">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
