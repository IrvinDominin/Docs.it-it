---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Il recupero e visualizzazione dei dati con modello di associazione e web form | Documenti Microsoft
author: tfitzmac
description: Questa serie di esercitazioni illustra gli aspetti di base dell'utilizzo di associazione del modello con un progetto di Web Form ASP.NET. Associazione di modelli consente l'interazione dei dati più semplice-...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/27/2014
ms.topic: article
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: 26873efa5dbfdbdab39a52cfb9cfd5a65c8231a3
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30889095"
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="f1228-104">Il recupero e visualizzazione dei dati con l'associazione di modelli e web form</span><span class="sxs-lookup"><span data-stu-id="f1228-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="f1228-105">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="f1228-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="f1228-106">Questa serie di esercitazioni illustra gli aspetti di base dell'utilizzo di associazione del modello con un progetto di Web Form ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f1228-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="f1228-107">Associazione di modelli consente l'interazione dei dati più semplice rispetto a gestione dati di oggetti di origine (ad esempio ObjectDataSource o SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="f1228-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="f1228-108">Questa serie inizia con materiale introduttivo e sposta concetti più avanzati nelle esercitazioni successive.</span><span class="sxs-lookup"><span data-stu-id="f1228-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="f1228-109">Il modello di associazione del modello funziona con qualsiasi tecnologia di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="f1228-110">In questa esercitazione si utilizzerà Entity Framework, ma è possibile utilizzare la tecnologia di accesso ai dati che è più familiare.</span><span class="sxs-lookup"><span data-stu-id="f1228-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="f1228-111">Da un controllo server associato a dati, ad esempio un controllo GridView, ListView, DetailsView o FormView, specificare i nomi dei metodi da utilizzare per la selezione, aggiornamento, eliminazione e creazione di dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="f1228-112">In questa esercitazione, si specificherà un valore per SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="f1228-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="f1228-113">All'interno di tale metodo, fornire la logica per il recupero dei dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="f1228-114">Nella prossima esercitazione, si imposterà i valori per InsertMethod, UpdateMethod e DeleteMethod.</span><span class="sxs-lookup"><span data-stu-id="f1228-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="f1228-115">È possibile [scaricare](https://go.microsoft.com/fwlink/?LinkId=286116) il progetto completo in c# o VB.</span><span class="sxs-lookup"><span data-stu-id="f1228-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="f1228-116">Il codice scaricabile funziona con Visual Studio 2012 o Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="f1228-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="f1228-117">Usa il modello di Visual Studio 2012, è leggermente diverso rispetto al modello di Visual Studio 2013 illustrato in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="f1228-118">Nell'esercitazione si esegue l'applicazione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f1228-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="f1228-119">È inoltre possibile rendere l'applicazione disponibile su Internet mediante la distribuzione di un provider di hosting.</span><span class="sxs-lookup"><span data-stu-id="f1228-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="f1228-120">Microsoft offre l'hosting web gratuito per fino a 10 siti web in un</span><span class="sxs-lookup"><span data-stu-id="f1228-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="f1228-121">[senza account di valutazione Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="f1228-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="f1228-122">Per informazioni su come distribuire un progetto web di Visual Studio per App Web di servizio App di Azure, vedere il [distribuzione Web ASP.NET utilizzando Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) serie.</span><span class="sxs-lookup"><span data-stu-id="f1228-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="f1228-123">Inoltre, tale esercitazione viene illustrato come utilizzare le migrazioni di Entity Framework Code First per distribuire il database di SQL Server in Database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="f1228-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="f1228-124">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="f1228-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="f1228-125">Microsoft Visual Studio 2013 o Microsoft Visual Studio Express 2013 per Web</span><span class="sxs-lookup"><span data-stu-id="f1228-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="f1228-126">In questa esercitazione si integra inoltre con Visual Studio 2012, ma saranno alcune differenze nel modello di progetto e l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="f1228-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="f1228-127">Occorre invece compilare</span><span class="sxs-lookup"><span data-stu-id="f1228-127">What you'll build</span></span>

<span data-ttu-id="f1228-128">In questa esercitazione, effettuare le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f1228-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="f1228-129">Creazione di oggetti dati che riflettono un'università con studenti iscritti a corsi</span><span class="sxs-lookup"><span data-stu-id="f1228-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="f1228-130">Compilare tabelle di database di oggetti</span><span class="sxs-lookup"><span data-stu-id="f1228-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="f1228-131">Popolare il database con dati di test</span><span class="sxs-lookup"><span data-stu-id="f1228-131">Populate the database with test data</span></span>
4. <span data-ttu-id="f1228-132">Visualizzare i dati in un web form</span><span class="sxs-lookup"><span data-stu-id="f1228-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="f1228-133">Configurazione di progetto</span><span class="sxs-lookup"><span data-stu-id="f1228-133">Set up project</span></span>

<span data-ttu-id="f1228-134">In Visual Studio 2013, creare un nuovo **applicazione Web ASP.NET** chiamato **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="f1228-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Crea progetto](retrieving-data/_static/image2.png)

<span data-ttu-id="f1228-136">Selezionare il modello Web Form e lasciare le altre opzioni predefinite.</span><span class="sxs-lookup"><span data-stu-id="f1228-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="f1228-137">Fare clic su OK per il progetto di installazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-137">Click OK to setup the project.</span></span>

![Selezionare i web form](retrieving-data/_static/image3.png)

<span data-ttu-id="f1228-139">Prima di tutto, verranno apportate alcune piccole modifiche per personalizzare l'aspetto del sito.</span><span class="sxs-lookup"><span data-stu-id="f1228-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="f1228-140">Aprire il **Site. master** file e modificare il titolo in modo da includere University Contoso anziché l'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f1228-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="f1228-141">Quindi, modificare il testo dell'intestazione da **nome applicazione** a **University Contoso**.</span><span class="sxs-lookup"><span data-stu-id="f1228-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="f1228-142">Anche in Site. master, è possibile modificare i collegamenti di navigazione che vengono visualizzati nell'intestazione in modo da riflettere le pagine rilevanti per questo sito.</span><span class="sxs-lookup"><span data-stu-id="f1228-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="f1228-143">Non è necessario uno di **su** pagina o **contatto** pagina tali collegamenti possono essere rimossi.</span><span class="sxs-lookup"><span data-stu-id="f1228-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="f1228-144">In alternativa, è necessario un collegamento a una pagina denominata **studenti**.</span><span class="sxs-lookup"><span data-stu-id="f1228-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="f1228-145">Questa pagina non è ancora stata creata.</span><span class="sxs-lookup"><span data-stu-id="f1228-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="f1228-146">Salvare e chiudere Site. master.</span><span class="sxs-lookup"><span data-stu-id="f1228-146">Save and close Site.Master.</span></span>

<span data-ttu-id="f1228-147">A questo punto, si creeranno il web form per visualizzare i dati di studenti.</span><span class="sxs-lookup"><span data-stu-id="f1228-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="f1228-148">Mouse sul progetto, e **Aggiungi** un **nuovo elemento**.</span><span class="sxs-lookup"><span data-stu-id="f1228-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="f1228-149">Selezionare il **Web Form con pagina Master** , modello e denominarlo **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="f1228-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Creare una pagina](retrieving-data/_static/image5.png)

<span data-ttu-id="f1228-151">Selezionare **Site. master** come pagina master per il nuovo modulo web.</span><span class="sxs-lookup"><span data-stu-id="f1228-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="f1228-152">Creare i modelli di data e un database</span><span class="sxs-lookup"><span data-stu-id="f1228-152">Create the data models and database</span></span>

<span data-ttu-id="f1228-153">Utilizzare migrazioni Code First per creare oggetti e le tabelle di database corrispondente.</span><span class="sxs-lookup"><span data-stu-id="f1228-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="f1228-154">Queste tabelle archivia le informazioni riguardanti i corsi e studenti.</span><span class="sxs-lookup"><span data-stu-id="f1228-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="f1228-155">Nella cartella Models, aggiungere una nuova classe denominata **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="f1228-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![creare una classe di modello](retrieving-data/_static/image7.png)

<span data-ttu-id="f1228-157">In questo file, definire le classi SchoolContext, studente, registrazione e corso come segue:</span><span class="sxs-lookup"><span data-stu-id="f1228-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="f1228-158">La classe SchoolContext deriva da DbContext, che gestisce la connessione al database e la modifica dei dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="f1228-159">Nella classe Student, osservare gli attributi applicati per la **FirstName**, **LastName**, e **anno** proprietà.</span><span class="sxs-lookup"><span data-stu-id="f1228-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="f1228-160">Questi attributi verranno utilizzati per la convalida dei dati in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="f1228-161">Per semplificare il codice per questo progetto di dimostrazione, queste proprietà sono contrassegnate con attributi di convalida dei dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="f1228-162">In un progetto reale, applicare gli attributi di convalida per tutte le proprietà che richiedono dati convalidati, ad esempio le proprietà nelle classi di registrazione e Course.</span><span class="sxs-lookup"><span data-stu-id="f1228-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="f1228-163">Salvare UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="f1228-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="f1228-164">Utilizzare gli strumenti per le migrazioni Code First per impostare un database in base a queste classi.</span><span class="sxs-lookup"><span data-stu-id="f1228-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="f1228-165">In **Package Manager Console**, eseguire il comando:</span><span class="sxs-lookup"><span data-stu-id="f1228-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="f1228-166">Se il comando viene completato correttamente, si riceverà un messaggio indicante che sono state abilitate le migrazioni,</span><span class="sxs-lookup"><span data-stu-id="f1228-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![abilitare le migrazioni](retrieving-data/_static/image8.png)

<span data-ttu-id="f1228-168">Si noti che un nuovo file denominato **Configuration.cs** è stato creato.</span><span class="sxs-lookup"><span data-stu-id="f1228-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="f1228-169">In Visual Studio, questo file viene aperto automaticamente dopo la sua creazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="f1228-170">La classe di configurazione contiene un **valore di inizializzazione** metodo che consente di pre-popolare le tabelle di database con dati di test.</span><span class="sxs-lookup"><span data-stu-id="f1228-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="f1228-171">Aggiungere il codice seguente al metodo di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="f1228-172">È necessario aggiungere un **utilizzando** istruzione per il **ContosoUniversityModelBinding.Models** dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f1228-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="f1228-173">Salvare Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="f1228-173">Save Configuration.cs.</span></span>

<span data-ttu-id="f1228-174">Nella Console di gestione pacchetti, eseguire il comando `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="f1228-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="f1228-175">Quindi, eseguire il comando `update-database`.</span><span class="sxs-lookup"><span data-stu-id="f1228-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="f1228-176">Se si riceve un'eccezione quando si esegue questo comando, è possibile che i valori per StudentID e CourseID sono diverse dai valori nel metodo di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="f1228-177">Aprire le tabelle nel database e trovare i valori esistenti per StudentID e CourseID.</span><span class="sxs-lookup"><span data-stu-id="f1228-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="f1228-178">Nel codice per la tabella le registrazioni il seeding, aggiungere tali valori.</span><span class="sxs-lookup"><span data-stu-id="f1228-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="f1228-179">È stato aggiunto il file di database, ma al momento è nascosto nel progetto.</span><span class="sxs-lookup"><span data-stu-id="f1228-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="f1228-180">Fare clic su **Mostra tutti i file** per visualizzare il file.</span><span class="sxs-lookup"><span data-stu-id="f1228-180">Click **Show All Files** to display the file.</span></span>

![Mostra tutti i file](retrieving-data/_static/image10.png)

<span data-ttu-id="f1228-182">Si noti il file con estensione mdf è ora visualizzato nell'App\_cartella dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![file di database](retrieving-data/_static/image12.png)

<span data-ttu-id="f1228-184">Fare doppio clic sul file con estensione mdf e aprire Esplora Server.</span><span class="sxs-lookup"><span data-stu-id="f1228-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="f1228-185">Le tabelle ora esistano e vengono popolate con dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-185">The tables now exist and are populated with data.</span></span>

![tabelle di database](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="f1228-187">Visualizzare i dati dalle tabelle correlate e gli studenti</span><span class="sxs-lookup"><span data-stu-id="f1228-187">Display data from Students and related tables</span></span>

<span data-ttu-id="f1228-188">Con i dati nel database, si è ora pronti per recuperare i dati e visualizzarli in una pagina web.</span><span class="sxs-lookup"><span data-stu-id="f1228-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="f1228-189">Si utilizzerà un **GridView** controllo per visualizzare i dati in righe e colonne.</span><span class="sxs-lookup"><span data-stu-id="f1228-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="f1228-190">Aprire Students.aspx e individuare il **MainContent** segnaposto.</span><span class="sxs-lookup"><span data-stu-id="f1228-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="f1228-191">All'interno di tale segnaposto, aggiungere un **GridView** controllo che include il codice seguente.</span><span class="sxs-lookup"><span data-stu-id="f1228-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="f1228-192">Esistono un paio di concetti importanti in questo codice di markup in cui si noti.</span><span class="sxs-lookup"><span data-stu-id="f1228-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="f1228-193">In primo luogo, si noti che è stato impostato un valore per il **SelectMethod** proprietà nell'elemento GridView.</span><span class="sxs-lookup"><span data-stu-id="f1228-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="f1228-194">Questo valore specifica il nome del metodo utilizzato per il recupero dei dati per il controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="f1228-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="f1228-195">Questo metodo verrà creato nel passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="f1228-195">You will create this method in the next step.</span></span> <span data-ttu-id="f1228-196">In secondo luogo, si noti che il **ItemType** proprietà è impostata per la classe Student creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="f1228-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="f1228-197">Impostando questo valore, è possibile fare riferimento alle proprietà di tale classe nel codice.</span><span class="sxs-lookup"><span data-stu-id="f1228-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="f1228-198">Ad esempio, la classe Student contiene una raccolta denominata le registrazioni.</span><span class="sxs-lookup"><span data-stu-id="f1228-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="f1228-199">È possibile utilizzare **Item.Enrollments** per recuperare tale insieme e quindi utilizzare la sintassi LINQ per recuperare la somma dei crediti registrati per ogni studente.</span><span class="sxs-lookup"><span data-stu-id="f1228-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="f1228-200">Nel file code-behind, è necessario aggiungere il metodo specificato per il **SelectMethod** valore.</span><span class="sxs-lookup"><span data-stu-id="f1228-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="f1228-201">Aprire **Students.aspx.cs**e aggiungere **utilizzando** istruzioni per la **ContosoUniversityModelBinding.Models** e **System.Data.Entity**gli spazi dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f1228-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="f1228-202">Quindi, aggiungere il metodo seguente.</span><span class="sxs-lookup"><span data-stu-id="f1228-202">Then, add the following method.</span></span> <span data-ttu-id="f1228-203">Si noti che il nome di questo metodo corrisponde al nome che immesso per SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="f1228-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="f1228-204">Il **Include** clausola migliora le prestazioni della query ma non è essenziale per la query per il lavoro.</span><span class="sxs-lookup"><span data-stu-id="f1228-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="f1228-205">Senza la clausola Include, è necessario recuperare i dati utilizzando il caricamento differito, che prevede l'invio di che una query separata per il database ogni volta correlati vengono recuperati i dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="f1228-206">Specificando la clausola Include, i dati vengono recuperati utilizzando il caricamento non differito, ovvero tutti i dati correlati viene recuperata mediante una singola query del database.</span><span class="sxs-lookup"><span data-stu-id="f1228-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="f1228-207">Nei casi in cui la maggior parte dei dati correlati non è può essere meno efficiente caricamento eager, utilizzato in quanto vengono recuperati più dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="f1228-208">Tuttavia, in questo caso, caricamento eager fornisce prestazioni ottimali perché i dati correlati vengono visualizzati per ogni record.</span><span class="sxs-lookup"><span data-stu-id="f1228-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="f1228-209">Per ulteriori informazioni su considerazione sulle prestazioni durante il caricamento di dati correlati, vedere la sezione intitolata **Lazy Eager ed esplicita durante il caricamento di dati correlati** nel [lettura di dati correlati con Entity Framework in una pagina ASP Applicazione MVC .NET](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) argomento.</span><span class="sxs-lookup"><span data-stu-id="f1228-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="f1228-210">Per impostazione predefinita, i dati vengono ordinati i valori della proprietà contrassegnata come chiave.</span><span class="sxs-lookup"><span data-stu-id="f1228-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="f1228-211">È possibile aggiungere una clausola OrderBy per specificare un valore diverso per l'ordinamento.</span><span class="sxs-lookup"><span data-stu-id="f1228-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="f1228-212">In questo esempio, la proprietà StudentID predefinita viene utilizzata per l'ordinamento.</span><span class="sxs-lookup"><span data-stu-id="f1228-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="f1228-213">Nel [ordinamento, Paging e filtro dei dati](sorting-paging-and-filtering-data.md) argomento, si consentirà all'utente di selezionare una colonna per l'ordinamento.</span><span class="sxs-lookup"><span data-stu-id="f1228-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="f1228-214">Eseguire l'applicazione web e passare alla pagina di studenti.</span><span class="sxs-lookup"><span data-stu-id="f1228-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="f1228-215">La pagina di studenti Visualizza le informazioni seguenti di studenti.</span><span class="sxs-lookup"><span data-stu-id="f1228-215">The Students page displays the following student information.</span></span>

![Mostra i dati](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="f1228-217">Generazione automatica di metodi di associazione di modelli</span><span class="sxs-lookup"><span data-stu-id="f1228-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="f1228-218">Quando questa serie di esercitazioni, è sufficiente copiare il codice dell'esercitazione al progetto.</span><span class="sxs-lookup"><span data-stu-id="f1228-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="f1228-219">Tuttavia, uno svantaggio di questo approccio è che non possono che riconosca la funzionalità fornita da Visual Studio per generare automaticamente il codice per i metodi di associazione del modello.</span><span class="sxs-lookup"><span data-stu-id="f1228-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="f1228-220">Quando si lavora su progetti, generazione automatica di codice può risparmiare tempo e la Guida è possibile ottenere un'idea di come implementare un'operazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="f1228-221">In questa sezione descrive la funzionalità di generazione automatica di codice.</span><span class="sxs-lookup"><span data-stu-id="f1228-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="f1228-222">Questa sezione è solo informativo e non contiene il codice che è necessario implementare nel progetto.</span><span class="sxs-lookup"><span data-stu-id="f1228-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="f1228-223">Quando si imposta un valore per il **SelectMethod**, **UpdateMethod**, **InsertMethod**, o **DeleteMethod** proprietà nel codice di seguito, è possibile selezionare il **creare un nuovo metodo** opzione.</span><span class="sxs-lookup"><span data-stu-id="f1228-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![creare nuovo metodo](retrieving-data/_static/image18.png)

<span data-ttu-id="f1228-225">Visual Studio non solo crea un metodo nel code-behind con la firma corretta, ma genera anche il codice di implementazione per facilitare l'esecuzione dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="f1228-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="f1228-226">Se si imposta innanzitutto il **ItemType** proprietà prima di utilizzare la funzionalità di generazione automatica di codice, il codice generato utilizzerà tale tipo per le operazioni.</span><span class="sxs-lookup"><span data-stu-id="f1228-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="f1228-227">Quando si imposta la proprietà UpdateMethod, ad esempio, viene generato automaticamente il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="f1228-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="f1228-228">Nuovamente, il codice precedente non è necessario essere aggiunti al progetto.</span><span class="sxs-lookup"><span data-stu-id="f1228-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="f1228-229">Nella prossima esercitazione, verranno implementati i metodi per l'aggiornamento, eliminazione e aggiunta di nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="f1228-230">Conclusione</span><span class="sxs-lookup"><span data-stu-id="f1228-230">Conclusion</span></span>

<span data-ttu-id="f1228-231">In questa esercitazione, si create classi di modello di dati e generata un database da tali classi.</span><span class="sxs-lookup"><span data-stu-id="f1228-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="f1228-232">Le tabelle di database è stato compilato con dati di test.</span><span class="sxs-lookup"><span data-stu-id="f1228-232">You filled the database tables with test data.</span></span> <span data-ttu-id="f1228-233">È utilizzata l'associazione del modello per recuperare i dati dal database e quindi visualizzati i dati in un controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="f1228-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="f1228-234">Nella prossima [esercitazione](updating-deleting-and-creating-data.md) in questa serie, verrà abilitata l'aggiornamento, eliminazione e creazione di dati.</span><span class="sxs-lookup"><span data-stu-id="f1228-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="f1228-235">avanti</span><span class="sxs-lookup"><span data-stu-id="f1228-235">Next</span></span>](updating-deleting-and-creating-data.md)
