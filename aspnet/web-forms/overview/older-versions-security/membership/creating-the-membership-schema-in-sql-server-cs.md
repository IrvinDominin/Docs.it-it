---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
title: Creazione dello Schema di appartenenza in SQL Server (c#) | Documenti Microsoft
author: rick-anderson
description: In questa esercitazione inizia esaminando le tecniche per l'aggiunta dello schema necessario per il database per utilizzare SqlMembershipProvider. Successivamente, abbiamo wi...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/18/2008
ms.topic: article
ms.assetid: b4ac129d-1b8e-41ca-a38f-9b19d7c7bb0e
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
msc.type: authoredcontent
ms.openlocfilehash: 4fa0476ca8336b56340dd177f9816acbe015ef7d
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/10/2018
ms.locfileid: "30891793"
---
<a name="creating-the-membership-schema-in-sql-server-c"></a><span data-ttu-id="9d797-104">Creazione dello Schema di appartenenza in SQL Server (c#)</span><span class="sxs-lookup"><span data-stu-id="9d797-104">Creating the Membership Schema in SQL Server (C#)</span></span>
====================
<span data-ttu-id="9d797-105">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9d797-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9d797-106">[Scaricare codice](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) o [Scarica il PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="9d797-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span></span>

> <span data-ttu-id="9d797-107">In questa esercitazione inizia esaminando le tecniche per l'aggiunta dello schema necessario per il database per utilizzare SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="9d797-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="9d797-108">Successivamente, verrà esaminare le tabelle nello schema di chiave e discutere lo scopo e l'importanza.</span><span class="sxs-lookup"><span data-stu-id="9d797-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="9d797-109">In questa esercitazione termina con un'occhiata a come stabilire il provider deve utilizzare il framework di appartenenza di un'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9d797-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>


## <a name="introduction"></a><span data-ttu-id="9d797-110">Introduzione</span><span class="sxs-lookup"><span data-stu-id="9d797-110">Introduction</span></span>

<span data-ttu-id="9d797-111">Le esercitazioni precedenti due esaminate tramite l'autenticazione basata su form per identificare i visitatori del sito Web.</span><span class="sxs-lookup"><span data-stu-id="9d797-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="9d797-112">Il framework di autenticazione form rende più semplice per gli sviluppatori di accedere un utente a un sito Web e per memorizzare le visite pagina tramite l'utilizzo di ticket di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="9d797-113">La `FormsAuthentication` classe include metodi per la generazione di ticket e l'aggiunta dei cookie del visitatore.</span><span class="sxs-lookup"><span data-stu-id="9d797-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="9d797-114">Il `FormsAuthenticationModule` esamina tutte le richieste in ingresso e, per quelle con un ticket di autenticazione valido, crea e associa un `GenericPrincipal` e `FormsIdentity` oggetto con la richiesta corrente.</span><span class="sxs-lookup"><span data-stu-id="9d797-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="9d797-115">Autenticazione basata su form è semplicemente un meccanismo per concedere un ticket di autenticazione per un visitatore per l'accesso in e, nelle richieste successive, l'analisi di tale ticket per determinare l'identità dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="9d797-116">Per un'applicazione web supportare gli account utente, è ancora necessario implementare un archivio utente e aggiungere funzionalità a convalidare le credenziali, registrare i nuovi utenti e le numerosissime altre attività relative all'account utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="9d797-117">Prima di ASP.NET 2.0, gli sviluppatori dovevano l'hook per l'implementazione di tutte queste attività relative all'account utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="9d797-118">Per fortuna, il team ASP.NET riconosciuto questo difetto ed è stato introdotto il framework di appartenenza con ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="9d797-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="9d797-119">Il framework di appartenenza è un set di classi in .NET Framework che forniscono un'interfaccia di programmazione per il completamento delle attività relative all'account utente di base.</span><span class="sxs-lookup"><span data-stu-id="9d797-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="9d797-120">Questo framework è incorporato nella parte superiore di [modello provider](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), che consente agli sviluppatori di aggiungere un'implementazione personalizzata in un'API standard.</span><span class="sxs-lookup"><span data-stu-id="9d797-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="9d797-121">Come descritto nel <a id="Tutorial1"> </a> [ *nozioni fondamentali sulla sicurezza e il supporto ASP.NET* ](../introduction/security-basics-and-asp-net-support-cs.md) esercitazione, .NET Framework viene fornito con due provider di appartenenze predefinito: [ `ActiveDirectoryMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) e [ `SqlMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d797-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-cs.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="9d797-122">Come suggerisce il nome, il `SqlMembershipProvider` utilizza un database di Microsoft SQL Server come archivio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="9d797-123">Per utilizzare questo provider in un'applicazione, è necessario indicare al provider i database da utilizzare come archivio.</span><span class="sxs-lookup"><span data-stu-id="9d797-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="9d797-124">Come si può immaginare, la `SqlMembershipProvider` prevede che il database dell'archivio utente per alcune tabelle di database, viste e stored procedure.</span><span class="sxs-lookup"><span data-stu-id="9d797-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="9d797-125">È necessario aggiungere lo schema previsto per il database selezionato.</span><span class="sxs-lookup"><span data-stu-id="9d797-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="9d797-126">In questa esercitazione inizia esaminando le tecniche per l'aggiunta dello schema necessario per il database per utilizzare il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-127">Successivamente, verrà esaminare le tabelle nello schema di chiave e discutere lo scopo e l'importanza.</span><span class="sxs-lookup"><span data-stu-id="9d797-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="9d797-128">In questa esercitazione termina con un'occhiata a come stabilire il provider deve utilizzare il framework di appartenenza di un'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9d797-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="9d797-129">Iniziamo!</span><span class="sxs-lookup"><span data-stu-id="9d797-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="9d797-130">Passaggio 1: Decidere dove posizionare l'archivio dell'utente</span><span class="sxs-lookup"><span data-stu-id="9d797-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="9d797-131">Dati di un'applicazione ASP.NET sono solitamente archiviati in un numero di tabelle in un database.</span><span class="sxs-lookup"><span data-stu-id="9d797-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="9d797-132">Quando si implementa il `SqlMembershipProvider` lo schema del database è necessario decidere se inserire lo schema di appartenenza nello stesso database i dati dell'applicazione o in un database alternativo.</span><span class="sxs-lookup"><span data-stu-id="9d797-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="9d797-133">È consigliabile individuare lo schema di appartenenza nello stesso database i dati dell'applicazione per i motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="9d797-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="9d797-134">**Manutenibilità** un'applicazione i cui dati sono incapsulati in un database non è più facile da comprendere, gestire e distribuire un'applicazione che ha due database separati.</span><span class="sxs-lookup"><span data-stu-id="9d797-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="9d797-135">**Integrità relazionale** individuando le tabelle correlate appartenenza nello stesso database come applicazione tabelle, è possibile stabilire [vincoli di chiave esterna](http://en.wikipedia.org/wiki/Foreign_key) tra le chiavi primarie nel Le tabelle correlate appartenenza e applicazione correlata.</span><span class="sxs-lookup"><span data-stu-id="9d797-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="9d797-136">Separazione i dati di archivio e l'applicazione dell'utente in database separati ha senso solo se sono presenti più applicazioni che ogni utilizzare database separati, ma devono condividere un archivio utente comune.</span><span class="sxs-lookup"><span data-stu-id="9d797-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="9d797-137">Creazione di un Database</span><span class="sxs-lookup"><span data-stu-id="9d797-137">Creating a Database</span></span>

<span data-ttu-id="9d797-138">L'applicazione che sviluppo poiché l'esercitazione secondo non è ancora necessario un database.</span><span class="sxs-lookup"><span data-stu-id="9d797-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="9d797-139">È necessario uno a questo punto, tuttavia, per l'archivio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="9d797-140">Possibile crearne uno e quindi aggiungervi lo schema necessario per il `SqlMembershipProvider` provider (vedere il passaggio 2).</span><span class="sxs-lookup"><span data-stu-id="9d797-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-141">In questa serie di esercitazioni che verrà usato un [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database per archiviare le tabelle di applicazione e `SqlMembershipProvider` dello schema.</span><span class="sxs-lookup"><span data-stu-id="9d797-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="9d797-142">Questa decisione è stata effettuata per due motivi: prima di tutto, a causa il costo - libero - Express Edition è la versione più readably accessibile di SQL Server 2005. in secondo luogo, i database di SQL Server 2005 Express Edition possono essere inseriti direttamente nella finestra dell'applicazione web `App_Data` cartella, rendendolo un semplice pacchetto del database e applicazione web insieme in un unico file ZIP e ridistribuirlo senza le istruzioni di installazione speciali o opzioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="9d797-143">Se si preferisce seguire la procedura utilizzando una versione non - Express Edition di SQL Server, è possibile.</span><span class="sxs-lookup"><span data-stu-id="9d797-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="9d797-144">I passaggi sono praticamente identici.</span><span class="sxs-lookup"><span data-stu-id="9d797-144">The steps are virtually identical.</span></span> <span data-ttu-id="9d797-145">Il `SqlMembershipProvider` schema verrà funziona con qualsiasi versione di Microsoft SQL Server 2000 e backup.</span><span class="sxs-lookup"><span data-stu-id="9d797-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>


<span data-ttu-id="9d797-146">In Esplora soluzioni, fare clic su di `App_Data` cartella e scegliere Aggiungi nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="9d797-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="9d797-147">(Se non viene visualizzato un `App_Data` cartella del progetto, pulsante destro del mouse sul progetto in Esplora soluzioni, scegliere Aggiungi cartella ASP.NET e selezionare `App_Data`.) Nella finestra di dialogo Aggiungi nuovo elemento, scegliere di aggiungere un nuovo Database SQL denominato `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="9d797-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="9d797-148">In questa esercitazione si aggiungeranno il `SqlMembershipProvider` dello schema per questo database; nelle esercitazioni successive si creerà anche altre tabelle per acquisire i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>


<span data-ttu-id="9d797-149">[![Aggiungere un nuovo Database SQL denominato Database SecurityTutorials.mdf nella cartella App_Data](creating-the-membership-schema-in-sql-server-cs/_static/image2.png)](creating-the-membership-schema-in-sql-server-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-149">[![Add a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder](creating-the-membership-schema-in-sql-server-cs/_static/image2.png)](creating-the-membership-schema-in-sql-server-cs/_static/image1.png)</span></span>

<span data-ttu-id="9d797-150">**Figura 1**: aggiungere un nuovo Database SQL denominato `SecurityTutorials.mdf` del Database per il `App_Data` cartella ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span></span>


<span data-ttu-id="9d797-151">Aggiunta di un database per il `App_Data` cartella lo include automaticamente nella vista Esplora Database.</span><span class="sxs-lookup"><span data-stu-id="9d797-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="9d797-152">(Nella versione edizione non Express di Visual Studio, Esplora Database è denominato Esplora Server.) Passare a Esplora Database ed espandere l'appena aggiunti `SecurityTutorials` database.</span><span class="sxs-lookup"><span data-stu-id="9d797-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="9d797-153">Se non è possibile visualizzare Esplora Database sullo schermo, passare al menu Visualizza e scegliere Esplora Database oppure premere Ctrl + Alt + S.</span><span class="sxs-lookup"><span data-stu-id="9d797-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="9d797-154">Come illustrato nella figura 2, il `SecurityTutorials` database è vuoto, contiene alcuna tabella, non le visualizzazioni e Nessuna stored procedure.</span><span class="sxs-lookup"><span data-stu-id="9d797-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>


<span data-ttu-id="9d797-155">[![Il SecurityTutorials Database è attualmente vuoto](creating-the-membership-schema-in-sql-server-cs/_static/image5.png)](creating-the-membership-schema-in-sql-server-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-155">[![The SecurityTutorials Database is Currently Empty](creating-the-membership-schema-in-sql-server-cs/_static/image5.png)](creating-the-membership-schema-in-sql-server-cs/_static/image4.png)</span></span>

<span data-ttu-id="9d797-156">**Figura 2**: il `SecurityTutorials` Database è attualmente vuoto ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span></span>


## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="9d797-157">Passaggio 2: Aggiunta di`SqlMembershipProvider`Schema al Database</span><span class="sxs-lookup"><span data-stu-id="9d797-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="9d797-158">Il `SqlMembershipProvider` richiede un particolare set di tabelle, viste e stored procedure da installare nel database dell'archivio utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="9d797-159">Questi oggetti di database necessari possono essere aggiunti mediante la [ `aspnet_regsql.exe` strumento](https://msdn.microsoft.com/library/ms229862.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d797-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="9d797-160">Questo file si trova nel `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` cartella.</span><span class="sxs-lookup"><span data-stu-id="9d797-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-161">Il `aspnet_regsql.exe` strumento offre funzionalità di riga di comando e un'interfaccia utente grafica.</span><span class="sxs-lookup"><span data-stu-id="9d797-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="9d797-162">L'interfaccia grafica è più semplice ed è ciò che verrà esaminato in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="9d797-163">L'interfaccia della riga di comando è utile quando l'aggiunta del `SqlMembershipProvider` schema deve essere automatizzato, ad esempio una compilazione di script o scenari di test automatizzati.</span><span class="sxs-lookup"><span data-stu-id="9d797-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>


<span data-ttu-id="9d797-164">Il `aspnet_regsql.exe` viene usato per aggiungere o rimuovere *servizi delle applicazioni ASP.NET* a un database di SQL Server specificato.</span><span class="sxs-lookup"><span data-stu-id="9d797-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="9d797-165">I servizi delle applicazioni ASP.NET includono gli schemi per il `SqlMembershipProvider` e `SqlRoleProvider`, con gli schemi per i provider basato su SQL per altri framework di ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="9d797-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="9d797-166">È necessario fornire due bit di informazioni per il `aspnet_regsql.exe` strumento:</span><span class="sxs-lookup"><span data-stu-id="9d797-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="9d797-167">Se si desidera aggiungere o rimuovere i servizi delle applicazioni, e</span><span class="sxs-lookup"><span data-stu-id="9d797-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="9d797-168">Il database da cui si desidera aggiungere o rimuovere lo schema di servizi di applicazione</span><span class="sxs-lookup"><span data-stu-id="9d797-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="9d797-169">Nella richiesta di conferma per il database da utilizzare, il `aspnet_regsql.exe` strumento chiesto di fornire il nome del server si trova il database on, le credenziali di sicurezza per la connessione al database e il nome del database.</span><span class="sxs-lookup"><span data-stu-id="9d797-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="9d797-170">Se si utilizza il non Express Edition di SQL Server, è necessario conoscere già queste informazioni, come le stesse informazioni che è necessario fornire tramite una stringa di connessione quando si lavora con il database tramite una pagina web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9d797-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="9d797-171">Determinando il nome del server e database quando si utilizza un database di SQL Server 2005 Express Edition nel `App_Data` cartella, tuttavia, è un po' più complicata.</span><span class="sxs-lookup"><span data-stu-id="9d797-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="9d797-172">Nella sezione seguente esamina specificando il nome di server e database per un database di SQL Server 2005 Express Edition in un modo semplice il `App_Data` cartella.</span><span class="sxs-lookup"><span data-stu-id="9d797-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="9d797-173">Se non si utilizza è SQL Server 2005 Express Edition possibile ignorare l'installazione della sezione servizi delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9d797-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theappdatafolder"></a><span data-ttu-id="9d797-174">Determinare il nome del Database per un Database SQL Server 2005 Express Edition nel Server di`App_Data`cartella</span><span class="sxs-lookup"><span data-stu-id="9d797-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="9d797-175">Per utilizzare il `aspnet_regsql.exe` strumento è necessario conoscere i nomi di server e database.</span><span class="sxs-lookup"><span data-stu-id="9d797-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="9d797-176">Il nome del server è `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="9d797-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="9d797-177">Molto probabilmente, il *InstanceName* è `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="9d797-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="9d797-178">Tuttavia, se è stato installato manualmente SQL Server 2005 Express Edition (ovvero, si non installato automaticamente durante l'installazione di Visual Studio), è possibile che sia selezionato un nome istanza diverso.</span><span class="sxs-lookup"><span data-stu-id="9d797-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="9d797-179">Il nome del database è un po' più difficile determinare.</span><span class="sxs-lookup"><span data-stu-id="9d797-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="9d797-180">Nei database di `App_Data` cartella hanno in genere un nome di database che include un [identificatore univoco globale](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) insieme al percorso del file di database.</span><span class="sxs-lookup"><span data-stu-id="9d797-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="9d797-181">È necessario determinare il nome del database per aggiungere lo schema di servizi di applicazione tramite `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="9d797-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="9d797-182">Il modo più semplice per verificare il nome del database è esaminarlo tramite SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="9d797-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="9d797-183">SQL Server Management Studio fornisce un'interfaccia grafica per la gestione di database di SQL Server 2005, ma non viene fornito con la Express Edition di SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="9d797-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="9d797-184">Buone notizie consiste nel fatto che [è possibile scaricare](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) il libero Express Edition di SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="9d797-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-185">Se si dispone anche di una versione non - Express Edition di SQL Server 2005 installato sul desktop è installata probabilmente la versione completa di Management Studio.</span><span class="sxs-lookup"><span data-stu-id="9d797-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="9d797-186">È possibile utilizzare la versione completa per determinare il nome del database, seguendo la stessa procedura, come descritto di seguito per l'edizione Express.</span><span class="sxs-lookup"><span data-stu-id="9d797-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>


<span data-ttu-id="9d797-187">Per iniziare, chiudere Visual Studio per assicurarsi che tutti i blocchi imposti da Visual Studio per il file di database vengano chiuse.</span><span class="sxs-lookup"><span data-stu-id="9d797-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="9d797-188">Successivamente, avviare SQL Server Management Studio e connettersi al `localhost\InstanceName` database per SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="9d797-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="9d797-189">Come notato in precedenza, probabilità sono il nome dell'istanza è `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="9d797-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="9d797-190">Per l'opzione di autenticazione, selezionare l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="9d797-190">For the Authentication option, select Windows Authentication.</span></span>


<span data-ttu-id="9d797-191">[![Connettersi all'istanza di SQL Server 2005 Express Edition](creating-the-membership-schema-in-sql-server-cs/_static/image8.png)](creating-the-membership-schema-in-sql-server-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-191">[![Connect to the SQL Server 2005 Express Edition Instance](creating-the-membership-schema-in-sql-server-cs/_static/image8.png)](creating-the-membership-schema-in-sql-server-cs/_static/image7.png)</span></span>

<span data-ttu-id="9d797-192">**Figura 3**: la connessione all'istanza di SQL Server 2005 Express Edition ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span></span>


<span data-ttu-id="9d797-193">Dopo la connessione all'istanza di SQL Server 2005 Express Edition, Management Studio consente di visualizzare le cartelle per i database, le impostazioni di sicurezza, gli oggetti Server e così via.</span><span class="sxs-lookup"><span data-stu-id="9d797-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="9d797-194">Se si espande la scheda di database si noterà che il `SecurityTutorials.mdf` database *non* registrato nell'istanza del database, è necessario collegare prima il database.</span><span class="sxs-lookup"><span data-stu-id="9d797-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="9d797-195">Pulsante destro del mouse sulla cartella database e scegliere Connetti dal menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="9d797-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="9d797-196">Questo verrà visualizzata la finestra di dialogo Collega database.</span><span class="sxs-lookup"><span data-stu-id="9d797-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="9d797-197">Da qui, fare clic sul pulsante Aggiungi, selezionare il `SecurityTutorials.mdf` database e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="9d797-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="9d797-198">La figura 4 mostra la finestra di dialogo Collega database dopo il `SecurityTutorials.mdf` database è stato selezionato.</span><span class="sxs-lookup"><span data-stu-id="9d797-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="9d797-199">Figura 5 Mostra Esplora oggetti di Management Studio dopo che il database è stato collegato correttamente.</span><span class="sxs-lookup"><span data-stu-id="9d797-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>


<span data-ttu-id="9d797-200">[![Collegare il Database SecurityTutorials.mdf](creating-the-membership-schema-in-sql-server-cs/_static/image11.png)](creating-the-membership-schema-in-sql-server-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-200">[![Attach the SecurityTutorials.mdf Database](creating-the-membership-schema-in-sql-server-cs/_static/image11.png)](creating-the-membership-schema-in-sql-server-cs/_static/image10.png)</span></span>

<span data-ttu-id="9d797-201">**Figura 4**: collegare il `SecurityTutorials.mdf` Database ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span></span>


<span data-ttu-id="9d797-202">[![Il Database SecurityTutorials.mdf visualizzato nella cartella di database](creating-the-membership-schema-in-sql-server-cs/_static/image14.png)](creating-the-membership-schema-in-sql-server-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-202">[![The SecurityTutorials.mdf Database Appears in the Databases Folder](creating-the-membership-schema-in-sql-server-cs/_static/image14.png)](creating-the-membership-schema-in-sql-server-cs/_static/image13.png)</span></span>

<span data-ttu-id="9d797-203">**Figura 5**: il `SecurityTutorials.mdf` Database visualizzato nella cartella di database ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span></span>


<span data-ttu-id="9d797-204">Come illustrato nella figura 5, il `SecurityTutorials.mdf` database ha un nome piuttosto abstruse.</span><span class="sxs-lookup"><span data-stu-id="9d797-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="9d797-205">Modificare il più significativo (e più facile da digitare) nome.</span><span class="sxs-lookup"><span data-stu-id="9d797-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="9d797-206">Pulsante destro del mouse sul database, scegliere Rinomina dal menu di scelta rapida e rinominarlo `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="9d797-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="9d797-207">Ciò non modifica il nome del file, solo il nome del database viene utilizzato per identificare se stessa a SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9d797-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>


<span data-ttu-id="9d797-208">[![Rinominare il Database a SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-cs/_static/image17.png)](creating-the-membership-schema-in-sql-server-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-208">[![Rename the Database to SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-cs/_static/image17.png)](creating-the-membership-schema-in-sql-server-cs/_static/image16.png)</span></span>

<span data-ttu-id="9d797-209">**Figura 6**: rinominare il Database in `SecurityTutorialsDatabase`([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span></span>


<span data-ttu-id="9d797-210">A questo punto, il nome del server e database di `SecurityTutorials.mdf` file di database: `localhost\InstanceName` e `SecurityTutorialsDatabase`, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="9d797-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="9d797-211">A questo punto si è pronti installare i servizi delle applicazioni tramite il `aspnet_regsql.exe` dello strumento.</span><span class="sxs-lookup"><span data-stu-id="9d797-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="9d797-212">Installare i servizi delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="9d797-212">Installing the Application Services</span></span>

<span data-ttu-id="9d797-213">Per avviare il `aspnet_regsql.exe` strumento, passare al menu start e scegliere Esegui.</span><span class="sxs-lookup"><span data-stu-id="9d797-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="9d797-214">Immettere `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` nella casella di testo e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="9d797-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="9d797-215">In alternativa, è possibile utilizzare Esplora risorse di Windows per eseguire il drill-down nella cartella appropriata e fare doppio clic su di `aspnet_regsql.exe` file.</span><span class="sxs-lookup"><span data-stu-id="9d797-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="9d797-216">Entrambi gli approcci comporta gli stessi risultati.</span><span class="sxs-lookup"><span data-stu-id="9d797-216">Either approach will net the same results.</span></span>

<span data-ttu-id="9d797-217">Esecuzione di `aspnet_regsql.exe` strumento senza gli argomenti della riga di comando consente di avviare l'interfaccia utente grafica di installazione guidata di ASP.NET SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9d797-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="9d797-218">La procedura guidata consente di aggiungere o rimuovere i servizi delle applicazioni ASP.NET in un database specificato.</span><span class="sxs-lookup"><span data-stu-id="9d797-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="9d797-219">La prima schermata della procedura guidata, illustrata nella figura 7, descrive lo scopo dello strumento.</span><span class="sxs-lookup"><span data-stu-id="9d797-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>


<span data-ttu-id="9d797-220">[![Utilizzare la procedura guidata consente di SQL ASP.NET Server il programma di installazione per aggiungere lo Schema di appartenenza](creating-the-membership-schema-in-sql-server-cs/_static/image20.png)](creating-the-membership-schema-in-sql-server-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-220">[![Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema](creating-the-membership-schema-in-sql-server-cs/_static/image20.png)](creating-the-membership-schema-in-sql-server-cs/_static/image19.png)</span></span>

<span data-ttu-id="9d797-221">**Figura 7**: utilizzare ASP.NET SQL Server l'installazione guidata consente di aggiungere lo Schema di appartenenza ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span></span>


<span data-ttu-id="9d797-222">Il secondo passaggio della procedura guidata viene chiesto se si desidera aggiungere i servizi delle applicazioni o rimuoverli.</span><span class="sxs-lookup"><span data-stu-id="9d797-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="9d797-223">Poiché si desidera aggiungere tabelle, viste e stored procedure necessarie per il `SqlMembershipProvider`, scegliere Configura SQL Server per l'opzione dei servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="9d797-224">In un secondo momento, se si desidera rimuovere questo schema dal database, eseguire nuovamente questa procedura guidata, ma scegliere invece le informazioni sui servizi di installazione applicazione da un'opzione di database esistente.</span><span class="sxs-lookup"><span data-stu-id="9d797-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>


<span data-ttu-id="9d797-225">[![Scegliere la configurazione di SQL Server per l'opzione di servizi dell'applicazione](creating-the-membership-schema-in-sql-server-cs/_static/image23.png)](creating-the-membership-schema-in-sql-server-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-225">[![Choose the Configure SQL Server for Application Services Option](creating-the-membership-schema-in-sql-server-cs/_static/image23.png)](creating-the-membership-schema-in-sql-server-cs/_static/image22.png)</span></span>

<span data-ttu-id="9d797-226">**Figura 8**: scegliere Configura SQL Server per l'opzione dei servizi dell'applicazione ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span></span>


<span data-ttu-id="9d797-227">Il terzo passaggio richiesto per le informazioni sul database: il nome del server, le informazioni di autenticazione e il nome del database.</span><span class="sxs-lookup"><span data-stu-id="9d797-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="9d797-228">Se si segue insieme a questa esercitazione e aver aggiunto il `SecurityTutorials.mdf` database `App_Data`, collegato a `localhost\InstanceName`e sua ridenominazione in `SecurityTutorialsDatabase`, quindi utilizzare i valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="9d797-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="9d797-229">Server: `localhost\InstanceName`</span><span class="sxs-lookup"><span data-stu-id="9d797-229">Server: `localhost\InstanceName`</span></span>
- <span data-ttu-id="9d797-230">Autenticazione di Windows</span><span class="sxs-lookup"><span data-stu-id="9d797-230">Windows authentication</span></span>
- <span data-ttu-id="9d797-231">Database: `SecurityTutorialsDatabase`</span><span class="sxs-lookup"><span data-stu-id="9d797-231">Database: `SecurityTutorialsDatabase`</span></span>


<span data-ttu-id="9d797-232">[![Immettere le informazioni sul Database](creating-the-membership-schema-in-sql-server-cs/_static/image26.png)](creating-the-membership-schema-in-sql-server-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-232">[![Enter the Database Information](creating-the-membership-schema-in-sql-server-cs/_static/image26.png)](creating-the-membership-schema-in-sql-server-cs/_static/image25.png)</span></span>

<span data-ttu-id="9d797-233">**Figura 9**: immettere le informazioni sul Database ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span></span>


<span data-ttu-id="9d797-234">Dopo aver immesso le informazioni sul database, fare clic su Avanti.</span><span class="sxs-lookup"><span data-stu-id="9d797-234">After entering the database information, click Next.</span></span> <span data-ttu-id="9d797-235">Il passaggio finale vengono riepilogati i passaggi che verranno eseguiti.</span><span class="sxs-lookup"><span data-stu-id="9d797-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="9d797-236">Fare clic su Avanti per installare i servizi delle applicazioni e quindi scegliere Fine per completare la procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="9d797-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-237">Se si usa Management Studio per collegare il database e rinominare il file di database, assicurarsi di scollegare il database e chiudere Management Studio prima di riaprire Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9d797-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="9d797-238">Per scollegare il `SecurityTutorialsDatabase` del database, fare clic sul nome del database e scegliere Disconnetti dal menu attività.</span><span class="sxs-lookup"><span data-stu-id="9d797-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>


<span data-ttu-id="9d797-239">Al termine della procedura guidata, tornare a Visual Studio e passare a Esplora Database.</span><span class="sxs-lookup"><span data-stu-id="9d797-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="9d797-240">Espandere la cartella di tabelle.</span><span class="sxs-lookup"><span data-stu-id="9d797-240">Expand the Tables folder.</span></span> <span data-ttu-id="9d797-241">Si noterà una serie di tabelle i cui nomi iniziano con il prefisso `aspnet_`.</span><span class="sxs-lookup"><span data-stu-id="9d797-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="9d797-242">Analogamente, un'ampia gamma di visualizzazioni e stored procedure sono disponibili nelle cartelle di viste e Stored procedure.</span><span class="sxs-lookup"><span data-stu-id="9d797-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="9d797-243">Questi oggetti di database che compongono lo schema di servizi di applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="9d797-244">Esamineremo gli oggetti di database di appartenenza e ruoli specifici nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="9d797-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>


<span data-ttu-id="9d797-245">[![Un'ampia gamma di tabelle, viste e Stored procedure sono stati aggiunti al Database](creating-the-membership-schema-in-sql-server-cs/_static/image29.png)](creating-the-membership-schema-in-sql-server-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-245">[![A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database](creating-the-membership-schema-in-sql-server-cs/_static/image29.png)](creating-the-membership-schema-in-sql-server-cs/_static/image28.png)</span></span>

<span data-ttu-id="9d797-246">**Figura 10**: un'ampia gamma di tabelle, viste e Stored procedure sono stati aggiunti al Database ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="9d797-247">Il `aspnet_regsql.exe` interfaccia utente grafica dello strumento viene installato lo schema di servizi di tutta l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="9d797-248">Ma quando si esegue `aspnet_regsql.exe` dalla riga di comando è possibile specificare quali particolare applicazione Servizi componenti per l'installazione (o rimozione).</span><span class="sxs-lookup"><span data-stu-id="9d797-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="9d797-249">Pertanto, se si desidera aggiungere solo le tabelle, viste e stored procedure necessarie per il `SqlMembershipProvider` e `SqlRoleProvider` provider, eseguire `aspnet_regsql.exe` dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="9d797-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="9d797-250">In alternativa, è possibile eseguire manualmente i subset di T-SQL, creare script utilizzati da `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="9d797-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="9d797-251">Questi script si trovano nel `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` cartella con nomi come `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`e così via.</span><span class="sxs-lookup"><span data-stu-id="9d797-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`, and so on.</span></span>


<span data-ttu-id="9d797-252">A questo punto è stato creato gli oggetti di database necessiti per il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-253">Tuttavia, è comunque necessario indicare il framework di appartenenza che utilizzi il `SqlMembershipProvider` (rispetto, ad esempio, il `ActiveDirectoryMembershipProvider`) e che il `SqlMembershipProvider` deve utilizzare il `SecurityTutorials` database.</span><span class="sxs-lookup"><span data-stu-id="9d797-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="9d797-254">Verrà esaminato come specificare il provider da utilizzare e come personalizzare le impostazioni del provider selezionato nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="9d797-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="9d797-255">Innanzitutto, esaminiamo un dettaglio gli oggetti di database che sono stati appena creato.</span><span class="sxs-lookup"><span data-stu-id="9d797-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="9d797-256">Passaggio 3: Esaminare le tabelle di base dello Schema</span><span class="sxs-lookup"><span data-stu-id="9d797-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="9d797-257">Quando si utilizzano i framework di appartenenza e ruoli in un'applicazione ASP.NET, i dettagli di implementazione sono incapsulati dal provider.</span><span class="sxs-lookup"><span data-stu-id="9d797-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="9d797-258">In futuro esercitazioni si possono interagire con questi Framework tramite .NET Framework `Membership` e `Roles` classi.</span><span class="sxs-lookup"><span data-stu-id="9d797-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="9d797-259">Quando si utilizzano queste API di alto livello non occorre preoccuparsi effettuata con i dettagli di basso livello, ad esempio le query vengono eseguite o le tabelle vengono modificate dal `SqlMembershipProvider` e `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="9d797-260">Detto questo, è possibile usare il framework di appartenenza e i ruoli con fiducia senza avere esaminato lo schema del database creato nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="9d797-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="9d797-261">Tuttavia, durante la creazione di tabelle per archiviare i dati dell'applicazione è possibile che sia necessario creare entità correlate a utenti o ruoli.</span><span class="sxs-lookup"><span data-stu-id="9d797-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="9d797-262">È utile disporre di una certa familiarità con la `SqlMembershipProvider` e `SqlRoleProvider` schemi quando si stabilisce esterna chiave vincoli tra le tabelle di dati dell'applicazione e tali tabelle create nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="9d797-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="9d797-263">Inoltre, in alcuni casi rari è possibile che sia necessario interfacciarsi con l'utente e la archivia ruolo direttamente a livello di database (anziché tramite il `Membership` o `Roles` classi).</span><span class="sxs-lookup"><span data-stu-id="9d797-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="9d797-264">Partizionamento archivio dell'utente nelle applicazioni</span><span class="sxs-lookup"><span data-stu-id="9d797-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="9d797-265">I framework di appartenenza e i ruoli sono progettati in modo che un singolo archivio utente e il ruolo può essere condivisi tra diverse applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9d797-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="9d797-266">Un'applicazione ASP.NET che utilizza il framework di ruoli o delle appartenenze è necessario specificare quale partizione di applicazione da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="9d797-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="9d797-267">In breve, più applicazioni web è possono utilizzare gli archivi di utente e il ruolo stesso.</span><span class="sxs-lookup"><span data-stu-id="9d797-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="9d797-268">Figura 11 illustra archivi utente e il ruolo che sono suddivisi in tre applicazioni: HRSite CustomerSite e SalesSite.</span><span class="sxs-lookup"><span data-stu-id="9d797-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="9d797-269">Queste applicazioni tre web ogni hanno i propri utenti univoci e i ruoli, ma tutti fisicamente archiviano le informazioni di account e il ruolo utente nelle tabelle del database stesso.</span><span class="sxs-lookup"><span data-stu-id="9d797-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>


<span data-ttu-id="9d797-270">[![Gli account utente possono essere partizionati tra più applicazioni](creating-the-membership-schema-in-sql-server-cs/_static/image32.png)](creating-the-membership-schema-in-sql-server-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="9d797-270">[![User Accounts May Be Partitioned Across Multiple Applications](creating-the-membership-schema-in-sql-server-cs/_static/image32.png)](creating-the-membership-schema-in-sql-server-cs/_static/image31.png)</span></span>

<span data-ttu-id="9d797-271">**Figura 11**: utente account potrebbero essere partizionate tra più applicazioni ([fare clic per visualizzare l'immagine ingrandita](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="9d797-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span></span>


<span data-ttu-id="9d797-272">Il `aspnet_Applications` tabella è ciò che definisce tali partizioni.</span><span class="sxs-lookup"><span data-stu-id="9d797-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="9d797-273">Ogni applicazione che utilizza il database per archiviare informazioni sull'account utente è rappresentato da una riga in questa tabella.</span><span class="sxs-lookup"><span data-stu-id="9d797-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="9d797-274">Il `aspnet_Applications` tabella contiene quattro colonne: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, e `Description`.</span><span class="sxs-lookup"><span data-stu-id="9d797-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.</span></span> <span data-ttu-id="9d797-275">`ApplicationId` è di tipo [ `uniqueidentifier` ](https://msdn.microsoft.com/library/ms187942.aspx) e chiave primaria della tabella; `ApplicationName` fornisce un nome descrittivo umane univoco per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-275">`ApplicationId` is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="9d797-276">Le altre tabelle correlate di appartenenza e ruolo collegano nuovamente il `ApplicationId` campo `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="9d797-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="9d797-277">Ad esempio, il `aspnet_Users` tabella che contiene un record per ogni account utente, è un `ApplicationId` campo di chiave esterna; deriva per il `aspnet_Roles` tabella.</span><span class="sxs-lookup"><span data-stu-id="9d797-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="9d797-278">Il `ApplicationId` campo in queste tabelle consente di specificare la partizione applicativa l'account utente o ruolo a cui appartiene.</span><span class="sxs-lookup"><span data-stu-id="9d797-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="9d797-279">L'archiviazione delle informazioni sull'Account utente</span><span class="sxs-lookup"><span data-stu-id="9d797-279">Storing User Account Information</span></span>

<span data-ttu-id="9d797-280">Informazioni sull'account utente si trova in due tabelle: `aspnet_Users` e `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="9d797-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="9d797-281">Il `aspnet_Users` tabella contiene campi che contengono le informazioni essenziali dell'account.</span><span class="sxs-lookup"><span data-stu-id="9d797-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="9d797-282">Le tre colonne più pertinenti sono:</span><span class="sxs-lookup"><span data-stu-id="9d797-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

<span data-ttu-id="9d797-283">`UserId` è la chiave primaria (e di tipo `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="9d797-283">`UserId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="9d797-284">`UserName` è di tipo `nvarchar(256)` e, e la password, modo in cui le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-284">`UserName` is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="9d797-285">(La password dell'utente viene archiviata nel `aspnet_Membership` tabella.) `ApplicationId` l'account utente è collegato a una specifica applicazione in `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="9d797-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="9d797-286">Vi è un raggruppamento [ `UNIQUE` vincolo](https://msdn.microsoft.com/library/ms191166.aspx) sul `UserName` e `ApplicationId` colonne.</span><span class="sxs-lookup"><span data-stu-id="9d797-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="9d797-287">Ciò garantisce che una determinata applicazione ogni nome utente è univoco, ma consente per lo stesso `UserName` da utilizzare in applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="9d797-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="9d797-288">Il `aspnet_Membership` tabella include informazioni sull'account utente aggiuntivi, ad esempio la password dell'utente, indirizzo di posta elettronica, l'ultimo account di accesso data e ora e così via.</span><span class="sxs-lookup"><span data-stu-id="9d797-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="9d797-289">È presente una corrispondenza tra i record di `aspnet_Users` e `aspnet_Membership` tabelle.</span><span class="sxs-lookup"><span data-stu-id="9d797-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="9d797-290">Questa relazione è garantita tramite la `UserId` campo `aspnet_Membership`, che funge da chiave primaria della tabella.</span><span class="sxs-lookup"><span data-stu-id="9d797-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="9d797-291">Ad esempio il `aspnet_Users` tabella `aspnet_Membership` include un `ApplicationId` campo che consente di associare queste informazioni per una determinata partizione applicativa.</span><span class="sxs-lookup"><span data-stu-id="9d797-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="9d797-292">Protezione delle password</span><span class="sxs-lookup"><span data-stu-id="9d797-292">Securing Passwords</span></span>

<span data-ttu-id="9d797-293">Informazioni relative alle password viene archiviati nel `aspnet_Membership` tabella.</span><span class="sxs-lookup"><span data-stu-id="9d797-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="9d797-294">Il `SqlMembershipProvider` consente la password da archiviare nel database di utilizzando una delle tre tecniche seguenti:</span><span class="sxs-lookup"><span data-stu-id="9d797-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="9d797-295">**Cancella** -la password viene archiviata nel database come testo normale.</span><span class="sxs-lookup"><span data-stu-id="9d797-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="9d797-296">Fortemente scoraggiare utilizzando questa opzione.</span><span class="sxs-lookup"><span data-stu-id="9d797-296">I strongly discourage using this option.</span></span> <span data-ttu-id="9d797-297">Se il database è compromesso, sia esso un dispositivo da un pirata informatico che consente di trovare una porta o un scontento dipendente che ha accesso al database, le credenziali dell'utente ogni singolo esistono per il prelievo.</span><span class="sxs-lookup"><span data-stu-id="9d797-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="9d797-298">**Eseguito l'hashing** -password vengono eseguito l'hashing mediante un algoritmo di hash unidirezionale e un valore salt generato casualmente.</span><span class="sxs-lookup"><span data-stu-id="9d797-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="9d797-299">Questo valore con hash (con il valore salt) viene archiviato nel database.</span><span class="sxs-lookup"><span data-stu-id="9d797-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="9d797-300">**Crittografati** -una versione crittografata della password viene archiviata nel database.</span><span class="sxs-lookup"><span data-stu-id="9d797-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="9d797-301">La tecnica di archiviazione della password utilizzata varia a seconda di `SqlMembershipProvider` le impostazioni specificate in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="9d797-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="9d797-302">Verranno esaminati personalizzazione di `SqlMembershipProvider` impostazioni nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="9d797-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="9d797-303">Il comportamento predefinito consiste nell'archiviare l'hash della password.</span><span class="sxs-lookup"><span data-stu-id="9d797-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="9d797-304">Le colonne responsabile per la memorizzazione della password sono `Password`, `PasswordFormat`, e `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="9d797-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> <span data-ttu-id="9d797-305">`PasswordFormat` è un campo di tipo `int` il cui valore indica la tecnica usata per archiviare la password: 0 per cancellare, 1 per Hashed; 2 di Encrypted.</span><span class="sxs-lookup"><span data-stu-id="9d797-305">`PasswordFormat` is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> <span data-ttu-id="9d797-306">`PasswordSalt` viene assegnata una stringa generata in modo casuale indipendentemente dalla tecnica di archiviazione password usata; il valore di `PasswordSalt` viene utilizzato solo quando il calcolo dell'hash della password.</span><span class="sxs-lookup"><span data-stu-id="9d797-306">`PasswordSalt` is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="9d797-307">Infine, il `Password` colonna contiene i dati di password effettiva, ovvero la password in testo normale, l'hash della password o la password crittografata.</span><span class="sxs-lookup"><span data-stu-id="9d797-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="9d797-308">Tabella 1 illustra queste tre colonne aspetto per le varie tecniche di archiviazione quando si archiviano le password MySecret!</span><span class="sxs-lookup"><span data-stu-id="9d797-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="9d797-309">.</span><span class="sxs-lookup"><span data-stu-id="9d797-309">.</span></span>

| <span data-ttu-id="9d797-310">**Archiviazione tecnica&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="9d797-311">**Password&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-311">**Password&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="9d797-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="9d797-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9d797-314">Cancella</span><span class="sxs-lookup"><span data-stu-id="9d797-314">Clear</span></span> | <span data-ttu-id="9d797-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="9d797-315">MySecret!</span></span> | <span data-ttu-id="9d797-316">0</span><span class="sxs-lookup"><span data-stu-id="9d797-316">0</span></span> | <span data-ttu-id="9d797-317">tTnkPlesqissc2y2SMEygA==</span><span class="sxs-lookup"><span data-stu-id="9d797-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="9d797-318">L'hashing</span><span class="sxs-lookup"><span data-stu-id="9d797-318">Hashed</span></span> | <span data-ttu-id="9d797-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span><span class="sxs-lookup"><span data-stu-id="9d797-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="9d797-320">1</span><span class="sxs-lookup"><span data-stu-id="9d797-320">1</span></span> | <span data-ttu-id="9d797-321">wFgjUfhdUFOCKQiI61vtiQ==</span><span class="sxs-lookup"><span data-stu-id="9d797-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="9d797-322">Crittografato</span><span class="sxs-lookup"><span data-stu-id="9d797-322">Encrypted</span></span> | <span data-ttu-id="9d797-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="9d797-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="9d797-324">2</span><span class="sxs-lookup"><span data-stu-id="9d797-324">2</span></span> | <span data-ttu-id="9d797-325">LSRzhGS/aa/oqAXGLHJNBw==</span><span class="sxs-lookup"><span data-stu-id="9d797-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="9d797-326">**Tabella 1**: i valori di esempio per i campi correlati alla Password quando si archiviano le Password MySecret!</span><span class="sxs-lookup"><span data-stu-id="9d797-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-327">La crittografia specifica o un algoritmo hash utilizzato dal `SqlMembershipProvider` è determinato dalle impostazioni di `<machineKey>` elemento.</span><span class="sxs-lookup"><span data-stu-id="9d797-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="9d797-328">Descritto nel passaggio 3 di questo elemento di configurazione di <a id="Tutorial3"> </a> [ *configurazione dell'autenticazione form e argomenti avanzati* ](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) esercitazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) tutorial.</span></span>


### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="9d797-329">L'archiviazione dei ruoli e le associazioni di ruolo</span><span class="sxs-lookup"><span data-stu-id="9d797-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="9d797-330">Il framework di ruoli consente agli sviluppatori di definire un set di ruoli e specificare gli utenti che appartengono a quali ruoli.</span><span class="sxs-lookup"><span data-stu-id="9d797-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="9d797-331">Queste informazioni vengono acquisite nel database tramite due tabelle: `aspnet_Roles` e `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="9d797-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="9d797-332">Ogni record di `aspnet_Roles` tabella rappresenta un ruolo per una particolare applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="9d797-333">Analogamente il `aspnet_Users` tabella, la `aspnet_Roles` tabella contiene tre colonne pertinenti per l'articolo:</span><span class="sxs-lookup"><span data-stu-id="9d797-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

<span data-ttu-id="9d797-334">`RoleId` è la chiave primaria (e di tipo `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="9d797-334">`RoleId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="9d797-335">`RoleName` è di tipo `nvarchar(256)`.</span><span class="sxs-lookup"><span data-stu-id="9d797-335">`RoleName` is of type `nvarchar(256)`.</span></span> <span data-ttu-id="9d797-336">E `ApplicationId` l'account utente è collegato a una specifica applicazione in `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="9d797-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="9d797-337">Vi è un raggruppamento `UNIQUE` vincolo il `RoleName` e `ApplicationId` colonne, garantendo che una determinata applicazione il nome del ruolo sia univoco.</span><span class="sxs-lookup"><span data-stu-id="9d797-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="9d797-338">Il `aspnet_UsersInRoles` tabella funge da un mapping tra utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="9d797-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="9d797-339">Sono presenti solo due colonne - `UserId` e `RoleId` -insieme che costituiscono una chiave primaria composta.</span><span class="sxs-lookup"><span data-stu-id="9d797-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="9d797-340">Passaggio 4: Specifica del Provider e le relative impostazioni di personalizzazione</span><span class="sxs-lookup"><span data-stu-id="9d797-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="9d797-341">Tutti i framework che supportano il modello di provider, ad esempio i framework di appartenenza e ruoli - non dispongono di dettagli di implementazione autonomamente e invece delegare tale compito a una classe di provider.</span><span class="sxs-lookup"><span data-stu-id="9d797-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="9d797-342">Nel caso il framework di appartenenza, la `Membership` classe definisce l'API per la gestione degli account utente, ma non interagisce direttamente con qualsiasi archivio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="9d797-343">Invece di `Membership` la richiesta al provider di configurazione - consegnare metodi della classe che verrà usato il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-344">Quando si richiama uno dei metodi di `Membership` (classe), come il framework di appartenenza conosce per delegare la chiamata al `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="9d797-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="9d797-345">Il `Membership` classe dispone di un [ `Providers` proprietà](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) che contiene un riferimento a tutte le classi provider registrato disponibile per l'utilizzo dal framework di appartenenza.</span><span class="sxs-lookup"><span data-stu-id="9d797-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="9d797-346">Ogni provider registrato con un nome associato e il tipo.</span><span class="sxs-lookup"><span data-stu-id="9d797-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="9d797-347">Il nome offre un modo semplice umane per fare riferimento a un determinato provider nel `Providers` raccolta, mentre il tipo identifica la classe provider.</span><span class="sxs-lookup"><span data-stu-id="9d797-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="9d797-348">Inoltre, ogni provider registrato può includere le impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="9d797-349">Impostazioni di configurazione per il framework di appartenenza includono `passwordFormat` e `requiresUniqueEmail`, tra molti altri.</span><span class="sxs-lookup"><span data-stu-id="9d797-349">Configuration settings for the Membership framework include `passwordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="9d797-350">Vedere la tabella 2 per un elenco completo delle impostazioni di configurazione di `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="9d797-351">Il `Providers` contenuto della proprietà è specificato tramite le impostazioni di configurazione dell'applicazione web.</span><span class="sxs-lookup"><span data-stu-id="9d797-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="9d797-352">Per impostazione predefinita, tutte le applicazioni web dispongono di un provider denominato `AspNetSqlMembershipProvider` di tipo `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-353">Questo provider di appartenenze predefinito è registrato `machine.config` (posizione `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`:</span><span class="sxs-lookup"><span data-stu-id="9d797-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`:</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample1.xml)]

<span data-ttu-id="9d797-354">Come il codice precedente, il [ `<membership>` elemento](https://msdn.microsoft.com/library/1b9hw62f.aspx) definisce le impostazioni di configurazione per il framework di appartenenza durante la [ `<providers>` elemento figlio](https://msdn.microsoft.com/library/6d4936ht.aspx) specifica registrato provider.</span><span class="sxs-lookup"><span data-stu-id="9d797-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="9d797-355">I provider possono essere aggiunti o rimossi tramite il [ `<add>` ](https://msdn.microsoft.com/library/whae3t94.aspx) o [ `<remove>` ](https://msdn.microsoft.com/library/aykw9a6d.aspx) elementi; usare il [ `<clear>` ](https://msdn.microsoft.com/library/t062y6yc.aspx) elemento da rimuovere tutti attualmente provider registrati.</span><span class="sxs-lookup"><span data-stu-id="9d797-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="9d797-356">Come il codice precedente, `machine.config` aggiunge un provider denominato `AspNetSqlMembershipProvider` di tipo `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="9d797-357">Oltre al `name` e `type` gli attributi, la `<add>` elemento contiene attributi che definiscono i valori per varie impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="9d797-358">Nella tabella 2 sono disponibili `SqlMembershipProvider`-impostazioni di configurazione specifiche, insieme a una descrizione di ognuno.</span><span class="sxs-lookup"><span data-stu-id="9d797-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-359">Tutti i valori predefiniti indicati nella tabella 2 fare riferimento ai valori predefiniti definiti nel `SqlMembershipProvider` classe.</span><span class="sxs-lookup"><span data-stu-id="9d797-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="9d797-360">Si noti che non tutte le impostazioni di configurazione in `AspNetSqlMembershipProvider` corrispondono ai valori predefiniti del `SqlMembershipProvider` classe.</span><span class="sxs-lookup"><span data-stu-id="9d797-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="9d797-361">Ad esempio, se non specificato in un provider di appartenenze di `requiresUniqueEmail` definizione delle impostazioni predefinite su true.</span><span class="sxs-lookup"><span data-stu-id="9d797-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="9d797-362">Tuttavia, il `AspNetSqlMembershipProvider` esegue l'override di questo valore predefinito, in modo esplicito specificando un valore di `false`.</span><span class="sxs-lookup"><span data-stu-id="9d797-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>


| <span data-ttu-id="9d797-363">**L'impostazione&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-363">**Setting&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="9d797-364">**Descrizione&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="9d797-364">**Description&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="9d797-365">Tenere presente che il framework di appartenenza consente per un archivio utente singolo essere partizionati tra più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9d797-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="9d797-366">Questa impostazione indica il nome della partizione di applicazione utilizzata dal provider di appartenenze.</span><span class="sxs-lookup"><span data-stu-id="9d797-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="9d797-367">Se questo valore non è specificato in modo esplicito, è impostato, in fase di esecuzione, il valore del percorso radice virtuale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="9d797-368">Specifica il valore di timeout del comando SQL (in secondi).</span><span class="sxs-lookup"><span data-stu-id="9d797-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="9d797-369">Il valore predefinito è 30.</span><span class="sxs-lookup"><span data-stu-id="9d797-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="9d797-370">Il nome della stringa di connessione nel `<connectionStrings>` elemento da utilizzare per la connessione al database di archivio utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="9d797-371">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="9d797-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="9d797-372">Fornisce una descrizione umane descrittivo del provider registrati.</span><span class="sxs-lookup"><span data-stu-id="9d797-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="9d797-373">Specifica se gli utenti possono recuperare la password dimenticata.</span><span class="sxs-lookup"><span data-stu-id="9d797-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="9d797-374">Il valore predefinito è `false`.</span><span class="sxs-lookup"><span data-stu-id="9d797-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="9d797-375">Indica se gli utenti sono autorizzati a reimpostare la password.</span><span class="sxs-lookup"><span data-stu-id="9d797-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="9d797-376">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="9d797-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="9d797-377">Il numero massimo di tentativi di accesso non riuscito che possono verificarsi per un determinato utente durante l'oggetto specificato `passwordAttemptWindow` prima che l'utente venga bloccato. Il valore predefinito è 5.</span><span class="sxs-lookup"><span data-stu-id="9d797-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="9d797-378">Il numero minimo di caratteri non alfanumerici deve essere visualizzato in una password.</span><span class="sxs-lookup"><span data-stu-id="9d797-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="9d797-379">Questo valore deve essere compreso tra 0 e 128; il valore predefinito è 1.</span><span class="sxs-lookup"><span data-stu-id="9d797-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="9d797-380">Il numero minimo di caratteri richiesti nella password.</span><span class="sxs-lookup"><span data-stu-id="9d797-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="9d797-381">Questo valore deve essere compreso tra 0 e 128; il valore predefinito è 7.</span><span class="sxs-lookup"><span data-stu-id="9d797-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="9d797-382">Il nome del provider registrati.</span><span class="sxs-lookup"><span data-stu-id="9d797-382">The name of the registered provider.</span></span> <span data-ttu-id="9d797-383">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="9d797-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="9d797-384">Il numero di minuti durante i quali non vengono registrati i tentativi di accesso.</span><span class="sxs-lookup"><span data-stu-id="9d797-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="9d797-385">Se un utente fornisce credenziali di accesso non valido `maxInvalidPasswordAttempts` sono state specificate ore all'interno di questa finestra, sono bloccati. Il valore predefinito è 10.</span><span class="sxs-lookup"><span data-stu-id="9d797-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="9d797-386">Il formato di archiviazione delle password: `Clear`, `Hashed`, o `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="9d797-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="9d797-387">Il valore predefinito è `Hashed`.</span><span class="sxs-lookup"><span data-stu-id="9d797-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="9d797-388">Se specificato, questa espressione regolare viene utilizzata per valutare il livello di attendibilità della password dell'utente selezionato quando si crea un nuovo account o la modifica delle password.</span><span class="sxs-lookup"><span data-stu-id="9d797-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="9d797-389">Il valore predefinito è una stringa vuota.</span><span class="sxs-lookup"><span data-stu-id="9d797-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="9d797-390">Specifica se un utente deve rispondere la domanda di sicurezza durante il recupero o la reimpostazione della password.</span><span class="sxs-lookup"><span data-stu-id="9d797-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="9d797-391">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="9d797-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="9d797-392">Indica se tutti gli account utente in una partizione di applicazione specificata devono avere un indirizzo di posta elettronica univoco.</span><span class="sxs-lookup"><span data-stu-id="9d797-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="9d797-393">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="9d797-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="9d797-394">Specifica il tipo del provider.</span><span class="sxs-lookup"><span data-stu-id="9d797-394">Specifies the type of the provider.</span></span> <span data-ttu-id="9d797-395">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="9d797-395">This value is required.</span></span> |

<span data-ttu-id="9d797-396">**Tabella 2**: l'appartenenza e `SqlMembershipProvider` le impostazioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="9d797-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="9d797-397">Oltre a `AspNetSqlMembershipProvider`, altri provider di appartenenze può essere registrato su base dall'applicazione aggiungendo markup simile al `Web.config` file.</span><span class="sxs-lookup"><span data-stu-id="9d797-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-398">Il framework di ruoli funziona nello stesso modo: è un provider di ruoli registrato predefinito nel `machine.config` e i provider registrati possono essere personalizzati in modo da applicazioni in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="9d797-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="9d797-399">Verrà esaminato il framework di ruoli e il codice di configurazione in modo dettagliato in un'esercitazione future.</span><span class="sxs-lookup"><span data-stu-id="9d797-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>


### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="9d797-400">Personalizzazione di`SqlMembershipProvider`impostazioni</span><span class="sxs-lookup"><span data-stu-id="9d797-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="9d797-401">Il valore predefinito `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) è relativo `connectionStringName` attributo impostato su `LocalSqlServer`.</span><span class="sxs-lookup"><span data-stu-id="9d797-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="9d797-402">Ad esempio il `AspNetSqlMembershipProvider` provider, il nome di stringa di connessione `LocalSqlServer` è definito in `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="9d797-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample2.xml)]

<span data-ttu-id="9d797-403">Come si può notare, la stringa di connessione definisce una posizione del database di SQL 2005 Express Edition | DataDirectory|aspnetdb.mdf.</span><span class="sxs-lookup"><span data-stu-id="9d797-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf�.</span></span> <span data-ttu-id="9d797-404">La stringa | DataDirectory | viene convertito in fase di esecuzione in modo che punti al `~/App_Data/` directory, pertanto il percorso del database | DataDirectory|aspnetdb.mdf"viene convertita in `~/App_Data` / `aspnet.mdf`.</span><span class="sxs-lookup"><span data-stu-id="9d797-404">The string |DataDirectory|� is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf" translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="9d797-405">Se non è stato specificato le informazioni di provider di appartenenze dell'applicazione `Web.config` file, l'applicazione utilizza il provider di appartenenze predefinito registrato, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-406">Se il `~/App_Data/aspnet.mdf` database non esiste, il runtime di ASP.NET verrà automaticamente creato e aggiungere lo schema di servizi di applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="9d797-407">Tuttavia, non si desidera utilizzare il `aspnet.mdf` database; invece, si desidera utilizzare il `SecurityTutorials.mdf` database creati nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="9d797-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="9d797-408">Questa modifica può essere eseguita in uno dei due modi:</span><span class="sxs-lookup"><span data-stu-id="9d797-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="9d797-409"><strong>Specificare un valore per il</strong><strong>`LocalSqlServer`</strong><strong>nome di stringa di connessione in</strong><strong>`Web.config`</strong><strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="9d797-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="9d797-410">Sovrascrivendo il `LocalSqlServer` valore di nome di stringa di connessione in `Web.config`, è possibile utilizzare il provider di appartenenze predefinito registrato (`AspNetSqlMembershipProvider`) e fare in modo funzionare correttamente con il `SecurityTutorials.mdf` database.</span><span class="sxs-lookup"><span data-stu-id="9d797-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="9d797-411">Questo approccio è appropriato se si è contenuto con le impostazioni di configurazione specificate da `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-412">Per ulteriori informazioni su questa tecnica, vedere [Scott Guthrie](https://weblogs.asp.net/scottgu/)del post di blog, [la configurazione di servizi applicativi di ASP.NET 2.0 per utilizzare SQL Server 2000 o SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d797-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="9d797-413"><strong>Aggiungere un nuovo provider di tipo registrato</strong><strong>`SqlMembershipProvider`</strong><strong>e configurare il relativo</strong><strong>`connectionStringName`</strong><strong>impostazione in modo che punti al</strong> <strong>`SecurityTutorials.mdf`</strong> <strong>database.</strong></span><span class="sxs-lookup"><span data-stu-id="9d797-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="9d797-414">Questo approccio è utile negli scenari in cui si desidera personalizzare altre proprietà di configurazione oltre alla stringa di connessione di database.</span><span class="sxs-lookup"><span data-stu-id="9d797-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="9d797-415">In progetti io uso sempre questo approccio a causa di sua flessibilità e la leggibilità.</span><span class="sxs-lookup"><span data-stu-id="9d797-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="9d797-416">Per poter aggiungere un nuovo provider registrato che fa riferimento il `SecurityTutorials.mdf` database, è innanzitutto necessario aggiungere un valore di stringa di connessione appropriata nel `<connectionStrings>` sezione `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="9d797-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="9d797-417">Il markup seguente aggiunge una nuova stringa di connessione denominata `SecurityTutorialsConnectionString` che fa riferimento a SQL Server 2005 Express Edition `SecurityTutorials.mdf` database il `App_Data` cartella.</span><span class="sxs-lookup"><span data-stu-id="9d797-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="9d797-418">Se si utilizza un file di database alternativo, aggiornare la stringa di connessione in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="9d797-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="9d797-419">Per ulteriori informazioni su che costituiscono la stringa di connessione corretto, fare riferimento a [ConnectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="9d797-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="9d797-420">Successivamente, aggiungere il seguente markup di configurazione di appartenenza per il `Web.config` file.</span><span class="sxs-lookup"><span data-stu-id="9d797-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="9d797-421">In questo markup registra un nuovo provider denominato `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample4.xml)]

<span data-ttu-id="9d797-422">Oltre a registrare il `SecurityTutorialsSqlMembershipProvider` provider, il codice precedente viene definito il `SecurityTutorialsSqlMembershipProvider` come provider predefinito (tramite il `defaultProvider` attributo il `<membership>` elemento).</span><span class="sxs-lookup"><span data-stu-id="9d797-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="9d797-423">Tenere presente che il framework di appartenenza può avere più provider registrati.</span><span class="sxs-lookup"><span data-stu-id="9d797-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="9d797-424">Poiché `AspNetSqlMembershipProvider` viene registrato come primo provider nella `machine.config`, ma funge da provider predefinito a meno che non è indicato in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="9d797-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="9d797-425">Attualmente, l'applicazione dispone di due provider registrati: `AspNetSqlMembershipProvider` e `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-426">Tuttavia, prima di registrare il `SecurityTutorialsSqlMembershipProvider` provider è stato possibile sono cancellate tutte in precedenza provider registrati mediante l'aggiunta di un [ `<clear />` elemento](https://msdn.microsoft.com/library/t062y6yc.aspx) immediatamente prima il nostro `<add>` elemento.</span><span class="sxs-lookup"><span data-stu-id="9d797-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="9d797-427">Questo potrebbe cancellare il `AspNetSqlMembershipProvider` dall'elenco dei provider registrati, il che significa che il `SecurityTutorialsSqlMembershipProvider` sarà l'unico provider di appartenenza registrato.</span><span class="sxs-lookup"><span data-stu-id="9d797-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="9d797-428">Se viene utilizzato questo approccio, quindi non è necessario contrassegnare il `SecurityTutorialsSqlMembershipProvider` come il provider predefinito, poiché sia l'unico provider di appartenenza registrato.</span><span class="sxs-lookup"><span data-stu-id="9d797-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="9d797-429">Per ulteriori informazioni sull'utilizzo `<clear />`, vedere [Using `<clear />` quando Aggiunta provider](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d797-429">For more information on using `<clear />`, see [Using `<clear />` When Adding Providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="9d797-430">Si noti che il `SecurityTutorialsSqlMembershipProvider`del `connectionStringName` impostazione di riferimenti di appena aggiunti `SecurityTutorialsConnectionString` nome stringa di connessione e che il relativo `applicationName` impostazione è stata impostata su un valore di SecurityTutorials.</span><span class="sxs-lookup"><span data-stu-id="9d797-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="9d797-431">Inoltre, il `requiresUniqueEmail` impostazione è stata impostata su `true`.</span><span class="sxs-lookup"><span data-stu-id="9d797-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="9d797-432">Tutte le altre opzioni di configurazione sono identici a quelli in `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="9d797-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="9d797-433">È possibile apportare le modifiche di configurazione in questo caso, se si desidera.</span><span class="sxs-lookup"><span data-stu-id="9d797-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="9d797-434">Ad esempio, si potrebbe rafforzare la complessità della password richiedendo due caratteri non alfanumerici invece di uno o aumentando la lunghezza della password a otto caratteri anziché sette.</span><span class="sxs-lookup"><span data-stu-id="9d797-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="9d797-435">Tenere presente che il framework di appartenenza consente per un archivio utente singolo essere partizionati tra più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9d797-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="9d797-436">Il provider di appartenenze `applicationName` impostazione indica quale applicazione viene utilizzato il provider quando si utilizza l'archivio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="9d797-437">È importante impostare in modo esplicito un valore per il `applicationName` impostazione di configurazione perché se il `applicationName` non è impostato in modo esplicito, viene assegnato al percorso radice virtuale dell'applicazione web in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9d797-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="9d797-438">Utilizzare questa opzione, purché non cambia percorso radice virtuale dell'applicazione, ma se si sposta l'applicazione a un percorso diverso, il `applicationName` impostazione cambierà troppo.</span><span class="sxs-lookup"><span data-stu-id="9d797-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="9d797-439">In questo caso, il provider di appartenenze inizierà a funzionare correttamente con una partizione di applicazione diverso rispetto a quello usato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="9d797-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="9d797-440">Gli account utente creati prima dello spostamento si trovano in una partizione di applicazione diverso e tali utenti non saranno in grado di accedere al sito.</span><span class="sxs-lookup"><span data-stu-id="9d797-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="9d797-441">Per una discussione più dettagliata in merito, vedere [impostare sempre la `applicationName` proprietà quando la configurazione di ASP.NET 2.0 l'appartenenza e altri provider](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="9d797-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers](https://weblogs.asp.net/scottgu/443634).</span></span>


## <a name="summary"></a><span data-ttu-id="9d797-442">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="9d797-442">Summary</span></span>

<span data-ttu-id="9d797-443">A questo punto si dispone di un database con i servizi delle applicazioni configurate (`SecurityTutorials.mdf`) e aver configurato l'applicazione web in modo che usi il framework di appartenenza di `SecurityTutorialsSqlMembershipProvider` provider è stato appena registrati.</span><span class="sxs-lookup"><span data-stu-id="9d797-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="9d797-444">Questo provider registrato è di tipo `SqlMembershipProvider` e ha il `connectionStringName` impostato sulla stringa di connessione appropriata (`SecurityTutorialsConnectionString`) e il relativo `applicationName` valore impostato in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="9d797-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="9d797-445">Ora è pronti a utilizzare il framework di appartenenza dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9d797-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="9d797-446">Nella prossima esercitazione verrà esaminato creare nuovi account utente.</span><span class="sxs-lookup"><span data-stu-id="9d797-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="9d797-447">Dopo che verranno analizzati l'autenticazione degli utenti, eseguire l'autorizzazione basata sull'utente e l'archiviazione di informazioni aggiuntive relative agli utenti nel database.</span><span class="sxs-lookup"><span data-stu-id="9d797-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="9d797-448">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="9d797-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="9d797-449">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="9d797-449">Further Reading</span></span>

<span data-ttu-id="9d797-450">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="9d797-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="9d797-451">Impostare sempre la `applicationName` proprietà durante la configurazione di ASP.NET 2.0 l'appartenenza e altri provider</span><span class="sxs-lookup"><span data-stu-id="9d797-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="9d797-452">Configurazione di ASP.NET 2.0 servizi delle applicazioni per utilizzare SQL Server 2000 o SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="9d797-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="9d797-453">Scaricare SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="9d797-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="9d797-454">Analisi di ASP.NET 2.0 s appartenenza, ruoli e profilo</span><span class="sxs-lookup"><span data-stu-id="9d797-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="9d797-455">Il `<add>` elemento per i provider di appartenenza</span><span class="sxs-lookup"><span data-stu-id="9d797-455">The `<add>` Element for Providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="9d797-456">Il `<membership>` elemento</span><span class="sxs-lookup"><span data-stu-id="9d797-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="9d797-457">Il `<providers>` elemento per l'appartenenza</span><span class="sxs-lookup"><span data-stu-id="9d797-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="9d797-458">Utilizzando `<clear />` quando si aggiunge provider</span><span class="sxs-lookup"><span data-stu-id="9d797-458">Using `<clear />` When Adding Providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="9d797-459">Utilizzo diretto di `SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="9d797-459">Working Directly with the `SqlMembershipProvider`</span></span>](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="9d797-460">Video di formazione su argomenti contenuti in questa esercitazione</span><span class="sxs-lookup"><span data-stu-id="9d797-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="9d797-461">Informazioni sulle appartenenze ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9d797-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="9d797-462">Configurazione di SQL per l'uso degli schemi di appartenenza</span><span class="sxs-lookup"><span data-stu-id="9d797-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="9d797-463">Modifica delle impostazioni di appartenenza nello schema di appartenenza predefinito</span><span class="sxs-lookup"><span data-stu-id="9d797-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="9d797-464">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="9d797-464">About the Author</span></span>

<span data-ttu-id="9d797-465">Scott Mitchell, autore di più libri e fondatore di 4GuysFromRolla, ha lavorato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="9d797-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9d797-466">Scott funziona come un consulente trainer e writer.</span><span class="sxs-lookup"><span data-stu-id="9d797-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9d797-467">Il suo ultimo libro è  *[SAM insegna manualmente ASP.NET 2.0 nelle 24 ore](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span><span class="sxs-lookup"><span data-stu-id="9d797-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="9d797-468">Scott può essere raggiunto al [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) o tramite il suo blog all'indirizzo [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="9d797-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="9d797-469">Ringraziamenti speciali</span><span class="sxs-lookup"><span data-stu-id="9d797-469">Special Thanks To</span></span>

<span data-ttu-id="9d797-470">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="9d797-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9d797-471">Il revisore per questa esercitazione è stata Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="9d797-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="9d797-472">Se si è interessati my prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="9d797-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9d797-473">In caso affermativo, Inviami una riga alla [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4guysfromrolla.com).</span><span class="sxs-lookup"><span data-stu-id="9d797-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="9d797-474">avanti</span><span class="sxs-lookup"><span data-stu-id="9d797-474">Next</span></span>](creating-user-accounts-cs.md)
