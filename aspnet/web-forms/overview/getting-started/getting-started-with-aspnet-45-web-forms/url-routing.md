---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: Routing degli URL | Documenti Microsoft
author: Erikre
description: Questa serie di esercitazioni verranno fornite le nozioni di base della creazione di un'applicazione Web Form ASP.NET tramite ASP.NET 4.5 e Microsoft Visual Studio Express 2013 per abbiamo...
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/08/2014
ms.topic: article
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: a195b36517bcae4bbeaf43fe7386e7787fd00212
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30886433"
---
<a name="url-routing"></a><span data-ttu-id="c6cb1-103">Routing degli URL</span><span class="sxs-lookup"><span data-stu-id="c6cb1-103">URL Routing</span></span>
====================
<span data-ttu-id="c6cb1-104">da [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="c6cb1-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="c6cb1-105">[Scarica progetto di esempio Wingtip Toys (c#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) o [scaricare E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="c6cb1-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="c6cb1-106">Questa serie di esercitazioni verranno fornite le nozioni di base della creazione di un'applicazione Web Form ASP.NET utilizzando ASP.NET 4.5 e Microsoft Visual Studio Express 2013 per Web.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="c6cb1-107">Un Visual Studio 2013 [progetto con il codice sorgente c#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) complemento questa serie di esercitazioni è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="c6cb1-108">In questa esercitazione si modificherà l'applicazione di esempio Wingtip Toys per supportare il routing dell'URL.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="c6cb1-109">Routing consente all'applicazione web di utilizzare gli URL descrittivi, più facile da ricordare e meglio supportati dai motori di ricerca.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="c6cb1-110">In questa esercitazione si basa sull'esercitazione precedente, "Appartenenza e amministrazione" e fa parte della serie di esercitazioni Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="c6cb1-111">Illustra quanto segue:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-111">What you'll learn:</span></span>

- <span data-ttu-id="c6cb1-112">Come registrare le route per un'applicazione Web Form ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="c6cb1-113">Come aggiungere le route a una pagina web.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="c6cb1-114">Come selezionare i dati da un database per supportare le route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="c6cb1-115">Cenni preliminari sul Routing di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c6cb1-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="c6cb1-116">Routing degli URL consente di configurare un'applicazione per accettare richieste di URL che non fanno riferimento a file fisici.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="c6cb1-117">Un URL della richiesta è semplicemente l'URL di un utente immette nel browser per trovare una pagina nel sito web.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="c6cb1-118">Utilizzare il routing per definire gli URL che sono semanticamente significativi per gli utenti e che possono aiutare a con l'ottimizzazione motore di ricerca (SEO).</span><span class="sxs-lookup"><span data-stu-id="c6cb1-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="c6cb1-119">Per impostazione predefinita, il modello Web Form include [URL brevi di ASP.NET](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span><span class="sxs-lookup"><span data-stu-id="c6cb1-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="c6cb1-120">Molte delle operazioni di routing di base viene implementata tramite *URL brevi*.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="c6cb1-121">Tuttavia, in questa esercitazione si aggiungerà la funzionalità di routing personalizzata.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="c6cb1-122">Prima di personalizzare l'URL di routing, l'applicazione di esempio Wingtip Toys possibile collegare a un prodotto utilizzando l'URL seguente:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="c6cb1-123">Personalizzazione di routing degli URL, l'applicazione di esempio Wingtip Toys consente di collegare lo stesso prodotto con una più facile da leggere URL:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="c6cb1-124">Route</span><span class="sxs-lookup"><span data-stu-id="c6cb1-124">Routes</span></span>

<span data-ttu-id="c6cb1-125">Una route è un modello di URL che viene eseguito il mapping a un gestore.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="c6cb1-126">Il gestore può essere un file fisico, ad esempio un file in un'applicazione Web Form aspx.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="c6cb1-127">Un gestore può anche essere una classe che elabora la richiesta.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="c6cb1-128">Per definire una route, creare un'istanza della classe di Route, specificando il modello di URL, il gestore e facoltativamente un nome per la route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="c6cb1-129">Aggiungere la route per l'applicazione aggiungendo il `Route` oggetto statico `Routes` proprietà del `RouteTable` classe.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="c6cb1-130">La proprietà di route è una `RouteCollection` oggetto che archivia tutte le route per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="c6cb1-131">Modelli di URL</span><span class="sxs-lookup"><span data-stu-id="c6cb1-131">URL Patterns</span></span>

<span data-ttu-id="c6cb1-132">Un modello di URL può contenere valori letterali e segnaposto variabili (definiti parametri URL).</span><span class="sxs-lookup"><span data-stu-id="c6cb1-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="c6cb1-133">I valori letterali e segnaposto si trovano in segmenti di URL che sono delimitati da barre (`/`) caratteri.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="c6cb1-134">Quando viene effettuata una richiesta all'applicazione web, l'URL viene analizzato in segmenti e segnaposto e i valori delle variabili disponibili per il gestore di richieste.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="c6cb1-135">Questo processo è simile a quello che i dati in una stringa di query vengano analizzati e passati al gestore di richieste.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="c6cb1-136">In entrambi i casi, informazioni sulla variabile è incluso nell'URL e passati al gestore sotto forma di coppie chiave-valore.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="c6cb1-137">Per le stringhe di query, chiavi e i valori si trovano nell'URL.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="c6cb1-138">Per le route, le chiavi sono i nomi di segnaposto definiti nel modello di URL e solo i valori si trovano nell'URL.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="c6cb1-139">In un modello di URL, è possibile definire segnaposto racchiudendoli tra parentesi graffe ( `{` e `}` ).</span><span class="sxs-lookup"><span data-stu-id="c6cb1-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="c6cb1-140">È possibile definire più di un segnaposto in un segmento, ma i segnaposto devono essere separati da un valore letterale.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="c6cb1-141">Ad esempio, `{language}-{country}/{action}` è un modello di route valida.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="c6cb1-142">Tuttavia, `{language}{country}/{action}` non è valido, poiché non esiste alcun valore letterale o delimitatori tra i segnaposto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="c6cb1-143">Pertanto, il routing non può determinare il percorso di separare il valore del segnaposto della lingua dal valore del segnaposto del paese.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="c6cb1-144">Mapping e la registrazione delle route</span><span class="sxs-lookup"><span data-stu-id="c6cb1-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="c6cb1-145">Prima di poter includere le route per le pagine dell'applicazione di esempio Wingtip Toys, è necessario registrare le route all'avvio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="c6cb1-146">Per registrare le route, si modificherà il `Application_Start` gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="c6cb1-147">In **Esplora**di Visual Studio, trovare e aprire il *Global.asax.cs* file.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="c6cb1-148">Aggiungere il codice evidenziato in giallo per il *Global.asax.cs* file come segue:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="c6cb1-149">Quando viene avviata dell'applicazione di esempio Wingtip Toys, chiama il `Application_Start` gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="c6cb1-150">Alla fine di questo gestore dell'evento, il `RegisterCustomRoutes` metodo viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="c6cb1-151">Il `RegisterCustomRoutes` metodo aggiunge ogni route chiamando il `MapPageRoute` metodo il `RouteCollection` oggetto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="c6cb1-152">Le route vengono definite utilizzando un nome di route, un URL di route e un URL fisico.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="c6cb1-153">Il primo parametro ("`ProductsByCategoryRoute`") è il nome della route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="c6cb1-154">Consente di chiamare la route quando necessario.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="c6cb1-155">Il secondo parametro ("`Category/{categoryName}`") definisce la sostituzione descrittiva URL che possono essere dinamiche in base al codice.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="c6cb1-156">Utilizzare questo percorso quando si popola un controllo dati con i collegamenti che vengono generati in base ai dati.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="c6cb1-157">Una route viene visualizzata come segue:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="c6cb1-158">Il secondo parametro della route include un valore dinamico specificato da parentesi graffe (`{ }`).</span><span class="sxs-lookup"><span data-stu-id="c6cb1-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="c6cb1-159">In questo caso, il `categoryName` è una variabile che verrà utilizzata per determinare il percorso di routing corretto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="c6cb1-160">**Optional**</span><span class="sxs-lookup"><span data-stu-id="c6cb1-160">**Optional**</span></span>
> 
> <span data-ttu-id="c6cb1-161">Può risultare più semplice gestire il codice spostando il `RegisterCustomRoutes` metodo in una classe separata.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="c6cb1-162">Nel *logica* cartella, creare un apposito `RouteActions` classe.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="c6cb1-163">Spostare il precedente `RegisterCustomRoutes` metodo il *Global.asax.cs* file nel nuovo `RoutesActions` classe.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="c6cb1-164">Utilizzare il `RoleActions` classe e il `createAdmin` un esempio di come chiamare il metodo di `RegisterCustomRoutes` metodo il *Global.asax.cs* file.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>


<span data-ttu-id="c6cb1-165">Si può anche notare il `RegisterRoutes` metodo chiamata utilizzando il `RouteConfig` oggetto all'inizio del `Application_Start` gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="c6cb1-166">Questa chiamata viene eseguita per implementare il routing predefinito.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-166">This call is made to implement default routing.</span></span> <span data-ttu-id="c6cb1-167">È incluso come codice predefinito quando è stata creata l'applicazione utilizzando il modello di Web Form di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="c6cb1-168">Recupero e sull'utilizzo dei dati sull'itinerario</span><span class="sxs-lookup"><span data-stu-id="c6cb1-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="c6cb1-169">Come indicato in precedenza, è possibile definire le route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="c6cb1-170">Il codice aggiunto per il `Application_Start` gestore dell'evento nel *Global.asax.cs* file carica le route definibili.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="c6cb1-171">Impostazione delle route</span><span class="sxs-lookup"><span data-stu-id="c6cb1-171">Setting Routes</span></span>

<span data-ttu-id="c6cb1-172">Le route è necessario scrivere codice aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-172">Routes require you to add additional code.</span></span> <span data-ttu-id="c6cb1-173">In questa esercitazione si utilizzerà l'associazione di modelli per recuperare un `RouteValueDictionary` oggetto utilizzato durante la generazione delle route usando i dati di un controllo dati.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="c6cb1-174">Il `RouteValueDictionary` oggetto conterrà un elenco di nomi di prodotto che appartengono a una specifica categoria di prodotti.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="c6cb1-175">Viene creato un collegamento per ogni prodotto in base ai dati e una route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="c6cb1-176">Abilitare le route per le categorie e prodotti</span><span class="sxs-lookup"><span data-stu-id="c6cb1-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="c6cb1-177">Successivamente, si aggiornerà l'applicazione utilizzi la `ProductsByCategoryRoute` per determinare la route corretta da includere per ciascun collegamento di categoria di prodotto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="c6cb1-178">Sarà inoltre possibile aggiornare il *ProductList.aspx* pagina per includere un collegamento di routing per ogni prodotto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="c6cb1-179">I collegamenti verranno visualizzati come avveniva prima della modifica, tuttavia, i collegamenti verranno utilizzato il routing dell'URL.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="c6cb1-180">In **Esplora**, aprire il *Site. master* se non è già aperto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="c6cb1-181">Aggiornamento di **ListView** controllo denominato "`categoryList`" con le modifiche evidenziate in giallo, pertanto il markup viene visualizzato come segue:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="c6cb1-182">In **Esplora**, aprire il *ProductList.aspx* pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="c6cb1-183">Aggiornamento di `ItemTemplate` elemento del *ProductList.aspx* pagina con gli aggiornamenti evidenziati in giallo, pertanto il markup viene visualizzato come segue:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="c6cb1-184">Aprire il code-behind di *ProductList.aspx.cs* e aggiungere il seguente spazio dei nomi come evidenziato in giallo:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="c6cb1-185">Sostituire il `GetProducts` metodo code-behind (*ProductList.aspx.cs*) con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="c6cb1-186">Aggiungere codice per i dettagli sul prodotto</span><span class="sxs-lookup"><span data-stu-id="c6cb1-186">Add Code for Product Details</span></span>

<span data-ttu-id="c6cb1-187">A questo punto, aggiornare il code-behind (*ProductDetails.aspx.cs*) per il *ProductDetails.aspx* codici da utilizzare i dati della route.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="c6cb1-188">Si noti che il nuovo `GetProduct` accetta anche un valore di stringa di query per il caso in cui l'utente ha un collegamento con il segnalibro che utilizza l'URL non brevi, non indirizzate precedente.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="c6cb1-189">Sostituire il `GetProduct` metodo code-behind (*ProductDetails.aspx.cs*) con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="c6cb1-190">Esecuzione dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="c6cb1-190">Running the Application</span></span>

<span data-ttu-id="c6cb1-191">È possibile eseguire l'applicazione per visualizzare gli itinerari aggiornati.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="c6cb1-192">Premere **F5** per eseguire l'applicazione di esempio Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="c6cb1-193">Il browser viene visualizzata e viene illustrato il *Default.aspx* pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="c6cb1-194">Fare clic su di **prodotti** collegamento nella parte superiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="c6cb1-195">Tutti i prodotti vengono visualizzati di *ProductList.aspx* pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="c6cb1-196">Per il browser, viene visualizzato l'URL seguente (con il numero di porta):</span><span class="sxs-lookup"><span data-stu-id="c6cb1-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="c6cb1-197">Fare clic su, il **automobili** collegamento della categoria nella parte superiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="c6cb1-198">Vengono visualizzate solo automobili nel *ProductList.aspx* pagina.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="c6cb1-199">Per il browser, viene visualizzato l'URL seguente (con il numero di porta):</span><span class="sxs-lookup"><span data-stu-id="c6cb1-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="c6cb1-200">Fare clic sul collegamento contenente il nome della prima Auto elencato nella pagina ("**convertibili Car**") per visualizzare i dettagli del prodotto.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="c6cb1-201">Per il browser, viene visualizzato l'URL seguente (con il numero di porta):</span><span class="sxs-lookup"><span data-stu-id="c6cb1-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="c6cb1-202">Quindi, immettere l'URL seguente non indirizzate (utilizzando il numero di porta) nel browser:</span><span class="sxs-lookup"><span data-stu-id="c6cb1-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="c6cb1-203">Il codice è ancora riconosce un URL che include una stringa di query, nel caso in cui un utente dispone di un collegamento con il segnalibro.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="c6cb1-204">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="c6cb1-204">Summary</span></span>

<span data-ttu-id="c6cb1-205">In questa esercitazione è stata aggiunta una route per le categorie e i prodotti.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="c6cb1-206">Si è appreso come route possono essere integrate con i controlli di dati che utilizzano l'associazione del modello.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="c6cb1-207">Nella prossima esercitazione, verrà implementata la gestione degli errori globale.</span><span class="sxs-lookup"><span data-stu-id="c6cb1-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c6cb1-208">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="c6cb1-208">Additional Resources</span></span>

[<span data-ttu-id="c6cb1-209">URL brevi di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c6cb1-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="c6cb1-210">Distribuire un'App di moduli Web ASP.NET in modo sicuro con l'appartenenza, OAuth e il Database SQL al servizio App di Azure</span><span class="sxs-lookup"><span data-stu-id="c6cb1-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="c6cb1-211">Microsoft Azure - versione di valutazione gratuita</span><span class="sxs-lookup"><span data-stu-id="c6cb1-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

> [!div class="step-by-step"]
> <span data-ttu-id="c6cb1-212">[Precedente](membership-and-administration.md)
> [Successivo](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="c6cb1-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>
