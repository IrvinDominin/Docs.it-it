---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
title: Single Sign-On (creazione di applicazioni con Azure Cloud del mondo reale) | Documenti Microsoft
author: MikeWasson
description: Le App per Cloud mondo reale compilazione con e-book Azure si basa su una presentazione sviluppata da Scott Guthrie. Viene spiegato 13 modelli e procedure che è possibile...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/12/2014
ms.topic: article
ms.assetid: 7d82d5e9-0619-4f22-9e03-32a6d52940a5
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
msc.type: authoredcontent
ms.openlocfilehash: 82f2f99154d94074b03d580a0f491053d6f53bde
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/06/2018
ms.locfileid: "30873885"
---
<a name="single-sign-on-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="9f2c7-104">Single Sign-On (creazione di applicazioni Cloud reale in Azure)</span><span class="sxs-lookup"><span data-stu-id="9f2c7-104">Single Sign-On (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="9f2c7-105">dal [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="9f2c7-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="9f2c7-106">[Download correggerlo progetto](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) o [scaricare E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="9f2c7-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="9f2c7-107">Il **predefiniti reale World Cloud App con Azure** e-book è basato su una presentazione sviluppata da Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="9f2c7-108">Vengono descritte le 13 modelli e procedure consigliate che consentono di avere esito negativo con lo sviluppo di App web per il cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="9f2c7-109">Per informazioni sull'e-book, vedere [primo capitolo](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="9f2c7-110">Vi sono molti problemi di sicurezza da considerare quando si sta sviluppando un'applicazione cloud, ma per questa serie l'attenzione verrà posta su un solo: l'accesso single sign-on.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-110">There are many security issues to think about when you're developing a cloud app, but for this series we'll focus on just one: single sign-on.</span></span> <span data-ttu-id="9f2c7-111">Persone una domanda spesso chiedono è: "sono principalmente la creazione di App per i dipendenti della società; come ospitare le app nel cloud e attivarli utilizzare lo stesso modello di sicurezza che dipendenti conoscono e utilizzano nell'ambiente locale quando si eseguono applicazioni che sono ospitati all'interno del firewall?"</span><span class="sxs-lookup"><span data-stu-id="9f2c7-111">A question people often ask is this: "I'm primarily building apps for the employees of my company; how do I host these apps in the cloud and still enable them to use the same security model that my employees know and use in the on-premises environment when they're running apps that are hosted inside the firewall?"</span></span> <span data-ttu-id="9f2c7-112">Uno dei modi che è abilitare questo scenario viene chiamato Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-112">One of the ways we enable this scenario is called Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="9f2c7-113">Azure AD consente di rendere enterprise line-of-business (LOB) App disponibili su Internet e consente di rendere disponibili queste App ai partner commerciali nonché.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-113">Azure AD enables you to make enterprise line-of-business (LOB) apps available over the Internet, and it enables you to make these apps available to business partners as well.</span></span>

## <a name="introduction-to-azure-ad"></a><span data-ttu-id="9f2c7-114">Introduzione ad Azure AD</span><span class="sxs-lookup"><span data-stu-id="9f2c7-114">Introduction to Azure AD</span></span>

<span data-ttu-id="9f2c7-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) fornisce [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) nel cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) provides [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in the cloud.</span></span> <span data-ttu-id="9f2c7-116">Di seguito sono elencate le funzionalità principali:</span><span class="sxs-lookup"><span data-stu-id="9f2c7-116">Key features include the following:</span></span>

- <span data-ttu-id="9f2c7-117">Si integra con Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-117">It integrates with on-premises Active Directory.</span></span>
- <span data-ttu-id="9f2c7-118">Consente di single sign-on con App.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-118">It enables single sign-on with your apps.</span></span>
- <span data-ttu-id="9f2c7-119">Supporta gli standard aperti, ad esempio [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), e [OAuth 2.0](http://oauth.net/2/).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-119">It supports open standards such as [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), and [OAuth 2.0](http://oauth.net/2/).</span></span>
- <span data-ttu-id="9f2c7-120">Enterprise supporta [API REST Graph](https://msdn.microsoft.com/library/hh974476.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-120">It supports Enterprise [Graph REST API](https://msdn.microsoft.com/library/hh974476.aspx).</span></span>

<span data-ttu-id="9f2c7-121">Si supponga di che avere un ambiente di Windows Server Active Directory locale utilizzato per consentire ai dipendenti di accedere alle applicazioni Intranet:</span><span class="sxs-lookup"><span data-stu-id="9f2c7-121">Suppose you have an on-premises Windows Server Active Directory environment that you use to enable employees to sign on to Intranet apps:</span></span>

![](single-sign-on/_static/image1.png)

<span data-ttu-id="9f2c7-122">Azure AD consente di eseguire la creazione di una directory nel cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-122">What Azure AD enables you to do is create a directory in the cloud.</span></span> <span data-ttu-id="9f2c7-123">È una funzionalità disponibile gratuitamente e semplice da configurare.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-123">It's a free feature and easy to set up.</span></span>

<span data-ttu-id="9f2c7-124">Può essere completamente indipendente da Active Directory locale; è possibile inserire tutti gli utenti si desidera in essa contenuti e l'autenticazione in applicazioni Internet.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-124">It can be entirely independent from your on-premises Active Directory; you can put anyone you want in it and authenticate them in Internet apps.</span></span>

![Windows Azure Active Directory](single-sign-on/_static/image2.png)

<span data-ttu-id="9f2c7-126">Oppure è possibile integrarlo con locale Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-126">Or you can integrate it with your on-premises AD.</span></span>

![Active Directory e l'integrazione di WAAD](single-sign-on/_static/image3.png)

<span data-ttu-id="9f2c7-128">Ora tutti i dipendenti che possono eseguire l'autenticazione locale possono anche eseguire l'autenticazione tramite Internet senza dover aprire un firewall o distribuire tutti i nuovi server nel data center.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-128">Now all the employees who can authenticate on-premises can also authenticate over the Internet – without you having to open up a firewall or deploy any new servers in your data center.</span></span> <span data-ttu-id="9f2c7-129">È possibile continuare a sfruttare tutti l'ambiente Active Directory esistente che si conosce e utilizzare oggi per fornire l'App interne single sign-on funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-129">You can continue to leverage all the existing Active Directory environment that you know and use today to give your internal apps single-sign on capability.</span></span>

<span data-ttu-id="9f2c7-130">Dopo aver apportato questa connessione tra Active Directory e Azure AD, è inoltre possibile abilitare le app web e i dispositivi mobili per autenticare i dipendenti nel cloud ed è possibile abilitare le app di terze parti, ad esempio Office 365, SalesForce.com o Google apps, per accettare il credenziali dei dipendenti.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-130">Once you've made this connection between AD and Azure AD, you can also enable your web apps and your mobile devices to authenticate your employees in the cloud, and you can enable third-party apps, such as Office 365, SalesForce.com, or Google apps, to accept your employees' credentials.</span></span> <span data-ttu-id="9f2c7-131">Se si usa Office 365, sta già impostare con Azure AD Poiché Office 365 Usa Azure AD per l'autenticazione e autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-131">If you're using Office 365, you're already set up with Azure AD because Office 365 uses Azure AD for authentication and authorization.</span></span>

![app di terze parti 3rd](single-sign-on/_static/image4.png)

<span data-ttu-id="9f2c7-133">Il vantaggio di questo approccio è che ogni volta che l'organizzazione aggiunge o elimina un utente, o un utente modifica una password, utilizzare lo stesso processo utilizzato oggi nel proprio ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-133">The beauty of this approach is that any time your organization adds or deletes a user, or a user changes a password, you use the same process that you use today in your on-premises environment.</span></span> <span data-ttu-id="9f2c7-134">Tutti di locale vengono automaticamente propagate le modifiche di Active Directory nell'ambiente cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-134">All of your on-premises AD changes are automatically propagated to the cloud environment.</span></span>

<span data-ttu-id="9f2c7-135">Se la società utilizza o lo spostamento in Office 365, buone notizie consiste nel fatto che è necessario impostare automaticamente poiché Office 365 Usa Azure AD per l'autenticazione di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-135">If your company is using or moving to Office 365, the good news is that you'll have Azure AD set up automatically because Office 365 uses Azure AD for authentication.</span></span> <span data-ttu-id="9f2c7-136">Pertanto nelle proprie applicazioni è possibile utilizzare facilmente lo stesso di autenticazione che usa Office 365.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-136">So you can easily use in your own apps the same authentication that Office 365 uses.</span></span>

## <a name="set-up-an-azure-ad-tenant"></a><span data-ttu-id="9f2c7-137">Configurare un tenant di Azure AD</span><span class="sxs-lookup"><span data-stu-id="9f2c7-137">Set up an Azure AD tenant</span></span>

<span data-ttu-id="9f2c7-138">una directory di Azure AD viene chiamata un Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), e la configurazione di un tenant è piuttosto semplice.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-138">an Azure AD directory is called an Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), and setting up a tenant is pretty easy.</span></span> <span data-ttu-id="9f2c7-139">Vi mostreremo come viene eseguita nel portale di gestione di Azure per illustrare i concetti, ma ovviamente come le altre funzioni del portale è possibile anche farlo usando uno script o l'API di gestione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-139">We'll show you how it's done in the Azure Management Portal in order to illustrate the concepts, but of course like the other portal functions you can also do it by using a script or management API.</span></span>

<span data-ttu-id="9f2c7-140">Nel portale di gestione fare clic sulla scheda Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-140">In the management portal click the Active Directory tab.</span></span>

![Nel portale di WAAD](single-sign-on/_static/image5.png)

<span data-ttu-id="9f2c7-142">È automaticamente un tenant di Azure AD per l'account di Azure che è possibile scegliere di **Aggiungi** nella parte inferiore della pagina per creare directory aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-142">You automatically have one Azure AD tenant for your Azure account, and you can click the **Add** button at the bottom of the page to create additional directories.</span></span> <span data-ttu-id="9f2c7-143">È necessario uno per un ambiente di test e uno per la produzione, ad esempio.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-143">You might want one for a test environment and one for production, for example.</span></span> <span data-ttu-id="9f2c7-144">Considerare con attenzione che cos' denominare una nuova directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-144">Think carefully about what you name a new directory.</span></span> <span data-ttu-id="9f2c7-145">Se si utilizza il nome della directory e quindi utilizzare il nome del nuovo ad uno degli utenti, che può generare confusione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-145">If you use your name for the directory and then you use your name again for one of the users, that can be confusing.</span></span>

![Aggiungi directory](single-sign-on/_static/image6.png)

<span data-ttu-id="9f2c7-147">Il portale fornisce supporto completo per la creazione, eliminazione e gestione degli utenti all'interno di questo ambiente.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-147">The portal has full support for creating, deleting, and managing users within this environment.</span></span> <span data-ttu-id="9f2c7-148">Ad esempio, per aggiungere un utente, andare al **utenti** scheda e fare clic il **Aggiungi utente** pulsante.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-148">For example, to add a user go to the **Users** tab and click the **Add User** button.</span></span>

![Pulsante Aggiungi utente](single-sign-on/_static/image7.png)

![Finestra Aggiungi utente](single-sign-on/_static/image8.png)

<span data-ttu-id="9f2c7-151">È possibile creare un nuovo utente che esiste solo in questa directory oppure è possibile registrare un Account Microsoft come un utente in questa directory, o di registro o un utente da un'altra directory di Azure AD come utente in questa directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-151">You can create a new user who exists only in this directory, or you can register a Microsoft Account as a user in this directory, or register or a user from another Azure AD directory as a user in this directory.</span></span> <span data-ttu-id="9f2c7-152">(In una directory reale, il dominio predefinito sarebbe ContosoTest.onmicrosoft.com. È inoltre possibile utilizzare un dominio di propria scelta, ad esempio contoso.com.)</span><span class="sxs-lookup"><span data-stu-id="9f2c7-152">(In a real directory, the default domain would be ContosoTest.onmicrosoft.com. You can also use a domain of your own choosing, like contoso.com.)</span></span>

![Tipi di utente](single-sign-on/_static/image9.png)

![Finestra Aggiungi utente](single-sign-on/_static/image10.png)

<span data-ttu-id="9f2c7-155">È possibile assegnare l'utente a un ruolo.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-155">You can assign the user to a role.</span></span>

![Profilo utente](single-sign-on/_static/image11.png)

<span data-ttu-id="9f2c7-157">E l'account viene creato con una password temporanea.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-157">And the account is created with a temporary password.</span></span>

![Password temporanea](single-sign-on/_static/image12.png)

<span data-ttu-id="9f2c7-159">Create in questo modo gli utenti possono accedere immediatamente alle App web utilizzando la directory cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-159">The users you create this way can immediately log in to your web apps using this cloud directory.</span></span>

<span data-ttu-id="9f2c7-160">Che cos'è ideale per enterprise single sign-on, tuttavia, è il **integrazione Directory** scheda:</span><span class="sxs-lookup"><span data-stu-id="9f2c7-160">What's great for enterprise single sign-on, though, is the **Directory Integration** tab:</span></span>

![Nella scheda Integrazione directory](single-sign-on/_static/image13.png)

<span data-ttu-id="9f2c7-162">Se si abilita l'integrazione di directory, e [scaricare uno strumento](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), è possibile sincronizzare la directory cloud con l'ambiente locale Active Directory esistente che già in uso all'interno dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-162">If you enable directory integration, and [download a tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), you can sync this cloud directory with your existing on-premises Active Directory that you're already using inside your organization.</span></span> <span data-ttu-id="9f2c7-163">Quindi tutti gli utenti archiviati nella directory verrà visualizzata in questa directory cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-163">Then all of the users stored in your directory will show up in this cloud directory.</span></span> <span data-ttu-id="9f2c7-164">App cloud può ora eseguire l'autenticazione tutti i dipendenti utilizzando le credenziali di Active Directory esistente.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-164">Your cloud apps can now authenticate all of your employees using their existing Active Directory credentials.</span></span> <span data-ttu-id="9f2c7-165">E liberare tutto: sia lo strumento di sincronizzazione e di Azure Active Directory stessa.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-165">And all this is free – both the sync tool and Azure AD itself.</span></span>

<span data-ttu-id="9f2c7-166">Lo strumento è una procedura guidata che è facile da usare, come si può notare da queste schermate.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-166">The tool is a wizard that is easy to use, as you can see from these screen shots.</span></span> <span data-ttu-id="9f2c7-167">Non sono istruzioni complete, solo un esempio che mostra il processo di base.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-167">These are not complete instructions, just an example showing you the basic process.</span></span> <span data-ttu-id="9f2c7-168">Per ulteriori informazioni procedure-to--it, vedere i collegamenti nella [risorse](#resources) sezione alla fine del capitolo.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-168">For more detailed how-to-do-it information, see the links in the [Resources](#resources) section at the end of the chapter.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image14.png)

<span data-ttu-id="9f2c7-170">Fare clic su **Avanti**e quindi immettere le credenziali di Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-170">Click **Next**, and then enter your Azure Active Directory credentials.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image15.png)

<span data-ttu-id="9f2c7-172">Fare clic su **Avanti**, quindi immettere locale le credenziali di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-172">Click **Next**, and then enter your on-premises AD credentials.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image16.png)

<span data-ttu-id="9f2c7-174">Fare clic su **Avanti**e quindi indicare se si desidera archiviare un hash della password di Active Directory nel cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-174">Click **Next**, and then indicate if you want to store a hash of your AD passwords in the cloud.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image17.png)

<span data-ttu-id="9f2c7-176">L'hash della password che è possibile archiviare nel cloud è un hash unidirezionale; password non vengono mai archiviate in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-176">The password hash that you can store in the cloud is a one-way hash; actual passwords are never stored in Azure AD.</span></span> <span data-ttu-id="9f2c7-177">Se si decide di archiviazione degli hash nel cloud, sarà necessario utilizzare [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-177">If you decide against storing hashes in the cloud, you'll have to use [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span></span> <span data-ttu-id="9f2c7-178">Sono inoltre disponibili [ad altri fattori da considerare quando si sceglie di utilizzare ADFS o meno](https://technet.microsoft.com/library/jj573653.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-178">There are also [other factors to consider when choosing whether or not to use ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span></span> <span data-ttu-id="9f2c7-179">L'opzione di ADFS richiede alcuni passaggi di configurazione aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-179">The ADFS option requires a few additional configuration steps.</span></span>

<span data-ttu-id="9f2c7-180">Se si sceglie di archiviare l'hash nel cloud, è terminato e lo strumento si avvia la sincronizzazione delle directory quando si fa clic **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-180">If you choose to store hashes in the cloud, you're done, and the tool starts synchronizing directories when you click **Next**.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image18.png)

<span data-ttu-id="9f2c7-182">E in pochi minuti è terminato.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-182">And in a few minutes you're done.</span></span>

![Configurazione guidata dello strumento di sincronizzazione di WAAD](single-sign-on/_static/image19.png)

<span data-ttu-id="9f2c7-184">È necessario solo eseguire questo comando in un controller di dominio dell'organizzazione, in Windows 2003 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-184">You only have to run this on one domain controller in the organization, on Windows 2003 or higher.</span></span> <span data-ttu-id="9f2c7-185">E non è necessario riavviare il computer.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-185">And no need to reboot.</span></span> <span data-ttu-id="9f2c7-186">Quando è terminato, tutti gli utenti sono nel cloud ed è possibile eseguire single sign-on da qualsiasi web o applicazione per dispositivi mobili, tramite SAML, OAuth o WS-Fed.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-186">When you're done, all of your users are in the cloud and you can do single sign-on from any web or mobile application, using SAML, OAuth, or WS-Fed.</span></span>

<span data-ttu-id="9f2c7-187">In alcuni casi è spesso richiesto sulla modalità di protezione si tratta: utilizzato da Microsoft, per i propri dati aziendali sensibili?</span><span class="sxs-lookup"><span data-stu-id="9f2c7-187">Sometimes we get asked about how secure this is – does Microsoft use it for their own sensitive business data?</span></span> <span data-ttu-id="9f2c7-188">E la risposta è sì che facciamo.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-188">And the answer is yes we do.</span></span> <span data-ttu-id="9f2c7-189">Ad esempio, se si torna al sito interno Microsoft SharePoint [ https://microsoft.sharepoint.com/ ](https://microsoft.sharepoint.com/), viene richiesto di accedere.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-189">For example, if you go to the internal Microsoft SharePoint site at [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), you get prompted to log in.</span></span>

![Accedi Office 365](single-sign-on/_static/image20.png)

<span data-ttu-id="9f2c7-191">Microsoft ha abilitato ADFS, pertanto quando si immette un ID Microsoft, l'utente viene reindirizzato a una pagina di accesso di ADFS.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-191">Microsoft has enabled ADFS, so when you enter a Microsoft ID, you get redirected to an ADFS log-in page.</span></span>

![Accedi ad FS](single-sign-on/_static/image21.png)

<span data-ttu-id="9f2c7-193">E, dopo aver immesso le credenziali archiviate in un account Microsoft AD interno, si ha accesso a questa applicazione interna.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-193">And once you enter credentials stored in an internal Microsoft AD account, you have access to this internal application.</span></span>

![Sito di SharePoint MS](single-sign-on/_static/image22.png)

<span data-ttu-id="9f2c7-195">Si usa un server di accesso AD principalmente perché è già stato ADFS impostare prima di Azure AD è diventato disponibile, ma il processo di log viene eseguita tramite una directory di Azure AD nel cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-195">We're using an AD sign-in server mainly because we already had ADFS set up before Azure AD became available, but the log-in process is going through an Azure AD directory in the cloud.</span></span> <span data-ttu-id="9f2c7-196">Si inseriscono i documenti importanti, controllo del codice sorgente, file di gestione delle prestazioni, report sulle vendite e altre informazioni, nel cloud e si utilizza questa soluzione stesso esatto per proteggerli.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-196">We put our important documents, source control, performance management files, sales reports, and more, in the cloud and are using this exact same solution to secure them.</span></span>

## <a name="create-an-aspnet-app-that-uses-azure-ad-for-single-sign-on"></a><span data-ttu-id="9f2c7-197">Creare un'applicazione ASP.NET che usa Azure AD per single sign-on</span><span class="sxs-lookup"><span data-stu-id="9f2c7-197">Create an ASP.NET app that uses Azure AD for single sign-on</span></span>

<span data-ttu-id="9f2c7-198">Visual Studio rende molto semplice creare un'applicazione che utilizza Azure AD per single sign-on, come si può notare da qualche catture di schermata.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-198">Visual Studio makes it really easy to create an app that uses Azure AD for single sign-on, as you can see from a few screen shots.</span></span>

<span data-ttu-id="9f2c7-199">Quando si crea una nuova applicazione ASP.NET, MVC o Web Form, il metodo di autenticazione predefinito è l'identità di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-199">When you create a new ASP.NET application, either MVC or Web Forms, the default authentication method is ASP.NET Identity.</span></span> <span data-ttu-id="9f2c7-200">Per modificare che ad Azure AD, si fa clic su un **Modifica autenticazione** pulsante.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-200">To change that to Azure AD, you click a **Change Authentication** button.</span></span>

![Modifica autenticazione](single-sign-on/_static/image23.png)

<span data-ttu-id="9f2c7-202">Selezionare un account aziendale, immettere il nome di dominio e quindi selezionare Single Sign-On.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-202">Select Organizational Accounts, enter your domain name, and then select Single Sign On.</span></span>

![Configurare una finestra di dialogo autenticazione](single-sign-on/_static/image24.png)

<span data-ttu-id="9f2c7-204">È possibile inoltre consentire la lettura di app o accesso in lettura/scrittura per i dati di directory.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-204">You can also give the app read or read/write permission for directory data.</span></span> <span data-ttu-id="9f2c7-205">Se a tale scopo, è possibile utilizzare il [API REST Graph di Azure](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) per cercare il numero di telefono degli utenti, verificare che siano in ufficio, sono ora dell'ultimo accesso, e così via.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-205">If you do that, it can use the [Azure Graph REST API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) to look up users' phone number, find out if they're in the office, when they last logged on, etc.</span></span>

<span data-ttu-id="9f2c7-206">Questo è tutto che è necessario effettuare - Visual Studio chiede le credenziali per un amministratore tenant di Azure AD, e quindi Configura il progetto sia il tenant di Azure AD per la nuova applicazione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-206">That's all you have to do - Visual Studio asks for the credentials for an administrator for your Azure AD tenant, and then it configures both your project and your Azure AD tenant for the new application.</span></span>

<span data-ttu-id="9f2c7-207">Quando si esegue il progetto, si noterà una pagina di accesso ed è possibile accedere con credenziali di un utente nella directory di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-207">When you run the project, you'll see a sign-in page, and you can sign in with credentials of a user in your Azure AD directory.</span></span>

![Org account Accedi](single-sign-on/_static/image25.png)

![Connesso](single-sign-on/_static/image26.png)

<span data-ttu-id="9f2c7-210">Quando si distribuisce l'app in Azure, sarà sufficiente è selezionato un **Abilita autenticazione aziendale** casella di controllo e ancora una volta Visual Studio si occupa di tutta la configurazione per l'utente.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-210">When you deploy the app to Azure, all you have to do is select an **Enable Organizational Authentication** check box, and once again Visual Studio takes care of all the configuration for you.</span></span>

![Pubblicazione del sito Web](single-sign-on/_static/image27.png)

<span data-ttu-id="9f2c7-212">Questi screenshot provengono da un'esercitazione dettagliata completezza che illustra come compilare un'applicazione che utilizza l'autenticazione di Azure AD: [lo sviluppo di applicazioni ASP.NET con Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-212">These screen shots come from a complete step-by-step tutorial that shows how to build an app that uses Azure AD authentication: [Developing ASP.NET Apps with Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span></span>

## <a name="summary"></a><span data-ttu-id="9f2c7-213">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="9f2c7-213">Summary</span></span>

<span data-ttu-id="9f2c7-214">In questo capitolo è emerso che Azure Active Directory, Visual Studio e ASP.NET, semplificano impostare single sign-on in applicazioni di Internet per gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-214">In this chapter you saw that Azure Active Directory, Visual Studio, and ASP.NET, make it easy to set up single sign-on in Internet applications for your organization's users.</span></span> <span data-ttu-id="9f2c7-215">Gli utenti possono accedere in applicazioni Internet con le stesse credenziali che vengono utilizzare per l'accesso utilizzando Active Directory nella rete interna.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-215">Your users can sign on in Internet apps using the same credentials they use to sign on using Active Directory in your internal network.</span></span>

<span data-ttu-id="9f2c7-216">Il [capitolo successivo](data-storage-options.md) esamina le opzioni di archiviazione di dati disponibili per un'app cloud.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-216">The [next chapter](data-storage-options.md) looks at the data storage options available for a cloud app.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="9f2c7-217">Risorse</span><span class="sxs-lookup"><span data-stu-id="9f2c7-217">Resources</span></span>

<span data-ttu-id="9f2c7-218">Per altre informazioni, vedere le seguenti risorse:</span><span class="sxs-lookup"><span data-stu-id="9f2c7-218">For more information, see the following resources:</span></span>

- <span data-ttu-id="9f2c7-219">[Documentazione di Azure Active Directory](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-219">[Azure Active Directory Documentation](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="9f2c7-220">Pagina del portale per la documentazione di Azure AD nel sito Web windowsazure.com.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-220">Portal page for Azure AD documentation on the windowsazure.com site.</span></span> <span data-ttu-id="9f2c7-221">Per esercitazioni dettagliate, vedere il **sviluppare** sezione.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-221">For step by step tutorials, see the **Develop** section.</span></span>
- <span data-ttu-id="9f2c7-222">[Azure multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-222">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span></span> <span data-ttu-id="9f2c7-223">Pagina del portale per la documentazione sull'autenticazione a più fattori in Azure.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-223">Portal page for documentation about multi-factor authentication in Azure.</span></span>
- <span data-ttu-id="9f2c7-224">[Le opzioni di autenticazione account aziendale](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-224">[Organizational account authentication options](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span></span> <span data-ttu-id="9f2c7-225">Spiegazione delle opzioni di autenticazione di Azure AD nella finestra di dialogo Nuovo progetto Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-225">Explanation of the Azure AD authentication options in the Visual Studio 2013 new-project dialog.</span></span>
- <span data-ttu-id="9f2c7-226">[Microsoft Patterns and Practices - Federated Identity modello](https://msdn.microsoft.com/library/dn589790.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-226">[Microsoft Patterns and Practices - Federated Identity Pattern](https://msdn.microsoft.com/library/dn589790.aspx).</span></span>
- <span data-ttu-id="9f2c7-227">[Procedura: Installare lo strumento di sincronizzazione di Azure Active Directory](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-227">[HowTo: Install the Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span></span>
- <span data-ttu-id="9f2c7-228">[Active Directory Federation Services 2.0 mappa del contenuto](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-228">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span></span> <span data-ttu-id="9f2c7-229">Collegamenti alla documentazione su ad FS 2.0.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-229">Links to documentation about ADFS 2.0.</span></span>
- <span data-ttu-id="9f2c7-230">[Autorizzazione basata sui ruoli e su ACL in un'applicazione di Microsoft Azure AD](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-230">[Role-Based and ACL-Based Authorization in a Windows Azure AD Application](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span></span> <span data-ttu-id="9f2c7-231">Applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-231">Sample application.</span></span>
- <span data-ttu-id="9f2c7-232">[Blog di Azure Active Directory Graph API](https://blogs.msdn.com/b/aadgraphteam/).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-232">[Azure Active Directory Graph API blog](https://blogs.msdn.com/b/aadgraphteam/).</span></span>
- <span data-ttu-id="9f2c7-233">[Controllo dell'accesso in BYOD e integrazione di Directory in un'infrastruttura di identità ibrida](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span><span class="sxs-lookup"><span data-stu-id="9f2c7-233">[Access Control in BYOD and Directory Integration in a Hybrid Identity Infrastructure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span></span> <span data-ttu-id="9f2c7-234">Tech 2014 Ed sessione video da Gayana Bagdasaryan.</span><span class="sxs-lookup"><span data-stu-id="9f2c7-234">Tech Ed 2014 session video by Gayana Bagdasaryan.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9f2c7-235">[Precedente](web-development-best-practices.md)
> [Successivo](data-storage-options.md)</span><span class="sxs-lookup"><span data-stu-id="9f2c7-235">[Previous](web-development-best-practices.md)
[Next](data-storage-options.md)</span></span>
