---
title: Visualizzazioni parziali in ASP.NET Core
author: ardalis
description: Informazioni sulle visualizzazioni parziali, visualizzazioni il cui rendering viene eseguito all'interno di un'altra visualizzazione, e su quando devono essere usate nelle app ASP.NET Core.
ms.author: riande
ms.date: 03/14/2018
uid: mvc/views/partial
ms.openlocfilehash: f3782961a63c08293a483ec7a75dadff2031b131
ms.sourcegitcommit: a1afd04758e663d7062a5bfa8a0d4dca38f42afc
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 06/20/2018
ms.locfileid: "36279532"
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="002af-103">Visualizzazioni parziali in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="002af-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="002af-104">Di [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT) e [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="002af-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="002af-105">ASP.NET Core MVC supporta le visualizzazioni parziali, utili quando si dispone di parti riutilizzabili di pagine web che si desidera condividere tra diverse visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="002af-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="002af-106">[Visualizzare o scaricare il codice di esempio](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([procedura per il download](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="002af-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="002af-107">Che cosa sono le visualizzazioni parziali?</span><span class="sxs-lookup"><span data-stu-id="002af-107">What are Partial Views?</span></span>

<span data-ttu-id="002af-108">Una visualizzazione parziale è una visualizzazione resa in un'altra visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="002af-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="002af-109">L'output HTML generato tramite l'esecuzione della visualizzazione parziale viene reso nella visualizzazione di chiamata (o padre).</span><span class="sxs-lookup"><span data-stu-id="002af-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="002af-110">Analogamente alle visualizzazioni, le visualizzazioni parziali usano l'estensione *.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="002af-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="002af-111">Quando usare le visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="002af-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="002af-112">Le visualizzazioni parziali sono un modo efficace per suddividere le visualizzazioni di grandi dimensioni in componenti più piccoli.</span><span class="sxs-lookup"><span data-stu-id="002af-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="002af-113">Possono ridurre la duplicazione del contenuto della visualizzazione e consentire di riutilizzare elementi della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="002af-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="002af-114">Gli elementi comuni del layout devono essere specificati in [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="002af-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="002af-115">Il contenuto riutilizzabile non appartenente al layout può essere incapsulato in visualizzazioni parziali.</span><span class="sxs-lookup"><span data-stu-id="002af-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="002af-116">Nel caso di una pagina complessa composta da più parti logiche, può essere utile lavorare con ogni parte come visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="002af-117">Ogni parte della pagina può essere visualizzata separatamente dal resto della pagina e la visualizzazione della pagina diventa molto più semplice perché contiene solo la struttura generale della pagina e le chiamate per il rendering delle visualizzazioni parziali.</span><span class="sxs-lookup"><span data-stu-id="002af-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="002af-118">Suggerimento: nelle visualizzazioni seguire il [principio Don't Repeat Yourself](http://deviq.com/don-t-repeat-yourself/).</span><span class="sxs-lookup"><span data-stu-id="002af-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="002af-119">Dichiarazione delle visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="002af-119">Declaring Partial Views</span></span>

<span data-ttu-id="002af-120">Le visualizzazioni parziali vengono create come qualsiasi altra visualizzazione: creare un file *.cshtml* all'interno della cartella *Visualizzazioni*.</span><span class="sxs-lookup"><span data-stu-id="002af-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="002af-121">Non vi è differenza semantica tra una visualizzazione parziale e una visualizzazione normale: viene soltanto eseguito il rendering in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="002af-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="002af-122">È possibile creare una visualizzazione che viene restituita direttamente da un controller `ViewResult` e la stessa visualizzazione può essere usata come visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="002af-123">La differenza principale tra le modalità di rendering di una visualizzazione e di una visualizzazione parziale è che le visualizzazioni parziali non eseguono *_ViewStart.cshtml* (mentre le visualizzazioni lo eseguono - per altre informazioni su *_ViewStart.cshtml* vedere [Layout ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="002af-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="002af-124">Riferimento a una visualizzazione parziale</span><span class="sxs-lookup"><span data-stu-id="002af-124">Referencing a Partial View</span></span>

<span data-ttu-id="002af-125">All'interno di una pagina di visualizzazione esistono diversi modi in cui è possibile eseguire il rendering di una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="002af-126">La procedura consigliata consiste nell'uso di `Html.PartialAsync`, che restituisce `IHtmlString` e a cui è possibile fare riferimento facendo precedere la chiamata da `@`:</span><span class="sxs-lookup"><span data-stu-id="002af-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="002af-127">È possibile eseguire il rendering di una visualizzazione parziale con `RenderPartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="002af-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="002af-128">Questo metodo non restituisce un risultato, ma trasmette l'output sottoposto a rendering direttamente alla risposta.</span><span class="sxs-lookup"><span data-stu-id="002af-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="002af-129">Poiché non restituisce un risultato, deve essere chiamato all'interno di un blocco di codice Razor:</span><span class="sxs-lookup"><span data-stu-id="002af-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="002af-130">Poiché trasmette il risultato direttamente, `RenderPartialAsync` può offrire prestazioni superiori in alcuni scenari.</span><span class="sxs-lookup"><span data-stu-id="002af-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="002af-131">È tuttavia consigliabile usare `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="002af-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="002af-132">Esistono equivalenti sincroni di `Html.PartialAsync` (`Html.Partial`) e `Html.RenderPartialAsync` (`Html.RenderPartial`), ma non è consigliabile usarli perché in alcuni scenari creano un deadlock.</span><span class="sxs-lookup"><span data-stu-id="002af-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="002af-133">I metodi sincroni non saranno disponibili nelle versioni future.</span><span class="sxs-lookup"><span data-stu-id="002af-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="002af-134">Se le visualizzazioni richiedono l'esecuzione di codice, il criterio consigliato consiste nell'uso di un [componente di visualizzazione](view-components.md) anziché di una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="002af-135">Individuazione delle visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="002af-135">Partial View Discovery</span></span>

<span data-ttu-id="002af-136">Quando si fa riferimento a una visualizzazione parziale, è possibile fare riferimento alla sua posizione in diversi modi:</span><span class="sxs-lookup"><span data-stu-id="002af-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="002af-137">È possibile avere visualizzazioni parziali diverse con lo stesso nome in cartelle di visualizzazione diverse.</span><span class="sxs-lookup"><span data-stu-id="002af-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="002af-138">Quando si fa riferimento alle visualizzazioni in base al nome (senza estensione di file), le visualizzazioni in ogni cartella usano la visualizzazione parziale nella stessa cartella.</span><span class="sxs-lookup"><span data-stu-id="002af-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="002af-139">È inoltre possibile specificare una visualizzazione parziale predefinita da usare, collocandola nella cartella *Condiviso*.</span><span class="sxs-lookup"><span data-stu-id="002af-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="002af-140">La visualizzazione parziale condivisa verrà usata dalle visualizzazioni che non dispongono di una propria versione della visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="002af-141">È possibile creare una visualizzazione parziale predefinita (in *Condiviso*), che viene sottoposta a override da una visualizzazione parziale con lo stesso nome nella stessa cartella della visualizzazione padre.</span><span class="sxs-lookup"><span data-stu-id="002af-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="002af-142">Le visualizzazioni parziali possono essere *concatenate*.</span><span class="sxs-lookup"><span data-stu-id="002af-142">Partial views can be *chained*.</span></span> <span data-ttu-id="002af-143">Ovvero una visualizzazione parziale può chiamare un'altra visualizzazione parziale (a condizione di non creare un ciclo).</span><span class="sxs-lookup"><span data-stu-id="002af-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="002af-144">All'interno di ogni visualizzazione o visualizzazione parziale, i percorsi relativi sono sempre relativi a tale visualizzazione, non alla visualizzazione radice o padre.</span><span class="sxs-lookup"><span data-stu-id="002af-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="002af-145">Se si dichiara una `section` [Razor](razor.md) in una visualizzazione parziale, questa non sarà visibile alla/e relativa/e visualizzazione/i padre, ma sarà limitata alla visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="002af-146">Accesso ai dati da visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="002af-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="002af-147">Quando viene creata un'istanza di una visualizzazione parziale, le viene associata una copia del dizionario `ViewData` della visualizzazione padre.</span><span class="sxs-lookup"><span data-stu-id="002af-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="002af-148">Gli aggiornamenti apportati ai dati all'interno della visualizzazione parziale non vengono mantenuti per la visualizzazione padre.</span><span class="sxs-lookup"><span data-stu-id="002af-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="002af-149">Una modifica a `ViewData` in una visualizzazione parziale viene persa quando viene restituita la visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="002af-150">È possibile trasmettere un'istanza di `ViewDataDictionary` alla visualizzazione parziale:</span><span class="sxs-lookup"><span data-stu-id="002af-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="002af-151">È inoltre possibile trasmettere un modello in una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="002af-152">Può trattarsi del modello di visualizzazione della pagina o di un oggetto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="002af-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="002af-153">È possibile trasmettere un modello a `PartialAsync` o a `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="002af-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="002af-154">È possibile trasmettere un'istanza di `ViewDataDictionary` e un modello di visualizzazione a una visualizzazione parziale:</span><span class="sxs-lookup"><span data-stu-id="002af-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="002af-155">Il markup seguente mostra la visualizzazione *Views/Articles/Read.cshtml* contenente due visualizzazioni parziali.</span><span class="sxs-lookup"><span data-stu-id="002af-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="002af-156">La seconda visualizzazione parziale viene trasmessa a un modello e `ViewData` viene trasmesso alla visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="002af-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="002af-157">È possibile trasmettere nuovi dizionari `ViewData` mantenendo `ViewData` esistente se si usa l'overload del costrutto di `ViewDataDictionary` evidenziato di seguito:</span><span class="sxs-lookup"><span data-stu-id="002af-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="002af-158">*Views/Shared/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="002af-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="002af-159">*ArticleSection* parziale:</span><span class="sxs-lookup"><span data-stu-id="002af-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="002af-160">In fase di esecuzione, i parziali vengono sottoposti a rendering nella visualizzazione padre, di cui viene eseguito il rendering all'interno del *_Layout.cshtml* condiviso</span><span class="sxs-lookup"><span data-stu-id="002af-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![output di visualizzazione parziale](partial/_static/output.png)
