La chiamata a [AddIdentity](/dotnet/api/microsoft.extensions.dependencyinjection.identityservicecollectionextensions.addidentity) Configura le impostazioni di schema predefinito. Il [AddAuthentication(String)](/dotnet/api/microsoft.extensions.dependencyinjection.authenticationservicecollectionextensions.addauthentication#Microsoft_Extensions_DependencyInjection_AuthenticationServiceCollectionExtensions_AddAuthentication_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_String_) overload set il [DefaultScheme](/dotnet/api/microsoft.aspnetcore.authentication.authenticationoptions.defaultscheme) proprietà. Il [AddAuthentication (azione&lt;AuthenticationOptions&gt;)](/dotnet/api/microsoft.extensions.dependencyinjection.authenticationservicecollectionextensions.addauthentication#Microsoft_Extensions_DependencyInjection_AuthenticationServiceCollectionExtensions_AddAuthentication_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_Action_Microsoft_AspNetCore_Authentication_AuthenticationOptions__) overload consente di configurare le opzioni di autenticazione, che possono essere usate per impostare gli schemi di autenticazione predefinito per scopi diversi. Le chiamate successive alle `AddAuthentication` override configurato in precedenza [AuthenticationOptions](/dotnet/api/microsoft.aspnetcore.builder.authenticationoptions) proprietà.

[AuthenticationBuilder](/dotnet/api/microsoft.aspnetcore.authentication.authenticationbuilder) i metodi di estensione che registrano un gestore di autenticazione possono essere chiamati solo una volta per ogni schema di autenticazione. Sono presenti overload che consente di configurare le proprietà dello schema, nome dello schema e il nome visualizzato.
